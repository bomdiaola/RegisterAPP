(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9058:(Ct,me,P)=>{"use strict";P.d(me,{BH:()=>Oe,G6:()=>tt,L:()=>Ie,LL:()=>Xe,Pz:()=>ye,Sg:()=>Le,UG:()=>Me,ZB:()=>fe,ZR:()=>Ze,aH:()=>te,b$:()=>$e,eu:()=>we,hl:()=>he,jU:()=>Te,m9:()=>Lr,ne:()=>Gr,pd:()=>tn,r3:()=>dn,ru:()=>qe,tV:()=>se,uI:()=>ke,vZ:()=>Tt,w1:()=>$t,xO:()=>fr,xb:()=>qt,z$:()=>ve,zd:()=>$r});const U=function(Ge){const ie=[];let re=0;for(let Fe=0;Fe<Ge.length;Fe++){let ue=Ge.charCodeAt(Fe);ue<128?ie[re++]=ue:ue<2048?(ie[re++]=ue>>6|192,ie[re++]=63&ue|128):55296==(64512&ue)&&Fe+1<Ge.length&&56320==(64512&Ge.charCodeAt(Fe+1))?(ue=65536+((1023&ue)<<10)+(1023&Ge.charCodeAt(++Fe)),ie[re++]=ue>>18|240,ie[re++]=ue>>12&63|128,ie[re++]=ue>>6&63|128,ie[re++]=63&ue|128):(ie[re++]=ue>>12|224,ie[re++]=ue>>6&63|128,ie[re++]=63&ue|128)}return ie},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ge,ie){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let ue=0;ue<Ge.length;ue+=3){const Ue=Ge[ue],gt=ue+1<Ge.length,Vt=gt?Ge[ue+1]:0,Zt=ue+2<Ge.length,vn=Zt?Ge[ue+2]:0;let Vn=(15&Vt)<<2|vn>>6,Vr=63&vn;Zt||(Vr=64,gt||(Vn=64)),Fe.push(re[Ue>>2],re[(3&Ue)<<4|Vt>>4],re[Vn],re[Vr])}return Fe.join("")},encodeString(Ge,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(Ge):this.encodeByteArray(U(Ge),ie)},decodeString(Ge,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(Ge):function(Ge){const ie=[];let re=0,Fe=0;for(;re<Ge.length;){const ue=Ge[re++];if(ue<128)ie[Fe++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Ue=Ge[re++];ie[Fe++]=String.fromCharCode((31&ue)<<6|63&Ue)}else if(ue>239&&ue<365){const Zt=((7&ue)<<18|(63&Ge[re++])<<12|(63&Ge[re++])<<6|63&Ge[re++])-65536;ie[Fe++]=String.fromCharCode(55296+(Zt>>10)),ie[Fe++]=String.fromCharCode(56320+(1023&Zt))}else{const Ue=Ge[re++],gt=Ge[re++];ie[Fe++]=String.fromCharCode((15&ue)<<12|(63&Ue)<<6|63&gt)}}return ie.join("")}(this.decodeStringToByteArray(Ge,ie))},decodeStringToByteArray(Ge,ie){this.init_();const re=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let ue=0;ue<Ge.length;){const Ue=re[Ge.charAt(ue++)],Vt=ue<Ge.length?re[Ge.charAt(ue)]:0;++ue;const vn=ue<Ge.length?re[Ge.charAt(ue)]:64;++ue;const on=ue<Ge.length?re[Ge.charAt(ue)]:64;if(++ue,null==Ue||null==Vt||null==vn||null==on)throw new Z;Fe.push(Ue<<2|Vt>>4),64!==vn&&(Fe.push(Vt<<4&240|vn>>2),64!==on&&Fe.push(vn<<6&192|on))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(Ge){return function(Ge){const ie=U(Ge);return K.encodeByteArray(ie,!0)}(Ge).replace(/\./g,"")},se=function(Ge){try{return K.decodeString(Ge,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function fe(Ge,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return ie}for(const re in ie)!ie.hasOwnProperty(re)||!pe(re)||(Ge[re]=fe(Ge[re],ie[re]));return Ge}function pe(Ge){return"__proto__"!==Ge}const Ae=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ge=process.env.__FIREBASE_DEFAULTS__;return Ge?JSON.parse(Ge):void 0})()||(()=>{if(typeof document>"u")return;let Ge;try{Ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=Ge&&se(Ge[1]);return ie&&JSON.parse(ie)})()}catch(Ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ge}`)}},te=()=>{var Ge;return null===(Ge=Ae())||void 0===Ge?void 0:Ge.config},ye=Ge=>{var ie;return null===(ie=Ae())||void 0===ie?void 0:ie[`_${Ge}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,re)=>{this.resolve=ie,this.reject=re})}wrapCallback(ie){return(re,Fe)=>{re?this.reject(re):this.resolve(Fe),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(re):ie(re,Fe))}}}function Le(Ge,ie){if(Ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=ie||"demo-project",ue=Ge.iat||0,Ue=Ge.sub||Ge.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:ue,exp:ue+3600,auth_time:ue,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},Ge);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(gt)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Me(){var Ge;const ie=null===(Ge=Ae())||void 0===Ge?void 0:Ge.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Te(){return"object"==typeof self&&self.self===self}function qe(){const Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $t(){const Ge=ve();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0}function tt(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((Ge,ie)=>{try{let re=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Fe);ue.onsuccess=()=>{ue.result.close(),re||self.indexedDB.deleteDatabase(Fe),Ge(!0)},ue.onupgradeneeded=()=>{re=!1},ue.onerror=()=>{var Ue;ie((null===(Ue=ue.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(re){ie(re)}})}class Ze extends Error{constructor(ie,re,Fe){super(re),this.code=ie,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(ie,re,Fe){this.service=ie,this.serviceName=re,this.errors=Fe}create(ie,...re){const Fe=re[0]||{},ue=`${this.service}/${ie}`,Ue=this.errors[ie],gt=Ue?function Lt(Ge,ie){return Ge.replace(Ut,(re,Fe)=>{const ue=ie[Fe];return null!=ue?String(ue):`<${Fe}?>`})}(Ue,Fe):"Error";return new Ze(ue,`${this.serviceName}: ${gt} (${ue}).`,Fe)}}const Ut=/\{\$([^}]+)}/g;function dn(Ge,ie){return Object.prototype.hasOwnProperty.call(Ge,ie)}function qt(Ge){for(const ie in Ge)if(Object.prototype.hasOwnProperty.call(Ge,ie))return!1;return!0}function Tt(Ge,ie){if(Ge===ie)return!0;const re=Object.keys(Ge),Fe=Object.keys(ie);for(const ue of re){if(!Fe.includes(ue))return!1;const Ue=Ge[ue],gt=ie[ue];if(Qn(Ue)&&Qn(gt)){if(!Tt(Ue,gt))return!1}else if(Ue!==gt)return!1}for(const ue of Fe)if(!re.includes(ue))return!1;return!0}function Qn(Ge){return null!==Ge&&"object"==typeof Ge}function fr(Ge){const ie=[];for(const[re,Fe]of Object.entries(Ge))Array.isArray(Fe)?Fe.forEach(ue=>{ie.push(encodeURIComponent(re)+"="+encodeURIComponent(ue))}):ie.push(encodeURIComponent(re)+"="+encodeURIComponent(Fe));return ie.length?"&"+ie.join("&"):""}function $r(Ge){const ie={};return Ge.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[ue,Ue]=Fe.split("=");ie[decodeURIComponent(ue)]=decodeURIComponent(Ue)}}),ie}function tn(Ge){const ie=Ge.indexOf("?");if(!ie)return"";const re=Ge.indexOf("#",ie);return Ge.substring(ie,re>0?re:void 0)}function Gr(Ge,ie){const re=new cr(Ge,ie);return re.subscribe.bind(re)}class cr{constructor(ie,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{ie(this)}).catch(Fe=>{this.error(Fe)})}next(ie){this.forEachObserver(re=>{re.next(ie)})}error(ie){this.forEachObserver(re=>{re.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,re,Fe){let ue;if(void 0===ie&&void 0===re&&void 0===Fe)throw new Error("Missing Observer.");ue=function Ur(Ge,ie){if("object"!=typeof Ge||null===Ge)return!1;for(const re of ie)if(re in Ge&&"function"==typeof Ge[re])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:re,complete:Fe},void 0===ue.next&&(ue.next=Xn),void 0===ue.error&&(ue.error=Xn),void 0===ue.complete&&(ue.complete=Xn);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),Ue}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,ie)}sendOne(ie,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{re(this.observers[ie])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function Lr(Ge){return Ge&&Ge._delegate?Ge._delegate:Ge}},1774:(Ct,me,P)=>{"use strict";P.d(me,{c:()=>Qe});var g=P(6225),f=P(839);let V;const Q=ge=>ge.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K=ge=>(void 0===V&&(V=void 0===ge.style.animationName&&void 0!==ge.style.webkitAnimationName?"-webkit-":""),V),Z=(ge,Ae,je)=>{const ze=Ae.startsWith("animation")?K(ge):"";ge.style.setProperty(ze+Ae,je)},ne=(ge,Ae)=>{const je=Ae.startsWith("animation")?K(ge):"";ge.style.removeProperty(je+Ae)},W=[],Pe=(ge=[],Ae)=>{if(void 0!==Ae){const je=Array.isArray(Ae)?Ae:[Ae];return[...ge,...je]}return ge},Qe=ge=>{let Ae,je,ze,te,ye,Oe,Te,he,we,be,Ye,Ut,it,Le=[],ve=[],ke=[],Me=!1,qe={},$e=[],rt=[],$t={},Et=0,In=!1,tt=!1,Ze=!0,Xe=!1,Lt=!0,ut=!1;const dt=ge,vt=[],It=[],Wt=[],Xt=[],dn=[],fn=[],qt=[],sr=[],Tt=[],Qn=[],hr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,fr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&hr,tn=()=>Qn,Ur=(X,Re)=>((null!=Re&&Re.oneTimeCallback?It:vt).push({c:X,o:Re}),it),Cr=()=>{if(fr)Qn.forEach(X=>{X.cancel()}),Qn.length=0;else{const X=Wt.slice();(0,f.r)(()=>{X.forEach(Re=>{ne(Re,"animation-name"),ne(Re,"animation-duration"),ne(Re,"animation-timing-function"),ne(Re,"animation-iteration-count"),ne(Re,"animation-delay"),ne(Re,"animation-play-state"),ne(Re,"animation-fill-mode"),ne(Re,"animation-direction")})})}},pr=()=>{dn.forEach(X=>{null!=X&&X.parentNode&&X.parentNode.removeChild(X)}),dn.length=0},vi=()=>void 0!==ye?ye:Te?Te.getFill():"both",Lr=()=>void 0!==we?we:void 0!==Oe?Oe:Te?Te.getDirection():"normal",Ge=()=>In?"linear":void 0!==ze?ze:Te?Te.getEasing():"linear",ie=()=>tt?0:void 0!==be?be:void 0!==je?je:Te?Te.getDuration():0,re=()=>void 0!==te?te:Te?Te.getIterations():1,Fe=()=>void 0!==Ye?Ye:void 0!==Ae?Ae:Te?Te.getDelay():0,Nt=()=>{0!==Et&&(Et--,0===Et&&((()=>{Zi(),sr.forEach(lt=>lt()),Tt.forEach(lt=>lt());const X=Ze?1:0,Re=$e,Ve=rt,pt=$t;Wt.forEach(lt=>{const At=lt.classList;Re.forEach(Pt=>At.add(Pt)),Ve.forEach(Pt=>At.remove(Pt));for(const Pt in pt)pt.hasOwnProperty(Pt)&&Z(lt,Pt,pt[Pt])}),vt.forEach(lt=>lt.c(X,it)),It.forEach(lt=>lt.c(X,it)),It.length=0,Lt=!0,Ze&&(Xe=!0),Ze=!0})(),Te&&Te.animationFinish()))},gn=(X=!0)=>{pr();const Re=(ge=>(ge.forEach(Ae=>{for(const je in Ae)if(Ae.hasOwnProperty(je)){const ze=Ae[je];if("easing"===je)Ae["animation-timing-function"]=ze,delete Ae[je];else{const te=Q(je);te!==je&&(Ae[te]=ze,delete Ae[je])}}}),ge))(Le);Wt.forEach(Ve=>{if(Re.length>0){const pt=((ge=[])=>ge.map(Ae=>{const je=Ae.offset,ze=[];for(const te in Ae)Ae.hasOwnProperty(te)&&"offset"!==te&&ze.push(`${te}: ${Ae[te]};`);return`${100*je}% { ${ze.join(" ")} }`}).join(" "))(Re);Ut=void 0!==ge?ge:(ge=>{let Ae=W.indexOf(ge);return Ae<0&&(Ae=W.push(ge)-1),`ion-animation-${Ae}`})(pt);const lt=((ge,Ae,je)=>{var ze;const te=(ge=>{const Ae=void 0!==ge.getRootNode?ge.getRootNode():ge;return Ae.head||Ae})(je),ye=K(je),Oe=te.querySelector("#"+ge);if(Oe)return Oe;const Le=(null!==(ze=je.ownerDocument)&&void 0!==ze?ze:document).createElement("style");return Le.id=ge,Le.textContent=`@${ye}keyframes ${ge} { ${Ae} } @${ye}keyframes ${ge}-alt { ${Ae} }`,te.appendChild(Le),Le})(Ut,pt,Ve);dn.push(lt),Z(Ve,"animation-duration",`${ie()}ms`),Z(Ve,"animation-timing-function",Ge()),Z(Ve,"animation-delay",`${Fe()}ms`),Z(Ve,"animation-fill-mode",vi()),Z(Ve,"animation-direction",Lr());const At=re()===1/0?"infinite":re().toString();Z(Ve,"animation-iteration-count",At),Z(Ve,"animation-play-state","paused"),X&&Z(Ve,"animation-name",`${lt.id}-alt`),(0,f.r)(()=>{Z(Ve,"animation-name",lt.id||null)})}})},rn=(X=!0)=>{(()=>{fn.forEach(pt=>pt()),qt.forEach(pt=>pt());const X=ve,Re=ke,Ve=qe;Wt.forEach(pt=>{const lt=pt.classList;X.forEach(At=>lt.add(At)),Re.forEach(At=>lt.remove(At));for(const At in Ve)Ve.hasOwnProperty(At)&&Z(pt,At,Ve[At])})})(),Le.length>0&&(fr?(Wt.forEach(X=>{const Re=X.animate(Le,{id:dt,delay:Fe(),duration:ie(),easing:Ge(),iterations:re(),fill:vi(),direction:Lr()});Re.pause(),Qn.push(Re)}),Qn.length>0&&(Qn[0].onfinish=()=>{Nt()})):gn(X)),Me=!0},Wn=X=>{if(X=Math.min(Math.max(X,0),.9999),fr)Qn.forEach(Re=>{Re.currentTime=Re.effect.getComputedTiming().delay+ie()*X,Re.pause()});else{const Re=`-${ie()*X}ms`;Wt.forEach(Ve=>{Le.length>0&&(Z(Ve,"animation-delay",Re),Z(Ve,"animation-play-state","paused"))})}},wr=X=>{Qn.forEach(Re=>{Re.effect.updateTiming({delay:Fe(),duration:ie(),easing:Ge(),iterations:re(),fill:vi(),direction:Lr()})}),void 0!==X&&Wn(X)},Pr=(X=!0,Re)=>{(0,f.r)(()=>{Wt.forEach(Ve=>{Z(Ve,"animation-name",Ut||null),Z(Ve,"animation-duration",`${ie()}ms`),Z(Ve,"animation-timing-function",Ge()),Z(Ve,"animation-delay",void 0!==Re?`-${Re*ie()}ms`:`${Fe()}ms`),Z(Ve,"animation-fill-mode",vi()||null),Z(Ve,"animation-direction",Lr()||null);const pt=re()===1/0?"infinite":re().toString();Z(Ve,"animation-iteration-count",pt),X&&Z(Ve,"animation-name",`${Ut}-alt`),(0,f.r)(()=>{Z(Ve,"animation-name",Ut||null)})})})},oi=(X=!1,Re=!0,Ve)=>(X&&Xt.forEach(pt=>{pt.update(X,Re,Ve)}),fr?wr(Ve):Pr(Re,Ve),it),ns=()=>{Me&&(fr?Qn.forEach(X=>{X.pause()}):Wt.forEach(X=>{Z(X,"animation-play-state","paused")}),ut=!0)},xr=()=>{he=void 0,Nt()},Zi=()=>{he&&clearTimeout(he)},Vi=X=>new Promise(Re=>{null!=X&&X.sync&&(tt=!0,Ur(()=>tt=!1,{oneTimeCallback:!0})),Me||rn(),Xe&&(fr?(Wn(0),wr()):Pr(),Xe=!1),Lt&&(Et=Xt.length+1,Lt=!1),Ur(()=>Re(),{oneTimeCallback:!0}),Xt.forEach(Ve=>{Ve.play()}),fr?(Qn.forEach(X=>{X.play()}),(0===Le.length||0===Wt.length)&&Nt()):(()=>{if(Zi(),(0,f.r)(()=>{Wt.forEach(X=>{Le.length>0&&Z(X,"animation-play-state","running")})}),0===Le.length||0===Wt.length)Nt();else{const X=Fe()||0,Re=ie()||0,Ve=re()||1;isFinite(Ve)&&(he=setTimeout(xr,X+Re*Ve+100)),((ge,Ae)=>{let je;const ze={passive:!0},ye=Oe=>{ge===Oe.target&&(je&&je(),Zi(),(0,f.r)(()=>{Wt.forEach(X=>{ne(X,"animation-duration"),ne(X,"animation-delay"),ne(X,"animation-play-state")}),(0,f.r)(Nt)}))};ge&&(ge.addEventListener("webkitAnimationEnd",ye,ze),ge.addEventListener("animationend",ye,ze),je=()=>{ge.removeEventListener("webkitAnimationEnd",ye,ze),ge.removeEventListener("animationend",ye,ze)})})(Wt[0])}})(),ut=!1}),ji=(X,Re)=>{const Ve=Le[0];return void 0===Ve||void 0!==Ve.offset&&0!==Ve.offset?Le=[{offset:0,[X]:Re},...Le]:Ve[X]=Re,it};return it={parentAnimation:Te,elements:Wt,childAnimations:Xt,id:dt,animationFinish:Nt,from:ji,to:(X,Re)=>{const Ve=Le[Le.length-1];return void 0===Ve||void 0!==Ve.offset&&1!==Ve.offset?Le=[...Le,{offset:1,[X]:Re}]:Ve[X]=Re,it},fromTo:(X,Re,Ve)=>ji(X,Re).to(X,Ve),parent:X=>(Te=X,it),play:Vi,pause:()=>(Xt.forEach(X=>{X.pause()}),ns(),it),stop:()=>{Xt.forEach(X=>{X.stop()}),Me&&(Cr(),Me=!1),In=!1,tt=!1,Lt=!0,we=void 0,be=void 0,Ye=void 0,Et=0,Xe=!1,Ze=!0,ut=!1},destroy:X=>(Xt.forEach(Re=>{Re.destroy(X)}),(X=>{Cr(),X&&pr()})(X),Wt.length=0,Xt.length=0,Le.length=0,vt.length=0,It.length=0,Me=!1,Lt=!0,it),keyframes:X=>{const Re=Le!==X;return Le=X,Re&&(X=>{fr?tn().forEach(Re=>{if(Re.effect.setKeyframes)Re.effect.setKeyframes(X);else{const Ve=new KeyframeEffect(Re.effect.target,X,Re.effect.getTiming());Re.effect=Ve}}):gn()})(Le),it},addAnimation:X=>{if(null!=X)if(Array.isArray(X))for(const Re of X)Re.parent(it),Xt.push(Re);else X.parent(it),Xt.push(X);return it},addElement:X=>{if(null!=X)if(1===X.nodeType)Wt.push(X);else if(X.length>=0)for(let Re=0;Re<X.length;Re++)Wt.push(X[Re]);else console.error("Invalid addElement value");return it},update:oi,fill:X=>(ye=X,oi(!0),it),direction:X=>(Oe=X,oi(!0),it),iterations:X=>(te=X,oi(!0),it),duration:X=>(!fr&&0===X&&(X=1),je=X,oi(!0),it),easing:X=>(ze=X,oi(!0),it),delay:X=>(Ae=X,oi(!0),it),getWebAnimations:tn,getKeyframes:()=>Le,getFill:vi,getDirection:Lr,getDelay:Fe,getIterations:re,getEasing:Ge,getDuration:ie,afterAddRead:X=>(sr.push(X),it),afterAddWrite:X=>(Tt.push(X),it),afterClearStyles:(X=[])=>{for(const Re of X)$t[Re]="";return it},afterStyles:(X={})=>($t=X,it),afterRemoveClass:X=>(rt=Pe(rt,X),it),afterAddClass:X=>($e=Pe($e,X),it),beforeAddRead:X=>(fn.push(X),it),beforeAddWrite:X=>(qt.push(X),it),beforeClearStyles:(X=[])=>{for(const Re of X)qe[Re]="";return it},beforeStyles:(X={})=>(qe=X,it),beforeRemoveClass:X=>(ke=Pe(ke,X),it),beforeAddClass:X=>(ve=Pe(ve,X),it),onFinish:Ur,isRunning:()=>0!==Et&&!ut,progressStart:(X=!1,Re)=>(Xt.forEach(Ve=>{Ve.progressStart(X,Re)}),ns(),In=X,Me||rn(),oi(!1,!0,Re),it),progressStep:X=>(Xt.forEach(Re=>{Re.progressStep(X)}),Wn(X),it),progressEnd:(X,Re,Ve)=>(In=!1,Xt.forEach(pt=>{pt.progressEnd(X,Re,Ve)}),void 0!==Ve&&(be=Ve),Xe=!1,Ze=!0,0===X?(we="reverse"===Lr()?"normal":"reverse","reverse"===we&&(Ze=!1),fr?(oi(),Wn(1-Re)):(Ye=(1-Re)*ie()*-1,oi(!1,!1))):1===X&&(fr?(oi(),Wn(Re)):(Ye=Re*ie()*-1,oi(!1,!1))),void 0!==X&&(Ur(()=>{be=void 0,we=void 0,Ye=void 0},{oneTimeCallback:!0}),Te||Vi()),it)}}},3365:(Ct,me,P)=>{"use strict";P.d(me,{E:()=>se,a:()=>g,s:()=>ne});const g=W=>{try{if(W instanceof Z)return W.value;if(!U()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const fe=document.createDocumentFragment(),pe=document.createElement("div");fe.appendChild(pe),pe.innerHTML=W,K.forEach(ge=>{const Ae=fe.querySelectorAll(ge);for(let je=Ae.length-1;je>=0;je--){const ze=Ae[je];ze.parentNode?ze.parentNode.removeChild(ze):fe.removeChild(ze);const te=V(ze);for(let ye=0;ye<te.length;ye++)f(te[ye])}});const De=V(fe);for(let ge=0;ge<De.length;ge++)f(De[ge]);const Pe=document.createElement("div");Pe.appendChild(fe);const Qe=Pe.querySelector("div");return null!==Qe?Qe.innerHTML:Pe.innerHTML}catch(fe){return console.error(fe),""}},f=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let pe=W.attributes.length-1;pe>=0;pe--){const De=W.attributes.item(pe),Pe=De.name;if(!Q.includes(Pe.toLowerCase())){W.removeAttribute(Pe);continue}const Qe=De.value,ge=W[Pe];(null!=Qe&&Qe.toLowerCase().includes("javascript:")||null!=ge&&ge.toLowerCase().includes("javascript:"))&&W.removeAttribute(Pe)}const fe=V(W);for(let pe=0;pe<fe.length;pe++)f(fe[pe])},V=W=>null!=W.children?W.children:W.childNodes,U=()=>{var W;const fe=window,pe=null===(W=null==fe?void 0:fe.Ionic)||void 0===W?void 0:W.config;return!pe||(pe.get?pe.get("sanitizerEnabled",!0):!0===pe.sanitizerEnabled||void 0===pe.sanitizerEnabled)},Q=["class","id","href","src","name","slot"],K=["script","style","iframe","meta","link","object","embed"];class Z{constructor(fe){this.value=fe}}const ne=W=>{const fe=window,pe=fe.Ionic;if(!pe||!pe.config||"Object"===pe.config.constructor.name)return fe.Ionic=fe.Ionic||{},fe.Ionic.config=Object.assign(Object.assign({},fe.Ionic.config),W),fe.Ionic.config},se=!1},5149:(Ct,me,P)=>{"use strict";P.d(me,{g:()=>g});const g=(K,Z,ne,Ie,se)=>V(K[1],Z[1],ne[1],Ie[1],se).map(W=>f(K[0],Z[0],ne[0],Ie[0],W)),f=(K,Z,ne,Ie,se)=>se*(3*Z*Math.pow(se-1,2)+se*(-3*ne*se+3*ne+Ie*se))-K*Math.pow(se-1,3),V=(K,Z,ne,Ie,se)=>Q((Ie-=se)-3*(ne-=se)+3*(Z-=se)-(K-=se),3*ne-6*Z+3*K,3*Z-3*K,K).filter(fe=>fe>=0&&fe<=1),Q=(K,Z,ne,Ie)=>{if(0===K)return((K,Z,ne)=>{const Ie=Z*Z-4*K*ne;return Ie<0?[]:[(-Z+Math.sqrt(Ie))/(2*K),(-Z-Math.sqrt(Ie))/(2*K)]})(Z,ne,Ie);const se=(3*(ne/=K)-(Z/=K)*Z)/3,W=(2*Z*Z*Z-9*Z*ne+27*(Ie/=K))/27;if(0===se)return[Math.pow(-W,1/3)];if(0===W)return[Math.sqrt(-se),-Math.sqrt(-se)];const fe=Math.pow(W/2,2)+Math.pow(se/3,3);if(0===fe)return[Math.pow(W/2,.5)-Z/3];if(fe>0)return[Math.pow(-W/2+Math.sqrt(fe),1/3)-Math.pow(W/2+Math.sqrt(fe),1/3)-Z/3];const pe=Math.sqrt(Math.pow(-se/3,3)),De=Math.acos(-W/(2*Math.sqrt(Math.pow(-se/3,3)))),Pe=2*Math.pow(pe,1/3);return[Pe*Math.cos(De/3)-Z/3,Pe*Math.cos((De+2*Math.PI)/3)-Z/3,Pe*Math.cos((De+4*Math.PI)/3)-Z/3]}},6559:(Ct,me,P)=>{"use strict";P.d(me,{C:()=>Q,a:()=>V,d:()=>U});var g=P(5861),f=P(839);const V=function(){var K=(0,g.Z)(function*(Z,ne,Ie,se,W,fe){var pe;if(Z)return Z.attachViewToDom(ne,Ie,W,se);if(!(fe||"string"==typeof Ie||Ie instanceof HTMLElement))throw new Error("framework delegate is missing");const De="string"==typeof Ie?null===(pe=ne.ownerDocument)||void 0===pe?void 0:pe.createElement(Ie):Ie;return se&&se.forEach(Pe=>De.classList.add(Pe)),W&&Object.assign(De,W),ne.appendChild(De),yield new Promise(Pe=>(0,f.c)(De,Pe)),De});return function(ne,Ie,se,W,fe,pe){return K.apply(this,arguments)}}(),U=(K,Z)=>{if(Z){if(K)return K.removeViewFromDom(Z.parentElement,Z);Z.remove()}return Promise.resolve()},Q=()=>{let K,Z;return{attachViewToDom:function(){var se=(0,g.Z)(function*(W,fe,pe={},De=[]){var Pe,Qe;let ge;if(K=W,fe){const je="string"==typeof fe?null===(Pe=K.ownerDocument)||void 0===Pe?void 0:Pe.createElement(fe):fe;De.forEach(ze=>je.classList.add(ze)),Object.assign(je,pe),K.appendChild(je),ge=je,yield new Promise(ze=>(0,f.c)(je,ze))}else if(K.children.length>0&&("ION-MODAL"===K.tagName||"ION-POPOVER"===K.tagName)&&!(ge=K.children[0]).classList.contains("ion-delegate-host")){const ze=null===(Qe=K.ownerDocument)||void 0===Qe?void 0:Qe.createElement("div");ze.classList.add("ion-delegate-host"),De.forEach(te=>ze.classList.add(te)),ze.append(...K.children),K.appendChild(ze),ge=ze}const Ae=document.querySelector("ion-app")||document.body;return Z=document.createComment("ionic teleport"),K.parentNode.insertBefore(Z,K),Ae.appendChild(K),null!=ge?ge:K});return function(fe,pe){return se.apply(this,arguments)}}(),removeViewFromDom:()=>(K&&Z&&(Z.parentNode.insertBefore(K,Z),Z.remove()),Promise.resolve())}}},619:(Ct,me,P)=>{"use strict";P.d(me,{G:()=>Q});class f{constructor(Z,ne,Ie,se,W){this.id=ne,this.name=Ie,this.disableScroll=W,this.priority=1e6*se+ne,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(Z,ne,Ie,se){this.id=ne,this.disable=Ie,this.disableScroll=se,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const U="backdrop-no-scroll",Q=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var ne;return new f(this,this.newID(),Z.name,null!==(ne=Z.priority)&&void 0!==ne?ne:0,!!Z.disableScroll)}createBlocker(Z={}){return new V(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,ne,Ie){return this.canStart(Z)?(this.requestedStart.set(ne,Ie),!0):(this.requestedStart.delete(ne),!1)}capture(Z,ne,Ie){if(!this.start(Z,ne,Ie))return!1;const se=this.requestedStart;let W=-1e4;if(se.forEach(fe=>{W=Math.max(W,fe)}),W===Ie){this.capturedId=ne,se.clear();const fe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(fe),!0}return se.delete(ne),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,ne){let Ie=this.disabledGestures.get(Z);void 0===Ie&&(Ie=new Set,this.disabledGestures.set(Z,Ie)),Ie.add(ne)}enableGesture(Z,ne){const Ie=this.disabledGestures.get(Z);void 0!==Ie&&Ie.delete(ne)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add(U)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove(U)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const ne=this.disabledGestures.get(Z);return!!(ne&&ne.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(Ct,me,P)=>{"use strict";P.r(me),P.d(me,{MENU_BACK_BUTTON_PRIORITY:()=>Q,OVERLAY_BACK_BUTTON_PRIORITY:()=>U,blockHardwareBackButton:()=>f,startHardwareBackButton:()=>V});var g=P(5861);const f=()=>{document.addEventListener("backbutton",()=>{})},V=()=>{const K=document;let Z=!1;K.addEventListener("backbutton",()=>{if(Z)return;let ne=0,Ie=[];const se=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(pe,De){Ie.push({priority:pe,handler:De,id:ne++})}}});K.dispatchEvent(se);const W=function(){var pe=(0,g.Z)(function*(De){try{if(null!=De&&De.handler){const Pe=De.handler(fe);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return pe.apply(this,arguments)}}(),fe=()=>{if(Ie.length>0){let pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ie.forEach(De=>{De.priority>=pe.priority&&(pe=De)}),Z=!0,Ie=Ie.filter(De=>De.id!==pe.id),W(pe).then(()=>Z=!1)}};fe()})},U=100,Q=99},839:(Ct,me,P)=>{"use strict";P.d(me,{a:()=>ne,b:()=>Ie,c:()=>V,d:()=>Qe,e:()=>Pe,f:()=>De,g:()=>se,h:()=>pe,i:()=>Z,j:()=>ye,k:()=>Q,l:()=>ge,m:()=>U,n:()=>fe,o:()=>Ae,p:()=>te,q:()=>Oe,r:()=>W,s:()=>Le,t:()=>g,u:()=>je,v:()=>ze});const g=(ve,ke=0)=>new Promise(Me=>{f(ve,ke,Me)}),f=(ve,ke=0,Me)=>{let Te,qe;const $e={passive:!0},$t=()=>{Te&&Te()},Et=In=>{(void 0===In||ve===In.target)&&($t(),Me(In))};return ve&&(ve.addEventListener("webkitTransitionEnd",Et,$e),ve.addEventListener("transitionend",Et,$e),qe=setTimeout(Et,ke+500),Te=()=>{qe&&(clearTimeout(qe),qe=void 0),ve.removeEventListener("webkitTransitionEnd",Et,$e),ve.removeEventListener("transitionend",Et,$e)}),$t},V=(ve,ke)=>{ve.componentOnReady?ve.componentOnReady().then(Me=>ke(Me)):W(()=>ke(ve))},U=ve=>void 0!==ve.componentOnReady,Q=(ve,ke=[])=>{const Me={};return ke.forEach(Te=>{ve.hasAttribute(Te)&&(null!==ve.getAttribute(Te)&&(Me[Te]=ve.getAttribute(Te)),ve.removeAttribute(Te))}),Me},K=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Z=(ve,ke)=>{let Me=K;return ke&&ke.length>0&&(Me=Me.filter(Te=>!ke.includes(Te))),Q(ve,Me)},ne=(ve,ke,Me,Te)=>{var qe;if(typeof window<"u"){const $e=window,rt=null===(qe=null==$e?void 0:$e.Ionic)||void 0===qe?void 0:qe.config;if(rt){const $t=rt.get("_ael");if($t)return $t(ve,ke,Me,Te);if(rt._ael)return rt._ael(ve,ke,Me,Te)}}return ve.addEventListener(ke,Me,Te)},Ie=(ve,ke,Me,Te)=>{var qe;if(typeof window<"u"){const $e=window,rt=null===(qe=null==$e?void 0:$e.Ionic)||void 0===qe?void 0:qe.config;if(rt){const $t=rt.get("_rel");if($t)return $t(ve,ke,Me,Te);if(rt._rel)return rt._rel(ve,ke,Me,Te)}}return ve.removeEventListener(ke,Me,Te)},se=(ve,ke=ve)=>ve.shadowRoot||ke,W=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve),fe=ve=>!!ve.shadowRoot&&!!ve.attachShadow,pe=ve=>{const ke=ve.closest("ion-item");return ke?ke.querySelector("ion-label"):null},De=ve=>{if(ve.focus(),ve.classList.contains("ion-focusable")){const ke=ve.closest("ion-app");ke&&ke.setFocus([ve])}},Pe=(ve,ke)=>{let Me;const Te=ve.getAttribute("aria-labelledby"),qe=ve.id;let $e=null!==Te&&""!==Te.trim()?Te:ke+"-lbl",rt=null!==Te&&""!==Te.trim()?document.getElementById(Te):pe(ve);return rt?(null===Te&&(rt.id=$e),Me=rt.textContent,rt.setAttribute("aria-hidden","true")):""!==qe.trim()&&(rt=document.querySelector(`label[for="${qe}"]`),rt&&(""!==rt.id?$e=rt.id:rt.id=$e=`${qe}-lbl`,Me=rt.textContent)),{label:rt,labelId:$e,labelText:Me}},Qe=(ve,ke,Me,Te,qe)=>{if(ve||fe(ke)){let $e=ke.querySelector("input.aux-input");$e||($e=ke.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),ke.appendChild($e)),$e.disabled=qe,$e.name=Me,$e.value=Te||""}},ge=(ve,ke,Me)=>Math.max(ve,Math.min(ke,Me)),Ae=(ve,ke)=>{if(!ve){const Me="ASSERT: "+ke;throw console.error(Me),new Error(Me)}},je=ve=>ve.timeStamp||Date.now(),ze=ve=>{if(ve){const ke=ve.changedTouches;if(ke&&ke.length>0){const Me=ke[0];return{x:Me.clientX,y:Me.clientY}}if(void 0!==ve.pageX)return{x:ve.pageX,y:ve.pageY}}return{x:0,y:0}},te=ve=>{const ke="rtl"===document.dir;switch(ve){case"start":return ke;case"end":return!ke;default:throw new Error(`"${ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ye=(ve,ke)=>{const Me=ve._original||ve;return{_original:ve,emit:Oe(Me.emit.bind(Me),ke)}},Oe=(ve,ke=0)=>{let Me;return(...Te)=>{clearTimeout(Me),Me=setTimeout(ve,ke,...Te)}},Le=(ve,ke)=>{if(null!=ve||(ve={}),null!=ke||(ke={}),ve===ke)return!0;const Me=Object.keys(ve);if(Me.length!==Object.keys(ke).length)return!1;for(const Te of Me)if(!(Te in ke)||ve[Te]!==ke[Te])return!1;return!0}},6710:(Ct,me,P)=>{"use strict";P.d(me,{a:()=>f,b:()=>V,p:()=>g});const g=(U,...Q)=>console.warn(`[Ionic Warning]: ${U}`,...Q),f=(U,...Q)=>console.error(`[Ionic Error]: ${U}`,...Q),V=(U,...Q)=>console.error(`<${U.tagName.toLowerCase()}> must be used inside ${Q.join(" or ")}.`)},1651:(Ct,me,P)=>{"use strict";P.d(me,{L:()=>U,a:()=>Q,b:()=>K,c:()=>Z,d:()=>ne,e:()=>ve,g:()=>Te,l:()=>Oe,s:()=>ke,t:()=>W,w:()=>Le});var g=P(5861),f=P(1688),V=P(839);const U="ionViewWillEnter",Q="ionViewDidEnter",K="ionViewWillLeave",Z="ionViewDidLeave",ne="ionViewWillUnload",W=qe=>new Promise(($e,rt)=>{(0,f.w)(()=>{fe(qe),pe(qe).then($t=>{$t.animation&&$t.animation.destroy(),De(qe),$e($t)},$t=>{De(qe),rt($t)})})}),fe=qe=>{const $e=qe.enteringEl,rt=qe.leavingEl;Me($e,rt,qe.direction),qe.showGoBack?$e.classList.add("can-go-back"):$e.classList.remove("can-go-back"),ke($e,!1),$e.style.setProperty("pointer-events","none"),rt&&(ke(rt,!1),rt.style.setProperty("pointer-events","none"))},pe=function(){var qe=(0,g.Z)(function*($e){const rt=yield Pe($e);return rt&&f.B.isBrowser?Qe(rt,$e):ge($e)});return function(rt){return qe.apply(this,arguments)}}(),De=qe=>{const $e=qe.enteringEl,rt=qe.leavingEl;$e.classList.remove("ion-page-invisible"),$e.style.removeProperty("pointer-events"),void 0!==rt&&(rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"))},Pe=function(){var qe=(0,g.Z)(function*($e){return $e.leavingEl&&$e.animated&&0!==$e.duration?$e.animationBuilder?$e.animationBuilder:"ios"===$e.mode?(yield Promise.resolve().then(P.bind(P,2650))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,1904))).mdTransitionAnimation:void 0});return function(rt){return qe.apply(this,arguments)}}(),Qe=function(){var qe=(0,g.Z)(function*($e,rt){yield Ae(rt,!0);const $t=$e(rt.baseEl,rt);te(rt.enteringEl,rt.leavingEl);const Et=yield ze($t,rt);return rt.progressCallback&&rt.progressCallback(void 0),Et&&ye(rt.enteringEl,rt.leavingEl),{hasCompleted:Et,animation:$t}});return function(rt,$t){return qe.apply(this,arguments)}}(),ge=function(){var qe=(0,g.Z)(function*($e){const rt=$e.enteringEl,$t=$e.leavingEl;return yield Ae($e,!1),te(rt,$t),ye(rt,$t),{hasCompleted:!0}});return function(rt){return qe.apply(this,arguments)}}(),Ae=function(){var qe=(0,g.Z)(function*($e,rt){(void 0!==$e.deepWait?$e.deepWait:rt)&&(yield Promise.all([ve($e.enteringEl),ve($e.leavingEl)])),yield je($e.viewIsReady,$e.enteringEl)});return function(rt,$t){return qe.apply(this,arguments)}}(),je=function(){var qe=(0,g.Z)(function*($e,rt){$e&&(yield $e(rt))});return function(rt,$t){return qe.apply(this,arguments)}}(),ze=(qe,$e)=>{const rt=$e.progressCallback,$t=new Promise(Et=>{qe.onFinish(In=>Et(1===In))});return rt?(qe.progressStart(!0),rt(qe)):qe.play(),$t},te=(qe,$e)=>{Oe($e,K),Oe(qe,U)},ye=(qe,$e)=>{Oe(qe,Q),Oe($e,Z)},Oe=(qe,$e)=>{if(qe){const rt=new CustomEvent($e,{bubbles:!1,cancelable:!1});qe.dispatchEvent(rt)}},Le=()=>new Promise(qe=>(0,V.r)(()=>(0,V.r)(()=>qe()))),ve=function(){var qe=(0,g.Z)(function*($e){const rt=$e;if(rt){if(null!=rt.componentOnReady){if(null!=(yield rt.componentOnReady()))return}else if(null!=rt.__registerHost)return void(yield new Promise(Et=>(0,V.r)(Et)));yield Promise.all(Array.from(rt.children).map(ve))}});return function(rt){return qe.apply(this,arguments)}}(),ke=(qe,$e)=>{$e?(qe.setAttribute("aria-hidden","true"),qe.classList.add("ion-page-hidden")):(qe.hidden=!1,qe.removeAttribute("aria-hidden"),qe.classList.remove("ion-page-hidden"))},Me=(qe,$e,rt)=>{void 0!==qe&&(qe.style.zIndex="back"===rt?"99":"101"),void 0!==$e&&($e.style.zIndex="100")},Te=qe=>qe.classList.contains("ion-page")?qe:qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||qe},6225:(Ct,me,P)=>{"use strict";P.d(me,{d:()=>f,w:()=>g});const g=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},1688:(Ct,me,P)=>{"use strict";P.d(me,{B:()=>W,H:()=>$t,a:()=>ns,b:()=>pn,c:()=>Xe,d:()=>ut,e:()=>ji,f:()=>it,g:()=>Lt,h:()=>$e,i:()=>gi,j:()=>fe,r:()=>Nt,w:()=>qr});var g=P(5861);let V,U,Q,K=!1,Z=!1,ne=!1,Ie=!1,se=!1;const W={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},fe=de=>{const X=new URL(de,Jn.$resourcesUrl$);return X.origin!==Xr.location.origin?X.href:X.pathname},je="s-id",ze="sty-id",Oe="http://www.w3.org/1999/xlink",Le={},Te=de=>"object"==(de=typeof de)||"function"===de;function qe(de){var X,Re,Ve;return null!==(Ve=null===(Re=null===(X=de.head)||void 0===X?void 0:X.querySelector('meta[name="csp-nonce"]'))||void 0===Re?void 0:Re.getAttribute("content"))&&void 0!==Ve?Ve:void 0}const $e=(de,X,...Re)=>{let Ve=null,pt=null,lt=null,At=!1,Pt=!1;const bt=[],Bt=xn=>{for(let Mn=0;Mn<xn.length;Mn++)Ve=xn[Mn],Array.isArray(Ve)?Bt(Ve):null!=Ve&&"boolean"!=typeof Ve&&((At="function"!=typeof de&&!Te(Ve))&&(Ve=String(Ve)),At&&Pt?bt[bt.length-1].$text$+=Ve:bt.push(At?rt(null,Ve):Ve),Pt=At)};if(Bt(Re),X){X.key&&(pt=X.key),X.name&&(lt=X.name);{const xn=X.className||X.class;xn&&(X.class="object"!=typeof xn?xn:Object.keys(xn).filter(Mn=>xn[Mn]).join(" "))}}if("function"==typeof de)return de(null===X?{}:X,bt,In);const an=rt(de,null);return an.$attrs$=X,bt.length>0&&(an.$children$=bt),an.$key$=pt,an.$name$=lt,an},rt=(de,X)=>({$flags$:0,$tag$:de,$text$:X,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),$t={},In={forEach:(de,X)=>de.map(tt).forEach(X),map:(de,X)=>de.map(tt).map(X).map(he)},tt=de=>({vattrs:de.$attrs$,vchildren:de.$children$,vkey:de.$key$,vname:de.$name$,vtag:de.$tag$,vtext:de.$text$}),he=de=>{if("function"==typeof de.vtag){const Re=Object.assign({},de.vattrs);return de.vkey&&(Re.key=de.vkey),de.vname&&(Re.name=de.vname),$e(de.vtag,Re,...de.vchildren||[])}const X=rt(de.vtag,de.vtext);return X.$attrs$=de.vattrs,X.$children$=de.vchildren,X.$key$=de.vkey,X.$name$=de.vname,X},be=(de,X,Re,Ve,pt,lt,At)=>{let Pt,bt,Bt,an;if(1===lt.nodeType){for(Pt=lt.getAttribute("c-id"),Pt&&(bt=Pt.split("."),(bt[0]===At||"0"===bt[0])&&(Bt={$flags$:0,$hostId$:bt[0],$nodeId$:bt[1],$depth$:bt[2],$index$:bt[3],$tag$:lt.tagName.toLowerCase(),$elm$:lt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},X.push(Bt),lt.removeAttribute("c-id"),de.$children$||(de.$children$=[]),de.$children$[Bt.$index$]=Bt,de=Bt,Ve&&"0"===Bt.$depth$&&(Ve[Bt.$index$]=Bt.$elm$))),an=lt.childNodes.length-1;an>=0;an--)be(de,X,Re,Ve,pt,lt.childNodes[an],At);if(lt.shadowRoot)for(an=lt.shadowRoot.childNodes.length-1;an>=0;an--)be(de,X,Re,Ve,pt,lt.shadowRoot.childNodes[an],At)}else if(8===lt.nodeType)bt=lt.nodeValue.split("."),(bt[1]===At||"0"===bt[1])&&(Pt=bt[0],Bt={$flags$:0,$hostId$:bt[1],$nodeId$:bt[2],$depth$:bt[3],$index$:bt[4],$elm$:lt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Pt?(Bt.$elm$=lt.nextSibling,Bt.$elm$&&3===Bt.$elm$.nodeType&&(Bt.$text$=Bt.$elm$.textContent,X.push(Bt),lt.remove(),de.$children$||(de.$children$=[]),de.$children$[Bt.$index$]=Bt,Ve&&"0"===Bt.$depth$&&(Ve[Bt.$index$]=Bt.$elm$))):Bt.$hostId$===At&&("s"===Pt?(Bt.$tag$="slot",lt["s-sn"]=bt[5]?Bt.$name$=bt[5]:"",lt["s-sr"]=!0,Ve&&(Bt.$elm$=or.createElement(Bt.$tag$),Bt.$name$&&Bt.$elm$.setAttribute("name",Bt.$name$),lt.parentNode.insertBefore(Bt.$elm$,lt),lt.remove(),"0"===Bt.$depth$&&(Ve[Bt.$index$]=Bt.$elm$)),Re.push(Bt),de.$children$||(de.$children$=[]),de.$children$[Bt.$index$]=Bt):"r"===Pt&&(Ve?lt.remove():(pt["s-cr"]=lt,lt["s-cn"]=!0))));else if(de&&"style"===de.$tag$){const xn=rt(null,lt.textContent);xn.$elm$=lt,xn.$index$="0",de.$children$=[xn]}},Ye=(de,X)=>{if(1===de.nodeType){let Re=0;for(;Re<de.childNodes.length;Re++)Ye(de.childNodes[Re],X);if(de.shadowRoot)for(Re=0;Re<de.shadowRoot.childNodes.length;Re++)Ye(de.shadowRoot.childNodes[Re],X)}else if(8===de.nodeType){const Re=de.nodeValue.split(".");"o"===Re[0]&&(X.set(Re[1]+"."+Re[2],de),de.nodeValue="",de["s-en"]=Re[3])}},Xe=de=>oi.push(de),Lt=de=>at(de).$modeName$,it=de=>at(de).$hostElement$,ut=(de,X,Re)=>{const Ve=it(de);return{emit:pt=>dt(Ve,X,{bubbles:!!(4&Re),composed:!!(2&Re),cancelable:!!(1&Re),detail:pt})}},dt=(de,X,Re)=>{const Ve=Jn.ce(X,Re);return de.dispatchEvent(Ve),Ve},vt=new WeakMap,It=(de,X,Re)=>{let Ve=Pr.get(de);Zi&&Re?(Ve=Ve||new CSSStyleSheet,"string"==typeof Ve?Ve=X:Ve.replaceSync(X)):Ve=X,Pr.set(de,Ve)},Wt=(de,X,Re)=>{var Ve;const pt=dn(X,Re),lt=Pr.get(pt);if(de=11===de.nodeType?de:or,lt)if("string"==typeof lt){let Pt,At=vt.get(de=de.head||de);if(At||vt.set(de,At=new Set),!At.has(pt)){if(de.host&&(Pt=de.querySelector(`[${ze}="${pt}"]`)))Pt.innerHTML=lt;else{Pt=or.createElement("style"),Pt.innerHTML=lt;const bt=null!==(Ve=Jn.$nonce$)&&void 0!==Ve?Ve:qe(or);null!=bt&&Pt.setAttribute("nonce",bt),de.insertBefore(Pt,de.querySelector("link"))}At&&At.add(pt)}}else de.adoptedStyleSheets.includes(lt)||(de.adoptedStyleSheets=[...de.adoptedStyleSheets,lt]);return pt},dn=(de,X)=>"sc-"+(X&&32&de.$flags$?de.$tagName$+"-"+X:de.$tagName$),fn=de=>de.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),qt=(de,X,Re,Ve,pt,lt)=>{if(Re!==Ve){let At=Pn(de,X),Pt=X.toLowerCase();if("class"===X){const bt=de.classList,Bt=Tt(Re),an=Tt(Ve);bt.remove(...Bt.filter(xn=>xn&&!an.includes(xn))),bt.add(...an.filter(xn=>xn&&!Bt.includes(xn)))}else if("style"===X){for(const bt in Re)(!Ve||null==Ve[bt])&&(bt.includes("-")?de.style.removeProperty(bt):de.style[bt]="");for(const bt in Ve)(!Re||Ve[bt]!==Re[bt])&&(bt.includes("-")?de.style.setProperty(bt,Ve[bt]):de.style[bt]=Ve[bt])}else if("key"!==X)if("ref"===X)Ve&&Ve(de);else if(At||"o"!==X[0]||"n"!==X[1]){const bt=Te(Ve);if((At||bt&&null!==Ve)&&!pt)try{if(de.tagName.includes("-"))de[X]=Ve;else{const an=null==Ve?"":Ve;"list"===X?At=!1:(null==Re||de[X]!=an)&&(de[X]=an)}}catch{}let Bt=!1;Pt!==(Pt=Pt.replace(/^xlink\:?/,""))&&(X=Pt,Bt=!0),null==Ve||!1===Ve?(!1!==Ve||""===de.getAttribute(X))&&(Bt?de.removeAttributeNS(Oe,X):de.removeAttribute(X)):(!At||4&lt||pt)&&!bt&&(Ve=!0===Ve?"":Ve,Bt?de.setAttributeNS(Oe,X,Ve):de.setAttribute(X,Ve))}else X="-"===X[2]?X.slice(3):Pn(Xr,Pt)?Pt.slice(2):Pt[2]+X.slice(3),Re&&Jn.rel(de,X,Re,!1),Ve&&Jn.ael(de,X,Ve,!1)}},sr=/\s/,Tt=de=>de?de.split(sr):[],Qn=(de,X,Re,Ve)=>{const pt=11===X.$elm$.nodeType&&X.$elm$.host?X.$elm$.host:X.$elm$,lt=de&&de.$attrs$||Le,At=X.$attrs$||Le;for(Ve in lt)Ve in At||qt(pt,Ve,lt[Ve],void 0,Re,X.$flags$);for(Ve in At)qt(pt,Ve,lt[Ve],At[Ve],Re,X.$flags$)},hr=(de,X,Re,Ve)=>{const pt=X.$children$[Re];let At,Pt,bt,lt=0;if(K||(ne=!0,"slot"===pt.$tag$&&(V&&Ve.classList.add(V+"-s"),pt.$flags$|=pt.$children$?2:1)),null!==pt.$text$)At=pt.$elm$=or.createTextNode(pt.$text$);else if(1&pt.$flags$)At=pt.$elm$=or.createTextNode("");else{if(Ie||(Ie="svg"===pt.$tag$),At=pt.$elm$=or.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&pt.$flags$?"slot-fb":pt.$tag$),Ie&&"foreignObject"===pt.$tag$&&(Ie=!1),Qn(null,pt,Ie),(de=>null!=de)(V)&&At["s-si"]!==V&&At.classList.add(At["s-si"]=V),pt.$children$)for(lt=0;lt<pt.$children$.length;++lt)Pt=hr(de,pt,lt,At),Pt&&At.appendChild(Pt);"svg"===pt.$tag$?Ie=!1:"foreignObject"===At.tagName&&(Ie=!0)}return At["s-hn"]=Q,3&pt.$flags$&&(At["s-sr"]=!0,At["s-cr"]=U,At["s-sn"]=pt.$name$||"",bt=de&&de.$children$&&de.$children$[Re],bt&&bt.$tag$===pt.$tag$&&de.$elm$&&fr(de.$elm$,!1)),At},fr=(de,X)=>{Jn.$flags$|=1;const Re=de.childNodes;for(let Ve=Re.length-1;Ve>=0;Ve--){const pt=Re[Ve];pt["s-hn"]!==Q&&pt["s-ol"]&&(Hn(pt).insertBefore(pt,cr(pt)),pt["s-ol"].remove(),pt["s-ol"]=void 0,ne=!0),X&&fr(pt,X)}Jn.$flags$&=-2},$r=(de,X,Re,Ve,pt,lt)=>{let Pt,At=de["s-cr"]&&de["s-cr"].parentNode||de;for(At.shadowRoot&&At.tagName===Q&&(At=At.shadowRoot);pt<=lt;++pt)Ve[pt]&&(Pt=hr(null,Re,pt,de),Pt&&(Ve[pt].$elm$=Pt,At.insertBefore(Pt,cr(X))))},tn=(de,X,Re)=>{for(let Ve=X;Ve<=Re;++Ve){const pt=de[Ve];if(pt){const lt=pt.$elm$;Gn(pt),lt&&(Z=!0,lt["s-ol"]?lt["s-ol"].remove():fr(lt,!0),lt.remove())}}},Gr=(de,X)=>de.$tag$===X.$tag$&&("slot"===de.$tag$?de.$name$===X.$name$:de.$key$===X.$key$),cr=de=>de&&de["s-ol"]||de,Hn=de=>(de["s-ol"]?de["s-ol"]:de).parentNode,Ur=(de,X)=>{const Re=X.$elm$=de.$elm$,Ve=de.$children$,pt=X.$children$,lt=X.$tag$,At=X.$text$;let Pt;null===At?(Ie="svg"===lt||"foreignObject"!==lt&&Ie,"slot"===lt||Qn(de,X,Ie),null!==Ve&&null!==pt?((de,X,Re,Ve)=>{let xi,li,pt=0,lt=0,At=0,Pt=0,bt=X.length-1,Bt=X[0],an=X[bt],xn=Ve.length-1,Mn=Ve[0],Tr=Ve[xn];for(;pt<=bt&&lt<=xn;)if(null==Bt)Bt=X[++pt];else if(null==an)an=X[--bt];else if(null==Mn)Mn=Ve[++lt];else if(null==Tr)Tr=Ve[--xn];else if(Gr(Bt,Mn))Ur(Bt,Mn),Bt=X[++pt],Mn=Ve[++lt];else if(Gr(an,Tr))Ur(an,Tr),an=X[--bt],Tr=Ve[--xn];else if(Gr(Bt,Tr))("slot"===Bt.$tag$||"slot"===Tr.$tag$)&&fr(Bt.$elm$.parentNode,!1),Ur(Bt,Tr),de.insertBefore(Bt.$elm$,an.$elm$.nextSibling),Bt=X[++pt],Tr=Ve[--xn];else if(Gr(an,Mn))("slot"===Bt.$tag$||"slot"===Tr.$tag$)&&fr(an.$elm$.parentNode,!1),Ur(an,Mn),de.insertBefore(an.$elm$,Bt.$elm$),an=X[--bt],Mn=Ve[++lt];else{for(At=-1,Pt=pt;Pt<=bt;++Pt)if(X[Pt]&&null!==X[Pt].$key$&&X[Pt].$key$===Mn.$key$){At=Pt;break}At>=0?(li=X[At],li.$tag$!==Mn.$tag$?xi=hr(X&&X[lt],Re,At,de):(Ur(li,Mn),X[At]=void 0,xi=li.$elm$),Mn=Ve[++lt]):(xi=hr(X&&X[lt],Re,lt,de),Mn=Ve[++lt]),xi&&Hn(Bt.$elm$).insertBefore(xi,cr(Bt.$elm$))}pt>bt?$r(de,null==Ve[xn+1]?null:Ve[xn+1].$elm$,Re,Ve,lt,xn):lt>xn&&tn(X,pt,bt)})(Re,Ve,X,pt):null!==pt?(null!==de.$text$&&(Re.textContent=""),$r(Re,null,X,pt,0,pt.length-1)):null!==Ve&&tn(Ve,0,Ve.length-1),Ie&&"svg"===lt&&(Ie=!1)):(Pt=Re["s-cr"])?Pt.parentNode.textContent=At:de.$text$!==At&&(Re.data=At)},Xn=de=>{const X=de.childNodes;let Re,Ve,pt,lt,At,Pt;for(Ve=0,pt=X.length;Ve<pt;Ve++)if(Re=X[Ve],1===Re.nodeType){if(Re["s-sr"])for(At=Re["s-sn"],Re.hidden=!1,lt=0;lt<pt;lt++)if(Pt=X[lt].nodeType,X[lt]["s-hn"]!==Re["s-hn"]||""!==At){if(1===Pt&&At===X[lt].getAttribute("slot")){Re.hidden=!0;break}}else if(1===Pt||3===Pt&&""!==X[lt].textContent.trim()){Re.hidden=!0;break}Xn(Re)}},Cr=[],pr=de=>{let X,Re,Ve,pt,lt,At,Pt=0;const bt=de.childNodes,Bt=bt.length;for(;Pt<Bt;Pt++){if(X=bt[Pt],X["s-sr"]&&(Re=X["s-cr"])&&Re.parentNode)for(Ve=Re.parentNode.childNodes,pt=X["s-sn"],At=Ve.length-1;At>=0;At--)Re=Ve[At],!Re["s-cn"]&&!Re["s-nr"]&&Re["s-hn"]!==X["s-hn"]&&(ii(Re,pt)?(lt=Cr.find(an=>an.$nodeToRelocate$===Re),Z=!0,Re["s-sn"]=Re["s-sn"]||pt,lt?lt.$slotRefNode$=X:Cr.push({$slotRefNode$:X,$nodeToRelocate$:Re}),Re["s-sr"]&&Cr.map(an=>{ii(an.$nodeToRelocate$,Re["s-sn"])&&(lt=Cr.find(xn=>xn.$nodeToRelocate$===Re),lt&&!an.$slotRefNode$&&(an.$slotRefNode$=lt.$slotRefNode$))})):Cr.some(an=>an.$nodeToRelocate$===Re)||Cr.push({$nodeToRelocate$:Re}));1===X.nodeType&&pr(X)}},ii=(de,X)=>1===de.nodeType?null===de.getAttribute("slot")&&""===X||de.getAttribute("slot")===X:de["s-sn"]===X||""===X,Gn=de=>{de.$attrs$&&de.$attrs$.ref&&de.$attrs$.ref(null),de.$children$&&de.$children$.map(Gn)},Or=(de,X)=>{X&&!de.$onRenderResolve$&&X["s-p"]&&X["s-p"].push(new Promise(Re=>de.$onRenderResolve$=Re))},jr=(de,X)=>{if(de.$flags$|=16,!(4&de.$flags$))return Or(de,de.$ancestorComponent$),qr(()=>_i(de,X));de.$flags$|=512},_i=(de,X)=>{const Ve=de.$lazyInstance$;let pt;return X&&(de.$flags$|=256,de.$queuedListeners$&&(de.$queuedListeners$.map(([lt,At])=>Lr(Ve,lt,At)),de.$queuedListeners$=void 0),pt=Lr(Ve,"componentWillLoad")),pt=pi(pt,()=>Lr(Ve,"componentWillRender")),pi(pt,()=>Ai(de,Ve,X))},pi=(de,X)=>Fr(de)?de.then(X):X(),Fr=de=>de instanceof Promise||de&&de.then&&"function"==typeof de.then,Ai=function(){var de=(0,g.Z)(function*(X,Re,Ve){var pt;const lt=X.$hostElement$,Pt=lt["s-rc"];Ve&&(de=>{const X=de.$cmpMeta$,Re=de.$hostElement$,Ve=X.$flags$,lt=Wt(Re.shadowRoot?Re.shadowRoot:Re.getRootNode(),X,de.$modeName$);10&Ve&&(Re["s-sc"]=lt,Re.classList.add(lt+"-h"),2&Ve&&Re.classList.add(lt+"-s"))})(X);Wr(X,Re,lt,Ve),Pt&&(Pt.map(Bt=>Bt()),lt["s-rc"]=void 0);{const Bt=null!==(pt=lt["s-p"])&&void 0!==pt?pt:[],an=()=>Xi(X);0===Bt.length?an():(Promise.all(Bt).then(an),X.$flags$|=4,Bt.length=0)}});return function(Re,Ve,pt){return de.apply(this,arguments)}}(),Wr=(de,X,Re,Ve)=>{try{X=X.render&&X.render(),de.$flags$&=-17,de.$flags$|=2,((de,X,Re=!1)=>{const Ve=de.$hostElement$,pt=de.$cmpMeta$,lt=de.$vnode$||rt(null,null),At=(de=>de&&de.$tag$===$t)(X)?X:$e(null,null,X);if(Q=Ve.tagName,pt.$attrsToReflect$&&(At.$attrs$=At.$attrs$||{},pt.$attrsToReflect$.map(([Pt,bt])=>At.$attrs$[bt]=Ve[Pt])),Re&&At.$attrs$)for(const Pt of Object.keys(At.$attrs$))Ve.hasAttribute(Pt)&&!["key","ref","style","class"].includes(Pt)&&(At.$attrs$[Pt]=Ve[Pt]);if(At.$tag$=null,At.$flags$|=4,de.$vnode$=At,At.$elm$=lt.$elm$=Ve.shadowRoot||Ve,V=Ve["s-sc"],U=Ve["s-cr"],K=0!=(1&pt.$flags$),Z=!1,Ur(lt,At),Jn.$flags$|=1,ne){pr(At.$elm$);let Pt,bt,Bt,an,xn,Mn,Tr=0;for(;Tr<Cr.length;Tr++)Pt=Cr[Tr],bt=Pt.$nodeToRelocate$,bt["s-ol"]||(Bt=or.createTextNode(""),Bt["s-nr"]=bt,bt.parentNode.insertBefore(bt["s-ol"]=Bt,bt));for(Tr=0;Tr<Cr.length;Tr++)if(Pt=Cr[Tr],bt=Pt.$nodeToRelocate$,Pt.$slotRefNode$){for(an=Pt.$slotRefNode$.parentNode,xn=Pt.$slotRefNode$.nextSibling,Bt=bt["s-ol"];Bt=Bt.previousSibling;)if(Mn=Bt["s-nr"],Mn&&Mn["s-sn"]===bt["s-sn"]&&an===Mn.parentNode&&(Mn=Mn.nextSibling,!Mn||!Mn["s-nr"])){xn=Mn;break}(!xn&&an!==bt.parentNode||bt.nextSibling!==xn)&&bt!==xn&&(!bt["s-hn"]&&bt["s-ol"]&&(bt["s-hn"]=bt["s-ol"].parentNode.nodeName),an.insertBefore(bt,xn))}else 1===bt.nodeType&&(bt.hidden=!0)}Z&&Xn(At.$elm$),Jn.$flags$&=-2,Cr.length=0})(de,X,Ve)}catch(pt){rn(pt,de.$hostElement$)}return null},Xi=de=>{const Re=de.$hostElement$,pt=de.$lazyInstance$,lt=de.$ancestorComponent$;Lr(pt,"componentDidRender"),64&de.$flags$?Lr(pt,"componentDidUpdate"):(de.$flags$|=64,Ge(Re),Lr(pt,"componentDidLoad"),de.$onReadyResolve$(Re),lt||vi()),de.$onInstanceResolve$(Re),de.$onRenderResolve$&&(de.$onRenderResolve$(),de.$onRenderResolve$=void 0),512&de.$flags$&&ys(()=>jr(de,!1)),de.$flags$&=-517},gi=de=>{{const X=at(de),Re=X.$hostElement$.isConnected;return Re&&2==(18&X.$flags$)&&jr(X,!1),Re}},vi=de=>{Ge(or.documentElement),ys(()=>dt(Xr,"appload",{detail:{namespace:"ionic"}}))},Lr=(de,X,Re)=>{if(de&&de[X])try{return de[X](Re)}catch(Ve){rn(Ve)}},Ge=de=>de.classList.add("hydrated"),Fe=(de,X,Re)=>{if(X.$members$){de.watchers&&(X.$watchers$=de.watchers);const Ve=Object.entries(X.$members$),pt=de.prototype;if(Ve.map(([lt,[At]])=>{31&At||2&Re&&32&At?Object.defineProperty(pt,lt,{get(){return((de,X)=>at(this).$instanceValues$.get(X))(0,lt)},set(Pt){((de,X,Re,Ve)=>{const pt=at(de),lt=pt.$hostElement$,At=pt.$instanceValues$.get(X),Pt=pt.$flags$,bt=pt.$lazyInstance$;Re=((de,X)=>null==de||Te(de)?de:4&X?"false"!==de&&(""===de||!!de):2&X?parseFloat(de):1&X?String(de):de)(Re,Ve.$members$[X][0]);const Bt=Number.isNaN(At)&&Number.isNaN(Re);if((!(8&Pt)||void 0===At)&&Re!==At&&!Bt&&(pt.$instanceValues$.set(X,Re),bt)){if(Ve.$watchers$&&128&Pt){const xn=Ve.$watchers$[X];xn&&xn.map(Mn=>{try{bt[Mn](Re,At,X)}catch(Tr){rn(Tr,lt)}})}2==(18&Pt)&&jr(pt,!1)}})(this,lt,Pt,X)},configurable:!0,enumerable:!0}):1&Re&&64&At&&Object.defineProperty(pt,lt,{value(...Pt){const bt=at(this);return bt.$onInstancePromise$.then(()=>bt.$lazyInstance$[lt](...Pt))}})}),1&Re){const lt=new Map;pt.attributeChangedCallback=function(At,Pt,bt){Jn.jmp(()=>{const Bt=lt.get(At);if(this.hasOwnProperty(Bt))bt=this[Bt],delete this[Bt];else if(pt.hasOwnProperty(Bt)&&"number"==typeof this[Bt]&&this[Bt]==bt)return;this[Bt]=(null!==bt||"boolean"!=typeof this[Bt])&&bt})},de.observedAttributes=Ve.filter(([At,Pt])=>15&Pt[0]).map(([At,Pt])=>{const bt=Pt[1]||At;return lt.set(bt,At),512&Pt[0]&&X.$attrsToReflect$.push([At,bt]),bt})}}return de},ue=function(){var de=(0,g.Z)(function*(X,Re,Ve,pt,lt){if(!(32&Re.$flags$)){Re.$flags$|=32;{if((lt=wr(Ve)).then){const Bt=()=>{};lt=yield lt,Bt()}lt.isProxied||(Ve.$watchers$=lt.watchers,Fe(lt,Ve,2),lt.isProxied=!0);const bt=()=>{};Re.$flags$|=8;try{new lt(Re)}catch(Bt){rn(Bt)}Re.$flags$&=-9,Re.$flags$|=128,bt(),Ue(Re.$lazyInstance$)}if(lt.style){let bt=lt.style;"string"!=typeof bt&&(bt=bt[Re.$modeName$=(de=>oi.map(X=>X(de)).find(X=>!!X))(X)]);const Bt=dn(Ve,Re.$modeName$);if(!Pr.has(Bt)){const an=()=>{};It(Bt,bt,!!(1&Ve.$flags$)),an()}}}const At=Re.$ancestorComponent$,Pt=()=>jr(Re,!0);At&&At["s-rc"]?At["s-rc"].push(Pt):Pt()});return function(Re,Ve,pt,lt,At){return de.apply(this,arguments)}}(),Ue=de=>{Lr(de,"connectedCallback")},Vt=de=>{const X=de["s-cr"]=or.createComment("");X["s-cn"]=!0,de.insertBefore(X,de.firstChild)},Zt=de=>{Lr(de,"disconnectedCallback")},vn=function(){var de=(0,g.Z)(function*(X){if(!(1&Jn.$flags$)){const Re=at(X);Re.$rmListeners$&&(Re.$rmListeners$.map(Ve=>Ve()),Re.$rmListeners$=void 0),null!=Re&&Re.$lazyInstance$?Zt(Re.$lazyInstance$):null!=Re&&Re.$onReadyPromise$&&Re.$onReadyPromise$.then(()=>Zt(Re.$lazyInstance$))}});return function(Re){return de.apply(this,arguments)}}(),pn=(de,X={})=>{var Re;const pt=[],lt=X.exclude||[],At=Xr.customElements,Pt=or.head,bt=Pt.querySelector("meta[charset]"),Bt=or.createElement("style"),an=[],xn=or.querySelectorAll(`[${ze}]`);let Mn,Tr=!0,xi=0;for(Object.assign(Jn,X),Jn.$resourcesUrl$=new URL(X.resourcesUrl||"./",or.baseURI).href,Jn.$flags$|=2;xi<xn.length;xi++)It(xn[xi].getAttribute(ze),fn(xn[xi].innerHTML),!0);de.map(li=>{li[1].map(Ni=>{const ci={$flags$:Ni[0],$tagName$:Ni[1],$members$:Ni[2],$listeners$:Ni[3]};ci.$members$=Ni[2],ci.$listeners$=Ni[3],ci.$attrsToReflect$=[],ci.$watchers$={};const hs=ci.$tagName$,zn=class extends HTMLElement{constructor(Er){super(Er),gn(Er=this,ci),1&ci.$flags$&&Er.attachShadow({mode:"open",delegatesFocus:!!(16&ci.$flags$)})}connectedCallback(){Mn&&(clearTimeout(Mn),Mn=null),Tr?an.push(this):Jn.jmp(()=>(de=>{if(!(1&Jn.$flags$)){const X=at(de),Re=X.$cmpMeta$,Ve=()=>{};if(1&X.$flags$)on(de,X,Re.$listeners$),null!=X&&X.$lazyInstance$?Ue(X.$lazyInstance$):null!=X&&X.$onReadyPromise$&&X.$onReadyPromise$.then(()=>Ue(X.$lazyInstance$));else{let pt;if(X.$flags$|=1,pt=de.getAttribute(je),pt){if(1&Re.$flags$){const lt=Wt(de.shadowRoot,Re,de.getAttribute("s-mode"));de.classList.remove(lt+"-h",lt+"-s")}((de,X,Re,Ve)=>{const lt=de.shadowRoot,At=[],bt=lt?[]:null,Bt=Ve.$vnode$=rt(X,null);Jn.$orgLocNodes$||Ye(or.body,Jn.$orgLocNodes$=new Map),de[je]=Re,de.removeAttribute(je),be(Bt,At,[],bt,de,de,Re),At.map(an=>{const xn=an.$hostId$+"."+an.$nodeId$,Mn=Jn.$orgLocNodes$.get(xn),Tr=an.$elm$;Mn&&Fs&&""===Mn["s-en"]&&Mn.parentNode.insertBefore(Tr,Mn.nextSibling),lt||(Tr["s-hn"]=X,Mn&&(Tr["s-ol"]=Mn,Tr["s-ol"]["s-nr"]=Tr)),Jn.$orgLocNodes$.delete(xn)}),lt&&bt.map(an=>{an&&lt.appendChild(an)})})(de,Re.$tagName$,pt,X)}pt||12&Re.$flags$&&Vt(de);{let lt=de;for(;lt=lt.parentNode||lt.host;)if(1===lt.nodeType&&lt.hasAttribute("s-id")&&lt["s-p"]||lt["s-p"]){Or(X,X.$ancestorComponent$=lt);break}}Re.$members$&&Object.entries(Re.$members$).map(([lt,[At]])=>{if(31&At&&de.hasOwnProperty(lt)){const Pt=de[lt];delete de[lt],de[lt]=Pt}}),ue(de,X,Re)}Ve()}})(this))}disconnectedCallback(){Jn.jmp(()=>vn(this))}componentOnReady(){return at(this).$onReadyPromise$}};ci.$lazyBundleId$=li[0],!lt.includes(hs)&&!At.get(hs)&&(pt.push(hs),At.define(hs,Fe(zn,ci,1)))})});{Bt.innerHTML=pt+"{visibility:hidden}.hydrated{visibility:inherit}",Bt.setAttribute("data-styles","");const li=null!==(Re=Jn.$nonce$)&&void 0!==Re?Re:qe(or);null!=li&&Bt.setAttribute("nonce",li),Pt.insertBefore(Bt,bt?bt.nextSibling:Pt.firstChild)}Tr=!1,an.length?an.map(li=>li.connectedCallback()):Jn.jmp(()=>Mn=setTimeout(vi,30))},on=(de,X,Re,Ve)=>{Re&&Re.map(([pt,lt,At])=>{const Pt=Vr(de,pt),bt=Vn(X,At),Bt=Li(pt);Jn.ael(Pt,lt,bt,Bt),(X.$rmListeners$=X.$rmListeners$||[]).push(()=>Jn.rel(Pt,lt,bt,Bt))})},Vn=(de,X)=>Re=>{try{256&de.$flags$?de.$lazyInstance$[X](Re):(de.$queuedListeners$=de.$queuedListeners$||[]).push([X,Re])}catch(Ve){rn(Ve)}},Vr=(de,X)=>4&X?or:8&X?Xr:16&X?or.body:de,Li=de=>0!=(2&de),Dt=new WeakMap,at=de=>Dt.get(de),Nt=(de,X)=>Dt.set(X.$lazyInstance$=de,X),gn=(de,X)=>{const Re={$flags$:0,$hostElement$:de,$cmpMeta$:X,$instanceValues$:new Map};return Re.$onInstancePromise$=new Promise(Ve=>Re.$onInstanceResolve$=Ve),Re.$onReadyPromise$=new Promise(Ve=>Re.$onReadyResolve$=Ve),de["s-p"]=[],de["s-rc"]=[],on(de,Re,X.$listeners$),Dt.set(de,Re)},Pn=(de,X)=>X in de,rn=(de,X)=>(0,console.error)(de,X),Wn=new Map,wr=(de,X,Re)=>{const Ve=de.$tagName$.replace(/-/g,"_"),pt=de.$lazyBundleId$,lt=Wn.get(pt);return lt?lt[Ve]:P(863)(`./${pt}.entry.js`).then(At=>(Wn.set(pt,At),At[Ve]),rn)},Pr=new Map,oi=[],Xr=typeof window<"u"?window:{},or=Xr.document||{head:{}},Jn={$flags$:0,$resourcesUrl$:"",jmp:de=>de(),raf:de=>requestAnimationFrame(de),ael:(de,X,Re,Ve)=>de.addEventListener(X,Re,Ve),rel:(de,X,Re,Ve)=>de.removeEventListener(X,Re,Ve),ce:(de,X)=>new CustomEvent(de,X)},ns=de=>{Object.assign(Jn,de)},Fs=!0,Zi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),yi=[],ai=[],ds=(de,X)=>Re=>{de.push(Re),se||(se=!0,X&&4&Jn.$flags$?ys(Vi):Jn.raf(Vi))},Oi=de=>{for(let X=0;X<de.length;X++)try{de[X](performance.now())}catch(Re){rn(Re)}de.length=0},Vi=()=>{Oi(yi),Oi(ai),(se=yi.length>0)&&Jn.raf(Vi)},ys=de=>Promise.resolve(void 0).then(de),ji=ds(yi,!1),qr=ds(ai,!0)},5662:(Ct,me,P)=>{"use strict";P.d(me,{m:()=>W});var g=P(5861),f=P(2124),V=P(839),U=P(2085),Q=P(1774);const K=fe=>(0,Q.c)().duration(fe?400:300),Z=fe=>{let pe,De;const Pe=fe.width+8,Qe=(0,Q.c)(),ge=(0,Q.c)();fe.isEndSide?(pe=Pe+"px",De="0px"):(pe=-Pe+"px",De="0px"),Qe.addElement(fe.menuInnerEl).fromTo("transform",`translateX(${pe})`,`translateX(${De})`);const je="ios"===(0,U.b)(fe),ze=je?.2:.25;return ge.addElement(fe.backdropEl).fromTo("opacity",.01,ze),K(je).addAnimation([Qe,ge])},ne=fe=>{let pe,De;const Pe=(0,U.b)(fe),Qe=fe.width;fe.isEndSide?(pe=-Qe+"px",De=Qe+"px"):(pe=Qe+"px",De=-Qe+"px");const ge=(0,Q.c)().addElement(fe.menuInnerEl).fromTo("transform",`translateX(${De})`,"translateX(0px)"),Ae=(0,Q.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`),je=(0,Q.c)().addElement(fe.backdropEl).fromTo("opacity",.01,.32);return K("ios"===Pe).addAnimation([ge,Ae,je])},Ie=fe=>{const pe=(0,U.b)(fe),De=fe.width*(fe.isEndSide?-1:1)+"px",Pe=(0,Q.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${De})`);return K("ios"===pe).addAnimation(Pe)},W=(()=>{const fe=new Map,pe=[],De=function(){var he=(0,g.Z)(function*(we){const be=yield te(we);return!!be&&be.open()});return function(be){return he.apply(this,arguments)}}(),Pe=function(){var he=(0,g.Z)(function*(we){const be=yield void 0!==we?te(we):ye();return void 0!==be&&be.close()});return function(be){return he.apply(this,arguments)}}(),Qe=function(){var he=(0,g.Z)(function*(we){const be=yield te(we);return!!be&&be.toggle()});return function(be){return he.apply(this,arguments)}}(),ge=function(){var he=(0,g.Z)(function*(we,be){const Ye=yield te(be);return Ye&&(Ye.disabled=!we),Ye});return function(be,Ye){return he.apply(this,arguments)}}(),Ae=function(){var he=(0,g.Z)(function*(we,be){const Ye=yield te(be);return Ye&&(Ye.swipeGesture=we),Ye});return function(be,Ye){return he.apply(this,arguments)}}(),je=function(){var he=(0,g.Z)(function*(we){if(null!=we){const be=yield te(we);return void 0!==be&&be.isOpen()}return void 0!==(yield ye())});return function(be){return he.apply(this,arguments)}}(),ze=function(){var he=(0,g.Z)(function*(we){const be=yield te(we);return!!be&&!be.disabled});return function(be){return he.apply(this,arguments)}}(),te=function(){var he=(0,g.Z)(function*(we){return yield tt(),"start"===we||"end"===we?In(Ze=>Ze.side===we&&!Ze.disabled)||In(Ze=>Ze.side===we):null!=we?In(Ye=>Ye.menuId===we):In(Ye=>!Ye.disabled)||(pe.length>0?pe[0].el:void 0)});return function(be){return he.apply(this,arguments)}}(),ye=function(){var he=(0,g.Z)(function*(){return yield tt(),rt()});return function(){return he.apply(this,arguments)}}(),Oe=function(){var he=(0,g.Z)(function*(){return yield tt(),$t()});return function(){return he.apply(this,arguments)}}(),Le=function(){var he=(0,g.Z)(function*(){return yield tt(),Et()});return function(){return he.apply(this,arguments)}}(),ve=(he,we)=>{fe.set(he,we)},Te=he=>{const we=he.side;pe.filter(be=>be.side===we&&be!==he).forEach(be=>be.disabled=!0)},qe=function(){var he=(0,g.Z)(function*(we,be,Ye){if(Et())return!1;if(be){const Ze=yield ye();Ze&&we.el!==Ze&&(yield Ze.setOpen(!1,!1))}return we._setOpen(be,Ye)});return function(be,Ye,Ze){return he.apply(this,arguments)}}(),rt=()=>In(he=>he._isOpen),$t=()=>pe.map(he=>he.el),Et=()=>pe.some(he=>he.isAnimating),In=he=>{const we=pe.find(he);if(void 0!==we)return we.el},tt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(he=>new Promise(we=>(0,V.c)(he,we))));return ve("reveal",Ie),ve("push",ne),ve("overlay",Z),typeof document<"u"&&document.addEventListener("ionBackButton",he=>{const we=rt();we&&he.detail.register(f.MENU_BACK_BUTTON_PRIORITY,()=>we.close())}),{registerAnimation:ve,get:te,getMenus:Oe,getOpen:ye,isEnabled:ze,swipeGesture:Ae,isAnimating:Le,isOpen:je,enable:ge,toggle:Qe,close:Pe,open:De,_getOpenSync:rt,_createAnimation:(he,we)=>{const be=fe.get(he);if(!be)throw new Error("animation not registered");return be(we)},_register:he=>{pe.indexOf(he)<0&&(he.disabled||Te(he),pe.push(he))},_unregister:he=>{const we=pe.indexOf(he);we>-1&&pe.splice(we,1)},_setOpen:qe,_setActiveMenu:Te}})()},9203:(Ct,me,P)=>{"use strict";P.r(me),P.d(me,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>Ie});var g=P(619);const f=(pe,De,Pe,Qe)=>{const ge=V(pe)?{capture:!!Qe.capture,passive:!!Qe.passive}:!!Qe.capture;let Ae,je;return pe.__zone_symbol__addEventListener?(Ae="__zone_symbol__addEventListener",je="__zone_symbol__removeEventListener"):(Ae="addEventListener",je="removeEventListener"),pe[Ae](De,Pe,ge),()=>{pe[je](De,Pe,ge)}},V=pe=>{if(void 0===U)try{const De=Object.defineProperty({},"passive",{get:()=>{U=!0}});pe.addEventListener("optsTest",()=>{},De)}catch{U=!1}return!!U};let U;const Z=pe=>pe instanceof Document?pe:pe.ownerDocument,Ie=pe=>{let De=!1,Pe=!1,Qe=!0,ge=!1;const Ae=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},pe),je=Ae.canStart,ze=Ae.onWillStart,te=Ae.onStart,ye=Ae.onEnd,Oe=Ae.notCaptured,Le=Ae.onMove,ve=Ae.threshold,ke=Ae.passive,Me=Ae.blurOnStart,Te={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},qe=((pe,De,Pe)=>{const Qe=Pe*(Math.PI/180),ge="x"===pe,Ae=Math.cos(Qe),je=De*De;let ze=0,te=0,ye=!1,Oe=0;return{start(Le,ve){ze=Le,te=ve,Oe=0,ye=!0},detect(Le,ve){if(!ye)return!1;const ke=Le-ze,Me=ve-te,Te=ke*ke+Me*Me;if(Te<je)return!1;const qe=Math.sqrt(Te),$e=(ge?ke:Me)/qe;return Oe=$e>Ae?1:$e<-Ae?-1:0,ye=!1,!0},isGesture:()=>0!==Oe,getDirection:()=>Oe}})(Ae.direction,Ae.threshold,Ae.maxAngle),$e=g.G.createGesture({name:pe.gestureName,priority:pe.gesturePriority,disableScroll:pe.disableScroll}),Et=()=>{De&&(ge=!1,Le&&Le(Te))},In=()=>!!$e.capture()&&(De=!0,Qe=!1,Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime,ze?ze(Te).then(he):he(),!0),he=()=>{Me&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),te&&te(Te),Qe=!0},we=()=>{De=!1,Pe=!1,ge=!1,Qe=!0,$e.release()},be=Xe=>{const Lt=De,Ut=Qe;if(we(),Ut){if(se(Te,Xe),Lt)return void(ye&&ye(Te));Oe&&Oe(Te)}},Ye=((pe,De,Pe,Qe,ge)=>{let Ae,je,ze,te,ye,Oe,Le,ve=0;const ke=tt=>{ve=Date.now()+2e3,De(tt)&&(!je&&Pe&&(je=f(pe,"touchmove",Pe,ge)),ze||(ze=f(tt.target,"touchend",Te,ge)),te||(te=f(tt.target,"touchcancel",Te,ge)))},Me=tt=>{ve>Date.now()||De(tt)&&(!Oe&&Pe&&(Oe=f(Z(pe),"mousemove",Pe,ge)),Le||(Le=f(Z(pe),"mouseup",qe,ge)))},Te=tt=>{$e(),Qe&&Qe(tt)},qe=tt=>{rt(),Qe&&Qe(tt)},$e=()=>{je&&je(),ze&&ze(),te&&te(),je=ze=te=void 0},rt=()=>{Oe&&Oe(),Le&&Le(),Oe=Le=void 0},$t=()=>{$e(),rt()},Et=(tt=!0)=>{tt?(Ae||(Ae=f(pe,"touchstart",ke,ge)),ye||(ye=f(pe,"mousedown",Me,ge))):(Ae&&Ae(),ye&&ye(),Ae=ye=void 0,$t())};return{enable:Et,stop:$t,destroy:()=>{Et(!1),Qe=Pe=De=void 0}}})(Ae.el,Xe=>{const Lt=fe(Xe);return!(Pe||!Qe||(W(Xe,Te),Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime=Lt,Te.velocityX=Te.velocityY=Te.deltaX=Te.deltaY=0,Te.event=Xe,je&&!1===je(Te))||($e.release(),!$e.start()))&&(Pe=!0,0===ve?In():(qe.start(Te.startX,Te.startY),!0))},Xe=>{De?!ge&&Qe&&(ge=!0,se(Te,Xe),requestAnimationFrame(Et)):(se(Te,Xe),qe.detect(Te.currentX,Te.currentY)&&(!qe.isGesture()||!In())&&Ze())},be,{capture:!1,passive:ke}),Ze=()=>{we(),Ye.stop(),Oe&&Oe(Te)};return{enable(Xe=!0){Xe||(De&&be(void 0),we()),Ye.enable(Xe)},destroy(){$e.destroy(),Ye.destroy()}}},se=(pe,De)=>{if(!De)return;const Pe=pe.currentX,Qe=pe.currentY,ge=pe.currentTime;W(De,pe);const Ae=pe.currentX,je=pe.currentY,te=(pe.currentTime=fe(De))-ge;if(te>0&&te<100){const Oe=(je-Qe)/te;pe.velocityX=(Ae-Pe)/te*.7+.3*pe.velocityX,pe.velocityY=.7*Oe+.3*pe.velocityY}pe.deltaX=Ae-pe.startX,pe.deltaY=je-pe.startY,pe.event=De},W=(pe,De)=>{let Pe=0,Qe=0;if(pe){const ge=pe.changedTouches;if(ge&&ge.length>0){const Ae=ge[0];Pe=Ae.clientX,Qe=Ae.clientY}else void 0!==pe.pageX&&(Pe=pe.pageX,Qe=pe.pageY)}De.currentX=Pe,De.currentY=Qe},fe=pe=>pe.timeStamp||Date.now()},2085:(Ct,me,P)=>{"use strict";P.d(me,{a:()=>W,b:()=>Et,c:()=>V,g:()=>se,i:()=>In});var g=P(1688);class f{constructor(){this.m=new Map}reset(he){this.m=new Map(Object.entries(he))}get(he,we){const be=this.m.get(he);return void 0!==be?be:we}getBoolean(he,we=!1){const be=this.m.get(he);return void 0===be?we:"string"==typeof be?"true"===be:!!be}getNumber(he,we){const be=parseFloat(this.m.get(he));return isNaN(be)?void 0!==we?we:NaN:be}set(he,we){this.m.set(he,we)}}const V=new f,Ie="ionic-persist-config",se=tt=>fe(tt),W=(tt,he)=>("string"==typeof tt&&(he=tt,tt=void 0),se(tt).includes(he)),fe=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let he=tt.Ionic.platforms;return null==he&&(he=tt.Ionic.platforms=pe(tt),he.forEach(we=>tt.document.documentElement.classList.add(`plt-${we}`))),he},pe=tt=>{const he=V.get("platform");return Object.keys(rt).filter(we=>{const be=null==he?void 0:he[we];return"function"==typeof be?be(tt):rt[we](tt)})},Pe=tt=>!!(qe(tt,/iPad/i)||qe(tt,/Macintosh/i)&&ye(tt)),Ae=tt=>qe(tt,/android|sink/i),ye=tt=>$e(tt,"(any-pointer:coarse)"),Le=tt=>ve(tt)||ke(tt),ve=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),ke=tt=>{const he=tt.Capacitor;return!(null==he||!he.isNative)},qe=(tt,he)=>he.test(tt.navigator.userAgent),$e=(tt,he)=>{var we;return null===(we=tt.matchMedia)||void 0===we?void 0:we.call(tt,he).matches},rt={ipad:Pe,iphone:tt=>qe(tt,/iPhone/i),ios:tt=>qe(tt,/iPhone|iPod/i)||Pe(tt),android:Ae,phablet:tt=>{const he=tt.innerWidth,we=tt.innerHeight,be=Math.min(he,we),Ye=Math.max(he,we);return be>390&&be<520&&Ye>620&&Ye<800},tablet:tt=>{const he=tt.innerWidth,we=tt.innerHeight,be=Math.min(he,we),Ye=Math.max(he,we);return Pe(tt)||(tt=>Ae(tt)&&!qe(tt,/mobile/i))(tt)||be>460&&be<820&&Ye>780&&Ye<1400},cordova:ve,capacitor:ke,electron:tt=>qe(tt,/electron/i),pwa:tt=>{var he;return!!(null!==(he=tt.matchMedia)&&void 0!==he&&he.call(tt,"(display-mode: standalone)").matches||tt.navigator.standalone)},mobile:ye,mobileweb:tt=>ye(tt)&&!Le(tt),desktop:tt=>!ye(tt),hybrid:Le};let $t;const Et=tt=>tt&&(0,g.g)(tt)||$t,In=(tt={})=>{if(typeof window>"u")return;const he=window.document,we=window,be=we.Ionic=we.Ionic||{},Ye={};tt._ael&&(Ye.ael=tt._ael),tt._rel&&(Ye.rel=tt._rel),tt._ce&&(Ye.ce=tt._ce),(0,g.a)(Ye);const Ze=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(tt=>{try{const he=tt.sessionStorage.getItem(Ie);return null!==he?JSON.parse(he):{}}catch{return{}}})(we)),{persistConfig:!1}),be.config),(tt=>{const he={};return tt.location.search.slice(1).split("&").map(we=>we.split("=")).map(([we,be])=>[decodeURIComponent(we),decodeURIComponent(be)]).filter(([we])=>((tt,he)=>tt.substr(0,he.length)===he)(we,"ionic:")).map(([we,be])=>[we.slice(6),be]).forEach(([we,be])=>{he[we]=be}),he})(we)),tt);V.reset(Ze),V.getBoolean("persistConfig")&&((tt,he)=>{try{tt.sessionStorage.setItem(Ie,JSON.stringify(he))}catch{return}})(we,Ze),fe(we),be.config=V,be.mode=$t=V.get("mode",he.documentElement.getAttribute("mode")||(W(we,"ios")?"ios":"md")),V.set("mode",$t),he.documentElement.setAttribute("mode",$t),he.documentElement.classList.add($t),V.getBoolean("_testing")&&V.set("animated",!1);const Xe=Ut=>{var it;return null===(it=Ut.tagName)||void 0===it?void 0:it.startsWith("ION-")},Lt=Ut=>["ios","md"].includes(Ut);(0,g.c)(Ut=>{for(;Ut;){const it=Ut.mode||Ut.getAttribute("mode");if(it){if(Lt(it))return it;Xe(Ut)&&console.warn('Invalid ionic mode: "'+it+'", expected: "ios" or "md"')}Ut=Ut.parentElement}return $t})}},2650:(Ct,me,P)=>{"use strict";P.r(me),P.d(me,{iosTransitionAnimation:()=>pe,shadow:()=>Z});var g=P(1774),f=P(1651);P(6225),P(1688);const K=De=>document.querySelector(`${De}.ion-cloned-element`),Z=De=>De.shadowRoot||De,ne=De=>{const Pe="ION-TABS"===De.tagName?De:De.querySelector("ion-tabs"),Qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const ge=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ge?ge.querySelector(Qe):null}return De.querySelector(Qe)},Ie=(De,Pe)=>{const Qe="ION-TABS"===De.tagName?De:De.querySelector("ion-tabs");let ge=[];if(null!=Qe){const Ae=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ae&&(ge=Ae.querySelectorAll("ion-buttons"))}else ge=De.querySelectorAll("ion-buttons");for(const Ae of ge){const je=Ae.closest("ion-header"),ze=je&&!je.classList.contains("header-collapse-condense-inactive"),te=Ae.querySelector("ion-back-button"),ye=Ae.classList.contains("buttons-collapse");if(null!==te&&("start"===Ae.slot||""===Ae.slot)&&(ye&&ze&&Pe||!ye))return te}return null},W=(De,Pe,Qe,ge,Ae,je)=>{const ze=Pe?`calc(100% - ${je.right+4}px)`:je.left-4+"px",te=Pe?"7px":"-7px",ye=Pe?"-4px":"4px",Oe=Pe?"-4px":"4px",Le=Pe?"right":"left",ve=Pe?"left":"right",Te=Qe?[{offset:0,opacity:1,transform:`translate3d(${ye}, ${je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${Ae.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${te}, ${Ae.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ye}, ${je.top-46}px, 0) scale(1)`}],rt=Qe?[{offset:0,opacity:1,transform:`translate3d(${Oe}, ${je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Oe}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Oe}, ${je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Oe}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Oe}, ${je.top-46}px, 0) scale(1)`}],$t=(0,g.c)(),Et=(0,g.c)(),In=K("ion-back-button"),tt=Z(In).querySelector(".button-text"),he=Z(In).querySelector("ion-icon");In.text=ge.text,In.mode=ge.mode,In.icon=ge.icon,In.color=ge.color,In.disabled=ge.disabled,In.style.setProperty("display","block"),In.style.setProperty("position","fixed"),Et.addElement(he),$t.addElement(tt),$t.beforeStyles({"transform-origin":`${Le} center`}).beforeAddWrite(()=>{ge.style.setProperty("display","none"),In.style.setProperty(Le,ze)}).afterAddWrite(()=>{ge.style.setProperty("display",""),In.style.setProperty("display","none"),In.style.removeProperty(Le)}).keyframes(Te),Et.beforeStyles({"transform-origin":`${ve} center`}).keyframes(rt),De.addAnimation([$t,Et])},fe=(De,Pe,Qe,ge,Ae,je)=>{const ze=Pe?`calc(100% - ${Ae.right}px)`:`${Ae.left}px`,te=Pe?"-18px":"18px",ye=Pe?"right":"left",ve=Qe?[{offset:0,opacity:0,transform:`translate3d(${te}, ${je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${je.top-4}px, 0) scale(0.5)`}],ke=K("ion-title"),Me=(0,g.c)();ke.innerText=ge.innerText,ke.size=ge.size,ke.color=ge.color,Me.addElement(ke),Me.beforeStyles({"transform-origin":`${ye} center`,height:"46px",display:"",position:"relative",[ye]:ze}).beforeAddWrite(()=>{ge.style.setProperty("display","none")}).afterAddWrite(()=>{ge.style.setProperty("display",""),ke.style.setProperty("display","none")}).keyframes(ve),De.addAnimation(Me)},pe=(De,Pe)=>{var Qe;try{const ge="cubic-bezier(0.32,0.72,0,1)",Ae="opacity",je="transform",ze="0%",ye="rtl"===De.ownerDocument.dir,Oe=ye?"-99.5%":"99.5%",Le=ye?"33%":"-33%",ve=Pe.enteringEl,ke=Pe.leavingEl,Me="back"===Pe.direction,Te=ve.querySelector(":scope > ion-content"),qe=ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),$e=ve.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=(0,g.c)(),$t=(0,g.c)();if(rt.addElement(ve).duration((null!==(Qe=Pe.duration)&&void 0!==Qe?Qe:0)||540).easing(Pe.easing||ge).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&null!=De){const he=(0,g.c)();he.addElement(De),rt.addAnimation(he)}if(Te||0!==$e.length||0!==qe.length?($t.addElement(Te),$t.addElement(qe)):$t.addElement(ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation($t),Me?$t.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Le})`,`translateX(${ze})`).fromTo(Ae,.8,1):$t.beforeClearStyles([Ae]).fromTo("transform",`translateX(${Oe})`,`translateX(${ze})`),Te){const he=Z(Te).querySelector(".transition-effect");if(he){const we=he.querySelector(".transition-cover"),be=he.querySelector(".transition-shadow"),Ye=(0,g.c)(),Ze=(0,g.c)(),Xe=(0,g.c)();Ye.addElement(he).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ze.addElement(we).beforeClearStyles([Ae]).fromTo(Ae,0,.1),Xe.addElement(be).beforeClearStyles([Ae]).fromTo(Ae,.03,.7),Ye.addAnimation([Ze,Xe]),$t.addAnimation([Ye])}}const Et=ve.querySelector("ion-header.header-collapse-condense"),{forward:In,backward:tt}=((De,Pe,Qe,ge,Ae)=>{const je=Ie(ge,Qe),ze=ne(Ae),te=ne(ge),ye=Ie(Ae,Qe),Oe=null!==je&&null!==ze&&!Qe,Le=null!==te&&null!==ye&&Qe;if(Oe){const ve=ze.getBoundingClientRect(),ke=je.getBoundingClientRect();fe(De,Pe,Qe,ze,ve,ke),W(De,Pe,Qe,je,ve,ke)}else if(Le){const ve=te.getBoundingClientRect(),ke=ye.getBoundingClientRect();fe(De,Pe,Qe,te,ve,ke),W(De,Pe,Qe,ye,ve,ke)}return{forward:Oe,backward:Le}})(rt,ye,Me,ve,ke);if($e.forEach(he=>{const we=(0,g.c)();we.addElement(he),rt.addAnimation(we);const be=(0,g.c)();be.addElement(he.querySelector("ion-title"));const Ye=(0,g.c)(),Ze=Array.from(he.querySelectorAll("ion-buttons,[menuToggle]")),Xe=he.closest("ion-header"),Lt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive");let Ut;Ut=Ze.filter(Me?It=>{const Wt=It.classList.contains("buttons-collapse");return Wt&&!Lt||!Wt}:It=>!It.classList.contains("buttons-collapse")),Ye.addElement(Ut);const it=(0,g.c)();it.addElement(he.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ut=(0,g.c)();ut.addElement(Z(he).querySelector(".toolbar-background"));const dt=(0,g.c)(),vt=he.querySelector("ion-back-button");if(vt&&dt.addElement(vt),we.addAnimation([be,Ye,it,ut,dt]),Ye.fromTo(Ae,.01,1),it.fromTo(Ae,.01,1),Me)Lt||be.fromTo("transform",`translateX(${Le})`,`translateX(${ze})`).fromTo(Ae,.01,1),it.fromTo("transform",`translateX(${Le})`,`translateX(${ze})`),dt.fromTo(Ae,.01,1);else if(Et||be.fromTo("transform",`translateX(${Oe})`,`translateX(${ze})`).fromTo(Ae,.01,1),it.fromTo("transform",`translateX(${Oe})`,`translateX(${ze})`),ut.beforeClearStyles([Ae,"transform"]),(null==Xe?void 0:Xe.translucent)?ut.fromTo("transform",ye?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ut.fromTo(Ae,.01,"var(--opacity)"),In||dt.fromTo(Ae,.01,1),vt&&!In){const Wt=(0,g.c)();Wt.addElement(Z(vt).querySelector(".button-text")).fromTo("transform",ye?"translateX(-100px)":"translateX(100px)","translateX(0px)"),we.addAnimation(Wt)}}),ke){const he=(0,g.c)(),we=ke.querySelector(":scope > ion-content"),be=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Ye=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(we||0!==be.length||0!==Ye.length?(he.addElement(we),he.addElement(Ye)):he.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation(he),Me){he.beforeClearStyles([Ae]).fromTo("transform",`translateX(${ze})`,ye?"translateX(-100%)":"translateX(100%)");const Ze=(0,f.g)(ke);rt.afterAddWrite(()=>{"normal"===rt.getDirection()&&Ze.style.setProperty("display","none")})}else he.fromTo("transform",`translateX(${ze})`,`translateX(${Le})`).fromTo(Ae,1,.8);if(we){const Ze=Z(we).querySelector(".transition-effect");if(Ze){const Xe=Ze.querySelector(".transition-cover"),Lt=Ze.querySelector(".transition-shadow"),Ut=(0,g.c)(),it=(0,g.c)(),ut=(0,g.c)();Ut.addElement(Ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),it.addElement(Xe).beforeClearStyles([Ae]).fromTo(Ae,.1,0),ut.addElement(Lt).beforeClearStyles([Ae]).fromTo(Ae,.7,.03),Ut.addAnimation([it,ut]),he.addAnimation([Ut])}}be.forEach(Ze=>{const Xe=(0,g.c)();Xe.addElement(Ze);const Lt=(0,g.c)();Lt.addElement(Ze.querySelector("ion-title"));const Ut=(0,g.c)(),it=Ze.querySelectorAll("ion-buttons,[menuToggle]"),ut=Ze.closest("ion-header"),dt=null==ut?void 0:ut.classList.contains("header-collapse-condense-inactive"),vt=Array.from(it).filter(qt=>{const sr=qt.classList.contains("buttons-collapse");return sr&&!dt||!sr});Ut.addElement(vt);const It=(0,g.c)(),Wt=Ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Wt.length>0&&It.addElement(Wt);const Xt=(0,g.c)();Xt.addElement(Z(Ze).querySelector(".toolbar-background"));const dn=(0,g.c)(),fn=Ze.querySelector("ion-back-button");if(fn&&dn.addElement(fn),Xe.addAnimation([Lt,Ut,It,dn,Xt]),rt.addAnimation(Xe),dn.fromTo(Ae,.99,0),Ut.fromTo(Ae,.99,0),It.fromTo(Ae,.99,0),Me){if(dt||Lt.fromTo("transform",`translateX(${ze})`,ye?"translateX(-100%)":"translateX(100%)").fromTo(Ae,.99,0),It.fromTo("transform",`translateX(${ze})`,ye?"translateX(-100%)":"translateX(100%)"),Xt.beforeClearStyles([Ae,"transform"]),(null==ut?void 0:ut.translucent)?Xt.fromTo("transform","translateX(0px)",ye?"translateX(-100%)":"translateX(100%)"):Xt.fromTo(Ae,"var(--opacity)",0),fn&&!tt){const sr=(0,g.c)();sr.addElement(Z(fn).querySelector(".button-text")).fromTo("transform",`translateX(${ze})`,`translateX(${(ye?-124:124)+"px"})`),Xe.addAnimation(sr)}}else dt||Lt.fromTo("transform",`translateX(${ze})`,`translateX(${Le})`).fromTo(Ae,.99,0).afterClearStyles([je,Ae]),It.fromTo("transform",`translateX(${ze})`,`translateX(${Le})`).afterClearStyles([je,Ae]),dn.afterClearStyles([Ae]),Lt.afterClearStyles([Ae]),Ut.afterClearStyles([Ae])})}return rt}catch(ge){throw ge}}},1904:(Ct,me,P)=>{"use strict";P.r(me),P.d(me,{mdTransitionAnimation:()=>Q});var g=P(1774),f=P(1651);P(6225),P(1688);const Q=(K,Z)=>{var ne,Ie,se;const W="40px",pe="back"===Z.direction,Pe=Z.leavingEl,Qe=(0,f.g)(Z.enteringEl),ge=Qe.querySelector("ion-toolbar"),Ae=(0,g.c)();if(Ae.addElement(Qe).fill("both").beforeRemoveClass("ion-page-invisible"),pe?Ae.duration((null!==(ne=Z.duration)&&void 0!==ne?ne:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ae.duration((null!==(Ie=Z.duration)&&void 0!==Ie?Ie:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),ge){const je=(0,g.c)();je.addElement(ge),Ae.addAnimation(je)}if(Pe&&pe){Ae.duration((null!==(se=Z.duration)&&void 0!==se?se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const je=(0,g.c)();je.addElement((0,f.g)(Pe)).onFinish(ze=>{1===ze&&je.elements.length>0&&je.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),Ae.addAnimation(je)}return Ae}},1647:(Ct,me,P)=>{"use strict";P.d(me,{B:()=>Xe,G:()=>Lt,a:()=>W,b:()=>fe,c:()=>Qe,d:()=>Ut,e:()=>it,f:()=>rt,g:()=>Et,h:()=>he,i:()=>be,j:()=>Ae,k:()=>je,m:()=>De,n:()=>Ie,o:()=>ye,q:()=>qe,s:()=>Ze,t:()=>ge});var g=P(5861),f=P(2085),V=P(6559),U=P(2124),Q=P(839),K=P(6710);let Z=0,ne=0;const Ie=new WeakMap,se=ut=>({create:dt=>ze(ut,dt),dismiss:(dt,vt,It)=>Me(document,dt,vt,ut,It),getTop:()=>(0,g.Z)(function*(){return qe(document,ut)})()}),W=se("ion-alert"),fe=se("ion-action-sheet"),De=se("ion-modal"),Qe=se("ion-popover"),ge=se("ion-toast"),Ae=ut=>{typeof document<"u"&&ke(document);const dt=Z++;ut.overlayIndex=dt},je=ut=>(ut.hasAttribute("id")||(ut.id="ion-overlay-"+ ++ne),ut.id),ze=(ut,dt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ut).then(()=>{const vt=document.createElement(ut);return vt.classList.add("overlay-hidden"),Object.assign(vt,Object.assign(Object.assign({},dt),{hasController:!0})),In(document).appendChild(vt),new Promise(It=>(0,Q.c)(vt,It))}):Promise.resolve(),te='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(ut,dt)=>{let vt=ut.querySelector(te);const It=null==vt?void 0:vt.shadowRoot;It&&(vt=It.querySelector(te)||vt),vt?(0,Q.f)(vt):dt.focus()},Le=(ut,dt)=>{const vt=Array.from(ut.querySelectorAll(te));let It=vt.length>0?vt[vt.length-1]:null;const Wt=null==It?void 0:It.shadowRoot;Wt&&(It=Wt.querySelector(te)||It),It?It.focus():dt.focus()},ke=ut=>{0===Z&&(Z=1,ut.addEventListener("focus",dt=>{((ut,dt)=>{const vt=qe(dt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),It=ut.target;vt&&It&&!vt.classList.contains("ion-disable-focus-trap")&&(vt.shadowRoot?(()=>{if(vt.contains(It))vt.lastFocus=It;else{const dn=vt.lastFocus;ye(vt,vt),dn===dt.activeElement&&Le(vt,vt),vt.lastFocus=dt.activeElement}})():(()=>{if(vt===It)vt.lastFocus=void 0;else{const dn=(0,Q.g)(vt);if(!dn.contains(It))return;const fn=dn.querySelector(".ion-overlay-wrapper");if(!fn)return;if(fn.contains(It)||It===dn.querySelector("ion-backdrop"))vt.lastFocus=It;else{const qt=vt.lastFocus;ye(fn,vt),qt===dt.activeElement&&Le(fn,vt),vt.lastFocus=dt.activeElement}}})())})(dt,ut)},!0),ut.addEventListener("ionBackButton",dt=>{const vt=qe(ut);null!=vt&&vt.backdropDismiss&&dt.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>vt.dismiss(void 0,Xe))}),ut.addEventListener("keydown",dt=>{if("Escape"===dt.key){const vt=qe(ut);null!=vt&&vt.backdropDismiss&&vt.dismiss(void 0,Xe)}}))},Me=(ut,dt,vt,It,Wt)=>{const Xt=qe(ut,It,Wt);return Xt?Xt.dismiss(dt,vt):Promise.reject("overlay does not exist")},qe=(ut,dt,vt)=>{const It=((ut,dt)=>(void 0===dt&&(dt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ut.querySelectorAll(dt)).filter(vt=>vt.overlayIndex>0)))(ut,dt).filter(Wt=>!(ut=>ut.classList.contains("overlay-hidden"))(Wt));return void 0===vt?It[It.length-1]:It.find(Wt=>Wt.id===vt)},$e=(ut=!1)=>{const vt=In(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");vt&&(ut?vt.setAttribute("aria-hidden","true"):vt.removeAttribute("aria-hidden"))},rt=function(){var ut=(0,g.Z)(function*(dt,vt,It,Wt,Xt){var dn,fn;if(dt.presented)return;$e(!0),dt.presented=!0,dt.willPresent.emit(),null===(dn=dt.willPresentShorthand)||void 0===dn||dn.emit();const qt=(0,f.b)(dt),sr=dt.enterAnimation?dt.enterAnimation:f.c.get(vt,"ios"===qt?It:Wt);(yield tt(dt,sr,dt.el,Xt))&&(dt.didPresent.emit(),null===(fn=dt.didPresentShorthand)||void 0===fn||fn.emit()),"ION-TOAST"!==dt.el.tagName&&$t(dt.el),dt.keyboardClose&&(null===document.activeElement||!dt.el.contains(document.activeElement))&&dt.el.focus()});return function(vt,It,Wt,Xt,dn){return ut.apply(this,arguments)}}(),$t=function(){var ut=(0,g.Z)(function*(dt){let vt=document.activeElement;if(!vt)return;const It=null==vt?void 0:vt.shadowRoot;It&&(vt=It.querySelector(te)||vt),yield dt.onDidDismiss(),vt.focus()});return function(vt){return ut.apply(this,arguments)}}(),Et=function(){var ut=(0,g.Z)(function*(dt,vt,It,Wt,Xt,dn,fn){var qt,sr;if(!dt.presented)return!1;$e(!1),dt.presented=!1;try{dt.el.style.setProperty("pointer-events","none"),dt.willDismiss.emit({data:vt,role:It}),null===(qt=dt.willDismissShorthand)||void 0===qt||qt.emit({data:vt,role:It});const Tt=(0,f.b)(dt),Qn=dt.leaveAnimation?dt.leaveAnimation:f.c.get(Wt,"ios"===Tt?Xt:dn);It!==Lt&&(yield tt(dt,Qn,dt.el,fn)),dt.didDismiss.emit({data:vt,role:It}),null===(sr=dt.didDismissShorthand)||void 0===sr||sr.emit({data:vt,role:It}),Ie.delete(dt),dt.el.classList.add("overlay-hidden"),dt.el.style.removeProperty("pointer-events"),void 0!==dt.el.lastFocus&&(dt.el.lastFocus=void 0)}catch(Tt){console.error(Tt)}return dt.el.remove(),!0});return function(vt,It,Wt,Xt,dn,fn,qt){return ut.apply(this,arguments)}}(),In=ut=>ut.querySelector("ion-app")||ut.body,tt=function(){var ut=(0,g.Z)(function*(dt,vt,It,Wt){It.classList.remove("overlay-hidden");const dn=vt(dt.el,Wt);(!dt.animated||!f.c.getBoolean("animated",!0))&&dn.duration(0),dt.keyboardClose&&dn.beforeAddWrite(()=>{const qt=It.ownerDocument.activeElement;null!=qt&&qt.matches("input,ion-input, ion-textarea")&&qt.blur()});const fn=Ie.get(dt)||[];return Ie.set(dt,[...fn,dn]),yield dn.play(),!0});return function(vt,It,Wt,Xt){return ut.apply(this,arguments)}}(),he=(ut,dt)=>{let vt;const It=new Promise(Wt=>vt=Wt);return we(ut,dt,Wt=>{vt(Wt.detail)}),It},we=(ut,dt,vt)=>{const It=Wt=>{(0,Q.b)(ut,dt,It),vt(Wt)};(0,Q.a)(ut,dt,It)},be=ut=>"cancel"===ut||ut===Xe,Ye=ut=>ut(),Ze=(ut,dt)=>{if("function"==typeof ut)return f.c.get("_zoneGate",Ye)(()=>{try{return ut(dt)}catch(It){throw It}})},Xe="backdrop",Lt="gesture",Ut=ut=>{let vt,dt=!1;const It=(0,V.C)(),Wt=(fn=!1)=>{if(vt&&!fn)return{delegate:vt,inline:dt};const{el:qt,hasController:sr,delegate:Tt}=ut;return dt=null!==qt.parentNode&&!sr,vt=dt?Tt||It:Tt,{inline:dt,delegate:vt}};return{attachViewToDom:function(){var fn=(0,g.Z)(function*(qt){const{delegate:sr}=Wt(!0);if(sr)return yield sr.attachViewToDom(ut.el,qt);const{hasController:Tt}=ut;if(Tt&&void 0!==qt)throw new Error("framework delegate is missing");return null});return function(sr){return fn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:fn}=Wt();fn&&void 0!==ut.el&&fn.removeViewFromDom(ut.el.parentElement,ut.el)}}},it=()=>{let ut;const dt=()=>{ut&&(ut(),ut=void 0)};return{addClickListener:(It,Wt)=>{dt();const Xt=void 0!==Wt?document.getElementById(Wt):null;Xt?ut=((fn,qt)=>{const sr=()=>{qt.present()};return fn.addEventListener("click",sr),()=>{fn.removeEventListener("click",sr)}})(Xt,It):(0,K.p)(`A trigger element with the ID "${Wt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,It)},removeClickListener:dt}}},4143:(Ct,me,P)=>{"use strict";var g=P(6593),f=P(5879),V=P(3914),U=P(9843);let Q=(()=>{var L;class E{constructor(){}}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-root"]],decls:2,vars:0,template:function(N,q){1&N&&(f.TgZ(0,"ion-app"),f._UZ(1,"ion-router-outlet"),f.qZA())},dependencies:[U.dr,U.jP]}),E})();const K=[{path:"home",loadChildren:()=>P.e(9927).then(P.bind(P,9927)).then(L=>L.HomePageModule)},{path:"",redirectTo:"splash",pathMatch:"full"},{path:"splash",loadChildren:()=>P.e(1321).then(P.bind(P,1321)).then(L=>L.SplashPageModule)},{path:"login",loadChildren:()=>P.e(6488).then(P.bind(P,6488)).then(L=>L.LoginPageModule)},{path:"register",loadChildren:()=>P.e(8727).then(P.bind(P,8727)).then(L=>L.RegisterPageModule)},{path:"recoverypass",loadChildren:()=>P.e(9175).then(P.bind(P,9175)).then(L=>L.RecoverypassPageModule)},{path:"pro-home",loadChildren:()=>Promise.all([P.e(7866),P.e(2561)]).then(P.bind(P,2561)).then(L=>L.HomePageModule)},{path:"pro-asistencia",loadChildren:()=>Promise.all([P.e(7866),P.e(200)]).then(P.bind(P,200)).then(L=>L.AsistenciaPageModule)},{path:"asistencia-alumno",loadChildren:()=>P.e(2506).then(P.bind(P,2506)).then(L=>L.AsistenciaAlumnoPageModule)},{path:"codigo-qr",loadChildren:()=>P.e(1048).then(P.bind(P,1048)).then(L=>L.CodigoQrPageModule)}];let Z=(()=>{var L;class E{}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[V.Bz.forRoot(K,{preloadingStrategy:V.wm}),V.Bz]}),E})();var ne=P(6825);function se(L){return new f.vHH(3e3,!1)}function vt(L){switch(L.length){case 0:return new ne.ZN;case 1:return L[0];default:return new ne.ZE(L)}}function It(L,E,A=new Map,N=new Map){const q=[],ae=[];let Se=-1,He=null;if(E.forEach(nt=>{const ht=nt.get("offset"),Jt=ht==Se,wt=Jt&&He||new Map;nt.forEach((yn,Sn)=>{let Cn=Sn,Ln=yn;if("offset"!==Sn)switch(Cn=L.normalizePropertyName(Cn,q),Ln){case ne.k1:Ln=A.get(Sn);break;case ne.l3:Ln=N.get(Sn);break;default:Ln=L.normalizeStyleValue(Sn,Cn,Ln,q)}wt.set(Cn,Ln)}),Jt||ae.push(wt),He=wt,Se=ht}),q.length)throw function In(L){return new f.vHH(3502,!1)}();return ae}function Wt(L,E,A,N){switch(E){case"start":L.onStart(()=>N(A&&Xt(A,"start",L)));break;case"done":L.onDone(()=>N(A&&Xt(A,"done",L)));break;case"destroy":L.onDestroy(()=>N(A&&Xt(A,"destroy",L)))}}function Xt(L,E,A){const N=A.totalTime,ae=dn(L.element,L.triggerName,L.fromState,L.toState,E||L.phaseName,null==N?L.totalTime:N,!!A.disabled),Se=L._data;return null!=Se&&(ae._data=Se),ae}function dn(L,E,A,N,q="",ae=0,Se){return{element:L,triggerName:E,fromState:A,toState:N,phaseName:q,totalTime:ae,disabled:!!Se}}function fn(L,E,A){let N=L.get(E);return N||L.set(E,N=A),N}function qt(L){const E=L.indexOf(":");return[L.substring(1,E),L.slice(E+1)]}const sr=(()=>typeof document>"u"?null:document.documentElement)();function Tt(L){const E=L.parentNode||L.host||null;return E===sr?null:E}let hr=null,fr=!1;function Gr(L,E){for(;E;){if(E===L)return!0;E=Tt(E)}return!1}function cr(L,E,A){if(A)return Array.from(L.querySelectorAll(E));const N=L.querySelector(E);return N?[N]:[]}let Ur=(()=>{var L;class E{validateStyleProperty(N){return function $r(L){hr||(hr=function Fn(){return typeof document<"u"?document.body:null}()||{},fr=!!hr.style&&"WebkitAppearance"in hr.style);let E=!0;return hr.style&&!function Qn(L){return"ebkit"==L.substring(1,6)}(L)&&(E=L in hr.style,!E&&fr&&(E="Webkit"+L.charAt(0).toUpperCase()+L.slice(1)in hr.style)),E}(N)}matchesElement(N,q){return!1}containsElement(N,q){return Gr(N,q)}getParentElement(N){return Tt(N)}query(N,q,ae){return cr(N,q,ae)}computeStyle(N,q,ae){return ae||""}animate(N,q,ae,Se,He,nt=[],ht){return new ne.ZN(ae,Se)}}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),E})(),Xn=(()=>{class E{}return E.NOOP=new Ur,E})();const Cr=1e3,Gn="ng-enter",Ti="ng-leave",Or="ng-trigger",jr=".ng-trigger",_i="ng-animating",pi=".ng-animating";function Fr(L){if("number"==typeof L)return L;const E=L.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Ai(parseFloat(E[1]),E[2])}function Ai(L,E){return"s"===E?L*Cr:L}function Wr(L,E,A){return L.hasOwnProperty("duration")?L:function Xi(L,E,A){let q,ae=0,Se="";if("string"==typeof L){const He=L.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===He)return E.push(se()),{duration:0,delay:0,easing:""};q=Ai(parseFloat(He[1]),He[2]);const nt=He[3];null!=nt&&(ae=Ai(parseFloat(nt),He[4]));const ht=He[5];ht&&(Se=ht)}else q=L;if(!A){let He=!1,nt=E.length;q<0&&(E.push(function W(){return new f.vHH(3100,!1)}()),He=!0),ae<0&&(E.push(function fe(){return new f.vHH(3101,!1)}()),He=!0),He&&E.splice(nt,0,se())}return{duration:q,delay:ae,easing:Se}}(L,E,A)}function gi(L,E={}){return Object.keys(L).forEach(A=>{E[A]=L[A]}),E}function vi(L){const E=new Map;return Object.keys(L).forEach(A=>{E.set(A,L[A])}),E}function ie(L,E=new Map,A){if(A)for(let[N,q]of A)E.set(N,q);for(let[N,q]of L)E.set(N,q);return E}function re(L,E,A){E.forEach((N,q)=>{const ae=on(q);A&&!A.has(q)&&A.set(q,L.style[ae]),L.style[ae]=N})}function Fe(L,E){E.forEach((A,N)=>{const q=on(N);L.style[q]=""})}function ue(L){return Array.isArray(L)?1==L.length?L[0]:(0,ne.vP)(L):L}const gt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vt(L){let E=[];if("string"==typeof L){let A;for(;A=gt.exec(L);)E.push(A[1]);gt.lastIndex=0}return E}function Zt(L,E,A){const N=L.toString(),q=N.replace(gt,(ae,Se)=>{let He=E[Se];return null==He&&(A.push(function De(L){return new f.vHH(3003,!1)}()),He=""),He.toString()});return q==N?L:q}function vn(L){const E=[];let A=L.next();for(;!A.done;)E.push(A.value),A=L.next();return E}const pn=/-+([a-z0-9])/g;function on(L){return L.replace(pn,(...E)=>E[1].toUpperCase())}function si(L,E,A){switch(E.type){case 7:return L.visitTrigger(E,A);case 0:return L.visitState(E,A);case 1:return L.visitTransition(E,A);case 2:return L.visitSequence(E,A);case 3:return L.visitGroup(E,A);case 4:return L.visitAnimate(E,A);case 5:return L.visitKeyframes(E,A);case 6:return L.visitStyle(E,A);case 8:return L.visitReference(E,A);case 9:return L.visitAnimateChild(E,A);case 10:return L.visitAnimateRef(E,A);case 11:return L.visitQuery(E,A);case 12:return L.visitStagger(E,A);default:throw function Pe(L){return new f.vHH(3004,!1)}()}}function Dt(L,E){return window.getComputedStyle(L)[E]}const wr="*";function Pr(L,E){const A=[];return"string"==typeof L?L.split(/\s*,\s*/).forEach(N=>function oi(L,E,A){if(":"==L[0]){const nt=function Xr(L,E){switch(L){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(A,N)=>parseFloat(N)>parseFloat(A);case":decrement":return(A,N)=>parseFloat(N)<parseFloat(A);default:return E.push(function $e(L){return new f.vHH(3016,!1)}()),"* => *"}}(L,A);if("function"==typeof nt)return void E.push(nt);L=nt}const N=L.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return A.push(function qe(L){return new f.vHH(3015,!1)}()),E;const q=N[1],ae=N[2],Se=N[3];E.push(ns(q,Se));"<"==ae[0]&&!(q==wr&&Se==wr)&&E.push(ns(Se,q))}(N,A,E)):A.push(L),A}const or=new Set(["true","1"]),Jn=new Set(["false","0"]);function ns(L,E){const A=or.has(L)||Jn.has(L),N=or.has(E)||Jn.has(E);return(q,ae)=>{let Se=L==wr||L==q,He=E==wr||E==ae;return!Se&&A&&"boolean"==typeof q&&(Se=q?or.has(L):Jn.has(L)),!He&&N&&"boolean"==typeof ae&&(He=ae?or.has(E):Jn.has(E)),Se&&He}}const xr=new RegExp("s*:selfs*,?","g");function Zi(L,E,A,N){return new ai(L).build(E,A,N)}class ai{constructor(E){this._driver=E}build(E,A,N){const q=new Vi(A);return this._resetContextStyleTimingState(q),si(this,ue(E),q)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,A){let N=A.queryCount=0,q=A.depCount=0;const ae=[],Se=[];return"@"==E.name.charAt(0)&&A.errors.push(function ge(){return new f.vHH(3006,!1)}()),E.definitions.forEach(He=>{if(this._resetContextStyleTimingState(A),0==He.type){const nt=He,ht=nt.name;ht.toString().split(/\s*,\s*/).forEach(Jt=>{nt.name=Jt,ae.push(this.visitState(nt,A))}),nt.name=ht}else if(1==He.type){const nt=this.visitTransition(He,A);N+=nt.queryCount,q+=nt.depCount,Se.push(nt)}else A.errors.push(function Ae(){return new f.vHH(3007,!1)}())}),{type:7,name:E.name,states:ae,transitions:Se,queryCount:N,depCount:q,options:null}}visitState(E,A){const N=this.visitStyle(E.styles,A),q=E.options&&E.options.params||null;if(N.containsDynamicStyles){const ae=new Set,Se=q||{};N.styles.forEach(He=>{He instanceof Map&&He.forEach(nt=>{Vt(nt).forEach(ht=>{Se.hasOwnProperty(ht)||ae.add(ht)})})}),ae.size&&(vn(ae.values()),A.errors.push(function je(L,E){return new f.vHH(3008,!1)}()))}return{type:0,name:E.name,style:N,options:q?{params:q}:null}}visitTransition(E,A){A.queryCount=0,A.depCount=0;const N=si(this,ue(E.animation),A);return{type:1,matchers:Pr(E.expr,A.errors),animation:N,queryCount:A.queryCount,depCount:A.depCount,options:qr(E.options)}}visitSequence(E,A){return{type:2,steps:E.steps.map(N=>si(this,N,A)),options:qr(E.options)}}visitGroup(E,A){const N=A.currentTime;let q=0;const ae=E.steps.map(Se=>{A.currentTime=N;const He=si(this,Se,A);return q=Math.max(q,A.currentTime),He});return A.currentTime=q,{type:3,steps:ae,options:qr(E.options)}}visitAnimate(E,A){const N=function ji(L,E){if(L.hasOwnProperty("duration"))return L;if("number"==typeof L)return de(Wr(L,E).duration,0,"");const A=L;if(A.split(/\s+/).some(ae=>"{"==ae.charAt(0)&&"{"==ae.charAt(1))){const ae=de(0,0,"");return ae.dynamic=!0,ae.strValue=A,ae}const q=Wr(A,E);return de(q.duration,q.delay,q.easing)}(E.timings,A.errors);A.currentAnimateTimings=N;let q,ae=E.styles?E.styles:(0,ne.oB)({});if(5==ae.type)q=this.visitKeyframes(ae,A);else{let Se=E.styles,He=!1;if(!Se){He=!0;const ht={};N.easing&&(ht.easing=N.easing),Se=(0,ne.oB)(ht)}A.currentTime+=N.duration+N.delay;const nt=this.visitStyle(Se,A);nt.isEmptyStep=He,q=nt}return A.currentAnimateTimings=null,{type:4,timings:N,style:q,options:null}}visitStyle(E,A){const N=this._makeStyleAst(E,A);return this._validateStyleAst(N,A),N}_makeStyleAst(E,A){const N=[],q=Array.isArray(E.styles)?E.styles:[E.styles];for(let He of q)"string"==typeof He?He===ne.l3?N.push(He):A.errors.push(new f.vHH(3002,!1)):N.push(vi(He));let ae=!1,Se=null;return N.forEach(He=>{if(He instanceof Map&&(He.has("easing")&&(Se=He.get("easing"),He.delete("easing")),!ae))for(let nt of He.values())if(nt.toString().indexOf("{{")>=0){ae=!0;break}}),{type:6,styles:N,easing:Se,offset:E.offset,containsDynamicStyles:ae,options:null}}_validateStyleAst(E,A){const N=A.currentAnimateTimings;let q=A.currentTime,ae=A.currentTime;N&&ae>0&&(ae-=N.duration+N.delay),E.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((He,nt)=>{const ht=A.collectedStyles.get(A.currentQuerySelector),Jt=ht.get(nt);let wt=!0;Jt&&(ae!=q&&ae>=Jt.startTime&&q<=Jt.endTime&&(A.errors.push(function ye(L,E,A,N,q){return new f.vHH(3010,!1)}()),wt=!1),ae=Jt.startTime),wt&&ht.set(nt,{startTime:ae,endTime:q}),A.options&&function Ue(L,E,A){const N=E.params||{},q=Vt(L);q.length&&q.forEach(ae=>{N.hasOwnProperty(ae)||A.push(function pe(L){return new f.vHH(3001,!1)}())})}(He,A.options,A.errors)})})}visitKeyframes(E,A){const N={type:5,styles:[],options:null};if(!A.currentAnimateTimings)return A.errors.push(function Oe(){return new f.vHH(3011,!1)}()),N;let ae=0;const Se=[];let He=!1,nt=!1,ht=0;const Jt=E.steps.map(ir=>{const Nr=this._makeStyleAst(ir,A);let Di=null!=Nr.offset?Nr.offset:function ys(L){if("string"==typeof L)return null;let E=null;if(Array.isArray(L))L.forEach(A=>{if(A instanceof Map&&A.has("offset")){const N=A;E=parseFloat(N.get("offset")),N.delete("offset")}});else if(L instanceof Map&&L.has("offset")){const A=L;E=parseFloat(A.get("offset")),A.delete("offset")}return E}(Nr.styles),mr=0;return null!=Di&&(ae++,mr=Nr.offset=Di),nt=nt||mr<0||mr>1,He=He||mr<ht,ht=mr,Se.push(mr),Nr});nt&&A.errors.push(function Le(){return new f.vHH(3012,!1)}()),He&&A.errors.push(function ve(){return new f.vHH(3200,!1)}());const wt=E.steps.length;let yn=0;ae>0&&ae<wt?A.errors.push(function ke(){return new f.vHH(3202,!1)}()):0==ae&&(yn=1/(wt-1));const Sn=wt-1,Cn=A.currentTime,Ln=A.currentAnimateTimings,Bn=Ln.duration;return Jt.forEach((ir,Nr)=>{const Di=yn>0?Nr==Sn?1:yn*Nr:Se[Nr],mr=Di*Bn;A.currentTime=Cn+Ln.delay+mr,Ln.duration=mr,this._validateStyleAst(ir,A),ir.offset=Di,N.styles.push(ir)}),N}visitReference(E,A){return{type:8,animation:si(this,ue(E.animation),A),options:qr(E.options)}}visitAnimateChild(E,A){return A.depCount++,{type:9,options:qr(E.options)}}visitAnimateRef(E,A){return{type:10,animation:this.visitReference(E.animation,A),options:qr(E.options)}}visitQuery(E,A){const N=A.currentQuerySelector,q=E.options||{};A.queryCount++,A.currentQuery=E;const[ae,Se]=function ds(L){const E=!!L.split(/\s*,\s*/).find(A=>":self"==A);return E&&(L=L.replace(xr,"")),L=L.replace(/@\*/g,jr).replace(/@\w+/g,A=>jr+"-"+A.slice(1)).replace(/:animating/g,pi),[L,E]}(E.selector);A.currentQuerySelector=N.length?N+" "+ae:ae,fn(A.collectedStyles,A.currentQuerySelector,new Map);const He=si(this,ue(E.animation),A);return A.currentQuery=null,A.currentQuerySelector=N,{type:11,selector:ae,limit:q.limit||0,optional:!!q.optional,includeSelf:Se,animation:He,originalSelector:E.selector,options:qr(E.options)}}visitStagger(E,A){A.currentQuery||A.errors.push(function Me(){return new f.vHH(3013,!1)}());const N="full"===E.timings?{duration:0,delay:0,easing:"full"}:Wr(E.timings,A.errors,!0);return{type:12,animation:si(this,ue(E.animation),A),timings:N,options:null}}}class Vi{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qr(L){return L?(L=gi(L)).params&&(L.params=function Oi(L){return L?gi(L):null}(L.params)):L={},L}function de(L,E,A){return{duration:L,delay:E,easing:A}}function X(L,E,A,N,q,ae,Se=null,He=!1){return{type:1,element:L,keyframes:E,preStyleProps:A,postStyleProps:N,duration:q,delay:ae,totalTime:q+ae,easing:Se,subTimeline:He}}class Re{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,A){let N=this._map.get(E);N||this._map.set(E,N=[]),N.push(...A)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const lt=new RegExp(":enter","g"),Pt=new RegExp(":leave","g");function bt(L,E,A,N,q,ae=new Map,Se=new Map,He,nt,ht=[]){return(new Bt).buildKeyframes(L,E,A,N,q,ae,Se,He,nt,ht)}class Bt{buildKeyframes(E,A,N,q,ae,Se,He,nt,ht,Jt=[]){ht=ht||new Re;const wt=new xn(E,A,ht,q,ae,Jt,[]);wt.options=nt;const yn=nt.delay?Fr(nt.delay):0;wt.currentTimeline.delayNextStep(yn),wt.currentTimeline.setStyles([Se],null,wt.errors,nt),si(this,N,wt);const Sn=wt.timelines.filter(Cn=>Cn.containsAnimation());if(Sn.length&&He.size){let Cn;for(let Ln=Sn.length-1;Ln>=0;Ln--){const Bn=Sn[Ln];if(Bn.element===A){Cn=Bn;break}}Cn&&!Cn.allowOnlyTimelineStyles()&&Cn.setStyles([He],null,wt.errors,nt)}return Sn.length?Sn.map(Cn=>Cn.buildKeyframes()):[X(A,[],[],[],0,yn,"",!1)]}visitTrigger(E,A){}visitState(E,A){}visitTransition(E,A){}visitAnimateChild(E,A){const N=A.subInstructions.get(A.element);if(N){const q=A.createSubContext(E.options),ae=A.currentTimeline.currentTime,Se=this._visitSubInstructions(N,q,q.options);ae!=Se&&A.transformIntoNewTimeline(Se)}A.previousNode=E}visitAnimateRef(E,A){const N=A.createSubContext(E.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],A,N),this.visitReference(E.animation,N),A.transformIntoNewTimeline(N.currentTimeline.currentTime),A.previousNode=E}_applyAnimationRefDelays(E,A,N){for(const ae of E){const Se=null==ae?void 0:ae.delay;if(Se){var q;const He="number"==typeof Se?Se:Fr(Zt(Se,null!==(q=null==ae?void 0:ae.params)&&void 0!==q?q:{},A.errors));N.delayNextStep(He)}}}_visitSubInstructions(E,A,N){let ae=A.currentTimeline.currentTime;const Se=null!=N.duration?Fr(N.duration):null,He=null!=N.delay?Fr(N.delay):null;return 0!==Se&&E.forEach(nt=>{const ht=A.appendInstructionToTimeline(nt,Se,He);ae=Math.max(ae,ht.duration+ht.delay)}),ae}visitReference(E,A){A.updateOptions(E.options,!0),si(this,E.animation,A),A.previousNode=E}visitSequence(E,A){const N=A.subContextCount;let q=A;const ae=E.options;if(ae&&(ae.params||ae.delay)&&(q=A.createSubContext(ae),q.transformIntoNewTimeline(),null!=ae.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=an);const Se=Fr(ae.delay);q.delayNextStep(Se)}E.steps.length&&(E.steps.forEach(Se=>si(this,Se,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>N&&q.transformIntoNewTimeline()),A.previousNode=E}visitGroup(E,A){const N=[];let q=A.currentTimeline.currentTime;const ae=E.options&&E.options.delay?Fr(E.options.delay):0;E.steps.forEach(Se=>{const He=A.createSubContext(E.options);ae&&He.delayNextStep(ae),si(this,Se,He),q=Math.max(q,He.currentTimeline.currentTime),N.push(He.currentTimeline)}),N.forEach(Se=>A.currentTimeline.mergeTimelineCollectedStyles(Se)),A.transformIntoNewTimeline(q),A.previousNode=E}_visitTiming(E,A){if(E.dynamic){const N=E.strValue;return Wr(A.params?Zt(N,A.params,A.errors):N,A.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,A){const N=A.currentAnimateTimings=this._visitTiming(E.timings,A),q=A.currentTimeline;N.delay&&(A.incrementTime(N.delay),q.snapshotCurrentStyles());const ae=E.style;5==ae.type?this.visitKeyframes(ae,A):(A.incrementTime(N.duration),this.visitStyle(ae,A),q.applyStylesToKeyframe()),A.currentAnimateTimings=null,A.previousNode=E}visitStyle(E,A){const N=A.currentTimeline,q=A.currentAnimateTimings;!q&&N.hasCurrentStyleProperties()&&N.forwardFrame();const ae=q&&q.easing||E.easing;E.isEmptyStep?N.applyEmptyStep(ae):N.setStyles(E.styles,ae,A.errors,A.options),A.previousNode=E}visitKeyframes(E,A){const N=A.currentAnimateTimings,q=A.currentTimeline.duration,ae=N.duration,He=A.createSubContext().currentTimeline;He.easing=N.easing,E.styles.forEach(nt=>{He.forwardTime((nt.offset||0)*ae),He.setStyles(nt.styles,nt.easing,A.errors,A.options),He.applyStylesToKeyframe()}),A.currentTimeline.mergeTimelineCollectedStyles(He),A.transformIntoNewTimeline(q+ae),A.previousNode=E}visitQuery(E,A){const N=A.currentTimeline.currentTime,q=E.options||{},ae=q.delay?Fr(q.delay):0;ae&&(6===A.previousNode.type||0==N&&A.currentTimeline.hasCurrentStyleProperties())&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=an);let Se=N;const He=A.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!q.optional,A.errors);A.currentQueryTotal=He.length;let nt=null;He.forEach((ht,Jt)=>{A.currentQueryIndex=Jt;const wt=A.createSubContext(E.options,ht);ae&&wt.delayNextStep(ae),ht===A.element&&(nt=wt.currentTimeline),si(this,E.animation,wt),wt.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,wt.currentTimeline.currentTime)}),A.currentQueryIndex=0,A.currentQueryTotal=0,A.transformIntoNewTimeline(Se),nt&&(A.currentTimeline.mergeTimelineCollectedStyles(nt),A.currentTimeline.snapshotCurrentStyles()),A.previousNode=E}visitStagger(E,A){const N=A.parentContext,q=A.currentTimeline,ae=E.timings,Se=Math.abs(ae.duration),He=Se*(A.currentQueryTotal-1);let nt=Se*A.currentQueryIndex;switch(ae.duration<0?"reverse":ae.easing){case"reverse":nt=He-nt;break;case"full":nt=N.currentStaggerTime}const Jt=A.currentTimeline;nt&&Jt.delayNextStep(nt);const wt=Jt.currentTime;si(this,E.animation,A),A.previousNode=E,N.currentStaggerTime=q.currentTime-wt+(q.startTime-N.currentTimeline.startTime)}}const an={};class xn{constructor(E,A,N,q,ae,Se,He,nt){this._driver=E,this.element=A,this.subInstructions=N,this._enterClassName=q,this._leaveClassName=ae,this.errors=Se,this.timelines=He,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=an,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nt||new Mn(this._driver,A,0),He.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,A){if(!E)return;const N=E;let q=this.options;null!=N.duration&&(q.duration=Fr(N.duration)),null!=N.delay&&(q.delay=Fr(N.delay));const ae=N.params;if(ae){let Se=q.params;Se||(Se=this.options.params={}),Object.keys(ae).forEach(He=>{(!A||!Se.hasOwnProperty(He))&&(Se[He]=Zt(ae[He],Se,this.errors))})}}_copyOptions(){const E={};if(this.options){const A=this.options.params;if(A){const N=E.params={};Object.keys(A).forEach(q=>{N[q]=A[q]})}}return E}createSubContext(E=null,A,N){const q=A||this.element,ae=new xn(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,N||0));return ae.previousNode=this.previousNode,ae.currentAnimateTimings=this.currentAnimateTimings,ae.options=this._copyOptions(),ae.updateOptions(E),ae.currentQueryIndex=this.currentQueryIndex,ae.currentQueryTotal=this.currentQueryTotal,ae.parentContext=this,this.subContextCount++,ae}transformIntoNewTimeline(E){return this.previousNode=an,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,A,N){const q={duration:null!=A?A:E.duration,delay:this.currentTimeline.currentTime+(null!=N?N:0)+E.delay,easing:""},ae=new Tr(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,q,E.stretchStartingKeyframe);return this.timelines.push(ae),q}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,A,N,q,ae,Se){let He=[];if(q&&He.push(this.element),E.length>0){E=(E=E.replace(lt,"."+this._enterClassName)).replace(Pt,"."+this._leaveClassName);let ht=this._driver.query(this.element,E,1!=N);0!==N&&(ht=N<0?ht.slice(ht.length+N,ht.length):ht.slice(0,N)),He.push(...ht)}return!ae&&0==He.length&&Se.push(function Te(L){return new f.vHH(3014,!1)}()),He}}class Mn{constructor(E,A,N,q){this._driver=E,this.element=A,this.startTime=N,this._elementTimelineStylesLookup=q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(A),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(A,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const A=1===this._keyframes.size&&this._pendingStyles.size;this.duration||A?(this.forwardTime(this.currentTime+E),A&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,A){return this.applyStylesToKeyframe(),new Mn(this._driver,E,A||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,A){this._localTimelineStyles.set(E,A),this._globalTimelineStyles.set(E,A),this._styleSummary.set(E,{time:this.currentTime,value:A})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[A,N]of this._globalTimelineStyles)this._backFill.set(A,N||ne.l3),this._currentKeyframe.set(A,ne.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,A,N,q){A&&this._previousKeyframe.set("easing",A);const ae=q&&q.params||{},Se=function li(L,E){const A=new Map;let N;return L.forEach(q=>{if("*"===q){N=N||E.keys();for(let ae of N)A.set(ae,ne.l3)}else ie(q,A)}),A}(E,this._globalTimelineStyles);for(let[nt,ht]of Se){const Jt=Zt(ht,ae,N);var He;this._pendingStyles.set(nt,Jt),this._localTimelineStyles.has(nt)||this._backFill.set(nt,null!==(He=this._globalTimelineStyles.get(nt))&&void 0!==He?He:ne.l3),this._updateStyle(nt,Jt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,A)=>{this._currentKeyframe.set(A,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,A)=>{this._currentKeyframe.has(A)||this._currentKeyframe.set(A,E)}))}snapshotCurrentStyles(){for(let[E,A]of this._localTimelineStyles)this._pendingStyles.set(E,A),this._updateStyle(E,A)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let A in this._currentKeyframe)E.push(A);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((A,N)=>{const q=this._styleSummary.get(N);(!q||A.time>q.time)&&this._updateStyle(N,A.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,A=new Set,N=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((He,nt)=>{const ht=ie(He,new Map,this._backFill);ht.forEach((Jt,wt)=>{Jt===ne.k1?E.add(wt):Jt===ne.l3&&A.add(wt)}),N||ht.set("offset",nt/this.duration),q.push(ht)});const ae=E.size?vn(E.values()):[],Se=A.size?vn(A.values()):[];if(N){const He=q[0],nt=new Map(He);He.set("offset",0),nt.set("offset",1),q=[He,nt]}return X(this.element,q,ae,Se,this.duration,this.startTime,this.easing,!1)}}class Tr extends Mn{constructor(E,A,N,q,ae,Se,He=!1){super(E,A,Se.delay),this.keyframes=N,this.preStyleProps=q,this.postStyleProps=ae,this._stretchStartingKeyframe=He,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:A,duration:N,easing:q}=this.timings;if(this._stretchStartingKeyframe&&A){const ae=[],Se=N+A,He=A/Se,nt=ie(E[0]);nt.set("offset",0),ae.push(nt);const ht=ie(E[0]);ht.set("offset",xi(He)),ae.push(ht);const Jt=E.length-1;for(let wt=1;wt<=Jt;wt++){let yn=ie(E[wt]);const Sn=yn.get("offset");yn.set("offset",xi((A+Sn*N)/Se)),ae.push(yn)}N=Se,A=0,q="",E=ae}return X(this.element,E,this.preStyleProps,this.postStyleProps,N,A,q,!0)}}function xi(L,E=3){const A=Math.pow(10,E-1);return Math.round(L*A)/A}class ci{}const zn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Er extends ci{normalizePropertyName(E,A){return on(E)}normalizeStyleValue(E,A,N,q){let ae="";const Se=N.toString().trim();if(zn.has(A)&&0!==N&&"0"!==N)if("number"==typeof N)ae="px";else{const He=N.match(/^[+-]?[\d\.]+([a-z]*)$/);He&&0==He[1].length&&q.push(function Qe(L,E){return new f.vHH(3005,!1)}())}return Se+ae}}function mi(L,E,A,N,q,ae,Se,He,nt,ht,Jt,wt,yn){return{type:0,element:L,triggerName:E,isRemovalTransition:q,fromState:A,fromStyles:ae,toState:N,toStyles:Se,timelines:He,queriedElements:nt,preStyleProps:ht,postStyleProps:Jt,totalTime:wt,errors:yn}}const rs={};class ki{constructor(E,A,N){this._triggerName=E,this.ast=A,this._stateStyles=N}match(E,A,N,q){return function to(L,E,A,N,q){return L.some(ae=>ae(E,A,N,q))}(this.ast.matchers,E,A,N,q)}buildStyles(E,A,N){let q=this._stateStyles.get("*");return void 0!==E&&(q=this._stateStyles.get(null==E?void 0:E.toString())||q),q?q.buildStyles(A,N):new Map}build(E,A,N,q,ae,Se,He,nt,ht,Jt){var wt;const yn=[],Sn=this.ast.options&&this.ast.options.params||rs,Ln=this.buildStyles(N,He&&He.params||rs,yn),Bn=nt&&nt.params||rs,ir=this.buildStyles(q,Bn,yn),Nr=new Set,Di=new Map,mr=new Map,Mt="void"===q,Mr={params:zs(Bn,Sn),delay:null===(wt=this.ast.options)||void 0===wt?void 0:wt.delay},Yn=Jt?[]:bt(E,A,this.ast.animation,ae,Se,Ln,ir,Mr,ht,yn);let Rt=0;if(Yn.forEach(nn=>{Rt=Math.max(nn.duration+nn.delay,Rt)}),yn.length)return mi(A,this._triggerName,N,q,Mt,Ln,ir,[],[],Di,mr,Rt,yn);Yn.forEach(nn=>{const Xs=nn.element,zt=fn(Di,Xs,new Set);nn.preStyleProps.forEach(kt=>zt.add(kt));const mt=fn(mr,Xs,new Set);nn.postStyleProps.forEach(kt=>mt.add(kt)),Xs!==A&&Nr.add(Xs)});const xt=vn(Nr.values());return mi(A,this._triggerName,N,q,Mt,Ln,ir,Yn,xt,Di,mr,Rt)}}function zs(L,E){const A=gi(E);for(const N in L)L.hasOwnProperty(N)&&null!=L[N]&&(A[N]=L[N]);return A}class Gs{constructor(E,A,N){this.styles=E,this.defaultParams=A,this.normalizer=N}buildStyles(E,A){const N=new Map,q=gi(this.defaultParams);return Object.keys(E).forEach(ae=>{const Se=E[ae];null!==Se&&(q[ae]=Se)}),this.styles.styles.forEach(ae=>{"string"!=typeof ae&&ae.forEach((Se,He)=>{Se&&(Se=Zt(Se,q,A));const nt=this.normalizer.normalizePropertyName(He,A);Se=this.normalizer.normalizeStyleValue(He,nt,Se,A),N.set(He,Se)})}),N}}class ui{constructor(E,A,N){this.name=E,this.ast=A,this._normalizer=N,this.transitionFactories=[],this.states=new Map,A.states.forEach(q=>{this.states.set(q.name,new Gs(q.style,q.options&&q.options.params||{},N))}),qn(this.states,"true","1"),qn(this.states,"false","0"),A.transitions.forEach(q=>{this.transitionFactories.push(new ki(E,q,this.states))}),this.fallbackTransition=function en(L,E,A){return new ki(L,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Se,He)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,A,N,q){return this.transitionFactories.find(Se=>Se.match(E,A,N,q))||null}matchStyles(E,A,N){return this.fallbackTransition.buildStyles(E,A,N)}}function qn(L,E,A){L.has(E)?L.has(A)||L.set(A,L.get(E)):L.has(A)&&L.set(E,L.get(A))}const Ir=new Re;class Bi{constructor(E,A,N){this.bodyNode=E,this._driver=A,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,A){const N=[],ae=Zi(this._driver,A,N,[]);if(N.length)throw function tt(L){return new f.vHH(3503,!1)}();this._animations.set(E,ae)}_buildPlayer(E,A,N){const q=E.element,ae=It(this._normalizer,E.keyframes,A,N);return this._driver.animate(q,ae,E.duration,E.delay,E.easing,[],!0)}create(E,A,N={}){const q=[],ae=this._animations.get(E);let Se;const He=new Map;if(ae?(Se=bt(this._driver,A,ae,Gn,Ti,new Map,new Map,N,Ir,q),Se.forEach(Jt=>{const wt=fn(He,Jt.element,new Map);Jt.postStyleProps.forEach(yn=>wt.set(yn,null))})):(q.push(function he(){return new f.vHH(3300,!1)}()),Se=[]),q.length)throw function we(L){return new f.vHH(3504,!1)}();He.forEach((Jt,wt)=>{Jt.forEach((yn,Sn)=>{Jt.set(Sn,this._driver.computeStyle(wt,Sn,ne.l3))})});const ht=vt(Se.map(Jt=>{const wt=He.get(Jt.element);return this._buildPlayer(Jt,new Map,wt)}));return this._playersById.set(E,ht),ht.onDestroy(()=>this.destroy(E)),this.players.push(ht),ht}destroy(E){const A=this._getPlayer(E);A.destroy(),this._playersById.delete(E);const N=this.players.indexOf(A);N>=0&&this.players.splice(N,1)}_getPlayer(E){const A=this._playersById.get(E);if(!A)throw function be(L){return new f.vHH(3301,!1)}();return A}listen(E,A,N,q){const ae=dn(A,"","","");return Wt(this._getPlayer(E),N,ae,q),()=>{}}command(E,A,N,q){if("register"==N)return void this.register(E,q[0]);if("create"==N)return void this.create(E,A,q[0]||{});const ae=this._getPlayer(E);switch(N){case"play":ae.play();break;case"pause":ae.pause();break;case"reset":ae.reset();break;case"restart":ae.restart();break;case"finish":ae.finish();break;case"init":ae.init();break;case"setPosition":ae.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(E)}}}const Hi="ng-animate-queued",zi="ng-animate-disabled",Zn=[],Gi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ei="__ng_removed";class br{get params(){return this.options.params}constructor(E,A=""){this.namespaceId=A;const N=E&&E.hasOwnProperty("value");if(this.value=function Ms(L){return null!=L?L:null}(N?E.value:E),N){const ae=gi(E);delete ae.value,this.options=ae}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const A=E.params;if(A){const N=this.options.params;Object.keys(A).forEach(q=>{null==N[q]&&(N[q]=A[q])})}}}const Is="void",_r=new br(Is);class ss{constructor(E,A,N){this.id=E,this.hostElement=A,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,rr(A,this._hostClassName)}listen(E,A,N,q){if(!this._triggers.has(A))throw function Ye(L,E){return new f.vHH(3302,!1)}();if(null==N||0==N.length)throw function Ze(L){return new f.vHH(3303,!1)}();if(!function ra(L){return"start"==L||"done"==L}(N))throw function Xe(L,E){return new f.vHH(3400,!1)}();const ae=fn(this._elementListeners,E,[]),Se={name:A,phase:N,callback:q};ae.push(Se);const He=fn(this._engine.statesByElement,E,new Map);return He.has(A)||(rr(E,Or),rr(E,Or+"-"+A),He.set(A,_r)),()=>{this._engine.afterFlush(()=>{const nt=ae.indexOf(Se);nt>=0&&ae.splice(nt,1),this._triggers.has(A)||He.delete(A)})}}register(E,A){return!this._triggers.has(E)&&(this._triggers.set(E,A),!0)}_getTrigger(E){const A=this._triggers.get(E);if(!A)throw function Lt(L){return new f.vHH(3401,!1)}();return A}trigger(E,A,N,q=!0){const ae=this._getTrigger(A),Se=new fs(this.id,A,E);let He=this._engine.statesByElement.get(E);He||(rr(E,Or),rr(E,Or+"-"+A),this._engine.statesByElement.set(E,He=new Map));let nt=He.get(A);const ht=new br(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&nt&&ht.absorbOptions(nt.options),He.set(A,ht),nt||(nt=_r),ht.value!==Is&&nt.value===ht.value){if(!function Fi(L,E){const A=Object.keys(L),N=Object.keys(E);if(A.length!=N.length)return!1;for(let q=0;q<A.length;q++){const ae=A[q];if(!E.hasOwnProperty(ae)||L[ae]!==E[ae])return!1}return!0}(nt.params,ht.params)){const Ln=[],Bn=ae.matchStyles(nt.value,nt.params,Ln),ir=ae.matchStyles(ht.value,ht.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{Fe(E,Bn),re(E,ir)})}return}const yn=fn(this._engine.playersByElement,E,[]);yn.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==A&&Ln.queued&&Ln.destroy()});let Sn=ae.matchTransition(nt.value,ht.value,E,ht.params),Cn=!1;if(!Sn){if(!q)return;Sn=ae.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:A,transition:Sn,fromState:nt,toState:ht,player:Se,isFallbackTransition:Cn}),Cn||(rr(E,Hi),Se.onStart(()=>{qi(E,Hi)})),Se.onDone(()=>{let Ln=this.players.indexOf(Se);Ln>=0&&this.players.splice(Ln,1);const Bn=this._engine.playersByElement.get(E);if(Bn){let ir=Bn.indexOf(Se);ir>=0&&Bn.splice(ir,1)}}),this.players.push(Se),yn.push(Se),Se}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(A=>A.delete(E)),this._elementListeners.forEach((A,N)=>{this._elementListeners.set(N,A.filter(q=>q.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const A=this._engine.playersByElement.get(E);A&&(A.forEach(N=>N.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,A){const N=this._engine.driver.query(E,jr,!0);N.forEach(q=>{if(q[Ei])return;const ae=this._engine.fetchNamespacesByElement(q);ae.size?ae.forEach(Se=>Se.triggerLeaveAnimation(q,A,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(E,A,N,q){const ae=this._engine.statesByElement.get(E),Se=new Map;if(ae){const He=[];if(ae.forEach((nt,ht)=>{if(Se.set(ht,nt.value),this._triggers.has(ht)){const Jt=this.trigger(E,ht,Is,q);Jt&&He.push(Jt)}}),He.length)return this._engine.markElementAsRemoved(this.id,E,!0,A,Se),N&&vt(He).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const A=this._elementListeners.get(E),N=this._engine.statesByElement.get(E);if(A&&N){const q=new Set;A.forEach(ae=>{const Se=ae.name;if(q.has(Se))return;q.add(Se);const nt=this._triggers.get(Se).fallbackTransition,ht=N.get(Se)||_r,Jt=new br(Is),wt=new fs(this.id,Se,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Se,transition:nt,fromState:ht,toState:Jt,player:wt,isFallbackTransition:!0})})}}removeNode(E,A){const N=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,A),this.triggerLeaveAnimation(E,A,!0))return;let q=!1;if(N.totalAnimations){const ae=N.players.length?N.playersByQueriedElement.get(E):[];if(ae&&ae.length)q=!0;else{let Se=E;for(;Se=Se.parentNode;)if(N.statesByElement.get(Se)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(E),q)N.markElementAsRemoved(this.id,E,!1,A);else{const ae=E[Ei];(!ae||ae===Gi)&&(N.afterFlush(()=>this.clearElementCache(E)),N.destroyInnerAnimations(E),N._onRemovalComplete(E,A))}}insertNode(E,A){rr(E,this._hostClassName)}drainQueuedTransitions(E){const A=[];return this._queue.forEach(N=>{const q=N.player;if(q.destroyed)return;const ae=N.element,Se=this._elementListeners.get(ae);Se&&Se.forEach(He=>{if(He.name==N.triggerName){const nt=dn(ae,N.triggerName,N.fromState.value,N.toState.value);nt._data=E,Wt(N.player,He.phase,nt,He.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):A.push(N)}),this._queue=[],A.sort((N,q)=>{const ae=N.transition.ast.depCount,Se=q.transition.ast.depCount;return 0==ae||0==Se?ae-Se:this._engine.driver.containsElement(N.element,q.element)?1:-1})}destroy(E){this.players.forEach(A=>A.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class Ds{_onRemovalComplete(E,A){this.onRemovalComplete(E,A)}constructor(E,A,N){this.bodyNode=E,this.driver=A,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,ae)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(A=>{A.players.forEach(N=>{N.queued&&E.push(N)})}),E}createNamespace(E,A){const N=new ss(E,A,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,A)?this._balanceNamespaceList(N,A):(this.newHostElements.set(A,N),this.collectEnterElement(A)),this._namespaceLookup[E]=N}_balanceNamespaceList(E,A){const N=this._namespaceList,q=this.namespacesByHostElement;if(N.length-1>=0){let Se=!1,He=this.driver.getParentElement(A);for(;He;){const nt=q.get(He);if(nt){const ht=N.indexOf(nt);N.splice(ht+1,0,E),Se=!0;break}He=this.driver.getParentElement(He)}Se||N.unshift(E)}else N.push(E);return q.set(A,E),E}register(E,A){let N=this._namespaceLookup[E];return N||(N=this.createNamespace(E,A)),N}registerTrigger(E,A,N){let q=this._namespaceLookup[E];q&&q.register(A,N)&&this.totalAnimations++}destroy(E,A){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const N=this._fetchNamespace(E);this.namespacesByHostElement.delete(N.hostElement);const q=this._namespaceList.indexOf(N);q>=0&&this._namespaceList.splice(q,1),N.destroy(A),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const A=new Set,N=this.statesByElement.get(E);if(N)for(let q of N.values())if(q.namespaceId){const ae=this._fetchNamespace(q.namespaceId);ae&&A.add(ae)}return A}trigger(E,A,N,q){if(os(A)){const ae=this._fetchNamespace(E);if(ae)return ae.trigger(A,N,q),!0}return!1}insertNode(E,A,N,q){if(!os(A))return;const ae=A[Ei];if(ae&&ae.setForRemoval){ae.setForRemoval=!1,ae.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(A);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(E){const Se=this._fetchNamespace(E);Se&&Se.insertNode(A,N)}q&&this.collectEnterElement(A)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,A){A?this.disabledNodes.has(E)||(this.disabledNodes.add(E),rr(E,zi)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),qi(E,zi))}removeNode(E,A,N){if(os(A)){const q=E?this._fetchNamespace(E):null;q?q.removeNode(A,N):this.markElementAsRemoved(E,A,!1,N);const ae=this.namespacesByHostElement.get(A);ae&&ae.id!==E&&ae.removeNode(A,N)}else this._onRemovalComplete(A,N)}markElementAsRemoved(E,A,N,q,ae){this.collectedLeaveElements.push(A),A[Ei]={namespaceId:E,setForRemoval:q,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:ae}}listen(E,A,N,q,ae){return os(A)?this._fetchNamespace(E).listen(A,N,q,ae):()=>{}}_buildInstruction(E,A,N,q,ae){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,N,q,E.fromState.options,E.toState.options,A,ae)}destroyInnerAnimations(E){let A=this.driver.query(E,jr,!0);A.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(A=this.driver.query(E,pi,!0),A.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(E){const A=this.playersByElement.get(E);A&&A.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(E){const A=this.playersByQueriedElement.get(E);A&&A.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return vt(this.players).onDone(()=>E());E()})}processLeaveNode(E){var A;const N=E[Ei];if(N&&N.setForRemoval){if(E[Ei]=Gi,N.namespaceId){this.destroyInnerAnimations(E);const q=this._fetchNamespace(N.namespaceId);q&&q.clearElementCache(E)}this._onRemovalComplete(E,N.setForRemoval)}null!==(A=E.classList)&&void 0!==A&&A.contains(zi)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(q=>{this.markElementAsDisabled(q,!1)})}flush(E=-1){let A=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,q)=>this._balanceNamespaceList(N,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)rr(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{A=this._flushAnimations(N,E)}finally{for(let q=0;q<N.length;q++)N[q]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],A.length?vt(A).onDone(()=>{N.forEach(q=>q())}):N.forEach(q=>q())}}reportError(E){throw function Ut(L){return new f.vHH(3402,!1)}()}_flushAnimations(E,A){const N=new Re,q=[],ae=new Map,Se=[],He=new Map,nt=new Map,ht=new Map,Jt=new Set;this.disabledNodes.forEach(wn=>{Jt.add(wn);const Rn=this.driver.query(wn,".ng-animate-queued",!0);for(let $n=0;$n<Rn.length;$n++)Jt.add(Rn[$n])});const wt=this.bodyNode,yn=Array.from(this.statesByElement.keys()),Sn=Wi(yn,this.collectedEnterElements),Cn=new Map;let Ln=0;Sn.forEach((wn,Rn)=>{const $n=Gn+Ln++;Cn.set(Rn,$n),wn.forEach(vr=>rr(vr,$n))});const Bn=[],ir=new Set,Nr=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const Rn=this.collectedLeaveElements[wn],$n=Rn[Ei];$n&&$n.setForRemoval&&(Bn.push(Rn),ir.add(Rn),$n.hasAnimation?this.driver.query(Rn,".ng-star-inserted",!0).forEach(vr=>ir.add(vr)):Nr.add(Rn))}const Di=new Map,mr=Wi(yn,Array.from(ir));mr.forEach((wn,Rn)=>{const $n=Ti+Ln++;Di.set(Rn,$n),wn.forEach(vr=>rr(vr,$n))}),E.push(()=>{Sn.forEach((wn,Rn)=>{const $n=Cn.get(Rn);wn.forEach(vr=>qi(vr,$n))}),mr.forEach((wn,Rn)=>{const $n=Di.get(Rn);wn.forEach(vr=>qi(vr,$n))}),Bn.forEach(wn=>{this.processLeaveNode(wn)})});const Mt=[],Mr=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(A).forEach($n=>{const vr=$n.player,Tn=$n.element;if(Mt.push(vr),this.collectedEnterElements.length){const On=Tn[Ei];if(On&&On.setForMove){if(On.previousTriggersValues&&On.previousTriggersValues.has($n.triggerName)){const po=On.previousTriggersValues.get($n.triggerName),Os=this.statesByElement.get($n.element);if(Os&&Os.has($n.triggerName)){const hi=Os.get($n.triggerName);hi.value=po,Os.set($n.triggerName,hi)}}return void vr.destroy()}}const wi=!wt||!this.driver.containsElement(wt,Tn),di=Di.get(Tn),so=Cn.get(Tn),Sr=this._buildInstruction($n,N,so,di,wi);if(Sr.errors&&Sr.errors.length)return void Mr.push(Sr);if(wi)return vr.onStart(()=>Fe(Tn,Sr.fromStyles)),vr.onDestroy(()=>re(Tn,Sr.toStyles)),void q.push(vr);if($n.isFallbackTransition)return vr.onStart(()=>Fe(Tn,Sr.fromStyles)),vr.onDestroy(()=>re(Tn,Sr.toStyles)),void q.push(vr);const Ts=[];Sr.timelines.forEach(On=>{On.stretchStartingKeyframe=!0,this.disabledNodes.has(On.element)||Ts.push(On)}),Sr.timelines=Ts,N.append(Tn,Sr.timelines),Se.push({instruction:Sr,player:vr,element:Tn}),Sr.queriedElements.forEach(On=>fn(He,On,[]).push(vr)),Sr.preStyleProps.forEach((On,po)=>{if(On.size){let Os=nt.get(po);Os||nt.set(po,Os=new Set),On.forEach((hi,An)=>Os.add(An))}}),Sr.postStyleProps.forEach((On,po)=>{let Os=ht.get(po);Os||ht.set(po,Os=new Set),On.forEach((hi,An)=>Os.add(An))})});if(Mr.length){const wn=[];Mr.forEach(Rn=>{wn.push(function ut(L,E){return new f.vHH(3505,!1)}())}),Mt.forEach(Rn=>Rn.destroy()),this.reportError(wn)}const Yn=new Map,Rt=new Map;Se.forEach(wn=>{const Rn=wn.element;N.has(Rn)&&(Rt.set(Rn,Rn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Yn))}),q.forEach(wn=>{const Rn=wn.element;this._getPreviousPlayers(Rn,!1,wn.namespaceId,wn.triggerName,null).forEach(vr=>{fn(Yn,Rn,[]).push(vr),vr.destroy()})});const xt=Bn.filter(wn=>Ia(wn,nt,ht)),nn=new Map;Ls(nn,this.driver,Nr,ht,ne.l3).forEach(wn=>{Ia(wn,nt,ht)&&xt.push(wn)});const zt=new Map;Sn.forEach((wn,Rn)=>{Ls(zt,this.driver,new Set(wn),nt,ne.k1)}),xt.forEach(wn=>{var Rn,$n;const vr=nn.get(wn),Tn=zt.get(wn);nn.set(wn,new Map([...null!==(Rn=null==vr?void 0:vr.entries())&&void 0!==Rn?Rn:[],...null!==($n=null==Tn?void 0:Tn.entries())&&void 0!==$n?$n:[]]))});const mt=[],kt=[],lr={};Se.forEach(wn=>{const{element:Rn,player:$n,instruction:vr}=wn;if(N.has(Rn)){if(Jt.has(Rn))return $n.onDestroy(()=>re(Rn,vr.toStyles)),$n.disabled=!0,$n.overrideTotalTime(vr.totalTime),void q.push($n);let Tn=lr;if(Rt.size>1){let di=Rn;const so=[];for(;di=di.parentNode;){const Sr=Rt.get(di);if(Sr){Tn=Sr;break}so.push(di)}so.forEach(Sr=>Rt.set(Sr,Tn))}const wi=this._buildAnimation($n.namespaceId,vr,Yn,ae,zt,nn);if($n.setRealPlayer(wi),Tn===lr)mt.push($n);else{const di=this.playersByElement.get(Tn);di&&di.length&&($n.parentPlayer=vt(di)),q.push($n)}}else Fe(Rn,vr.fromStyles),$n.onDestroy(()=>re(Rn,vr.toStyles)),kt.push($n),Jt.has(Rn)&&q.push($n)}),kt.forEach(wn=>{const Rn=ae.get(wn.element);if(Rn&&Rn.length){const $n=vt(Rn);wn.setRealPlayer($n)}}),q.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<Bn.length;wn++){const Rn=Bn[wn],$n=Rn[Ei];if(qi(Rn,Ti),$n&&$n.hasAnimation)continue;let vr=[];if(He.size){let wi=He.get(Rn);wi&&wi.length&&vr.push(...wi);let di=this.driver.query(Rn,pi,!0);for(let so=0;so<di.length;so++){let Sr=He.get(di[so]);Sr&&Sr.length&&vr.push(...Sr)}}const Tn=vr.filter(wi=>!wi.destroyed);Tn.length?Vs(this,Rn,Tn):this.processLeaveNode(Rn)}return Bn.length=0,mt.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const Rn=this.players.indexOf(wn);this.players.splice(Rn,1)}),wn.play()}),mt}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,A,N,q,ae){let Se=[];if(A){const He=this.playersByQueriedElement.get(E);He&&(Se=He)}else{const He=this.playersByElement.get(E);if(He){const nt=!ae||ae==Is;He.forEach(ht=>{ht.queued||!nt&&ht.triggerName!=q||Se.push(ht)})}}return(N||q)&&(Se=Se.filter(He=>!(N&&N!=He.namespaceId||q&&q!=He.triggerName))),Se}_beforeAnimationBuild(E,A,N){const ae=A.element,Se=A.isRemovalTransition?void 0:E,He=A.isRemovalTransition?void 0:A.triggerName;for(const nt of A.timelines){const ht=nt.element,Jt=ht!==ae,wt=fn(N,ht,[]);this._getPreviousPlayers(ht,Jt,Se,He,A.toState).forEach(Sn=>{const Cn=Sn.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),Sn.destroy(),wt.push(Sn)})}Fe(ae,A.fromStyles)}_buildAnimation(E,A,N,q,ae,Se){const He=A.triggerName,nt=A.element,ht=[],Jt=new Set,wt=new Set,yn=A.timelines.map(Cn=>{const Ln=Cn.element;Jt.add(Ln);const Bn=Ln[Ei];if(Bn&&Bn.removedBeforeQueried)return new ne.ZN(Cn.duration,Cn.delay);const ir=Ln!==nt,Nr=function ro(L){const E=[];return Bs(L,E),E}((N.get(Ln)||Zn).map(Yn=>Yn.getRealPlayer())).filter(Yn=>!!Yn.element&&Yn.element===Ln),Di=ae.get(Ln),mr=Se.get(Ln),Mt=It(this._normalizer,Cn.keyframes,Di,mr),Mr=this._buildPlayer(Cn,Mt,Nr);if(Cn.subTimeline&&q&&wt.add(Ln),ir){const Yn=new fs(E,He,Ln);Yn.setRealPlayer(Mr),ht.push(Yn)}return Mr});ht.forEach(Cn=>{fn(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function Ws(L,E,A){let N=L.get(E);if(N){if(N.length){const q=N.indexOf(A);N.splice(q,1)}0==N.length&&L.delete(E)}return N}(this.playersByQueriedElement,Cn.element,Cn))}),Jt.forEach(Cn=>rr(Cn,_i));const Sn=vt(yn);return Sn.onDestroy(()=>{Jt.forEach(Cn=>qi(Cn,_i)),re(nt,A.toStyles)}),wt.forEach(Cn=>{fn(q,Cn,[]).push(Sn)}),Sn}_buildPlayer(E,A,N){return A.length>0?this.driver.animate(E.element,A,E.duration,E.delay,E.easing,N):new ne.ZN(E.duration,E.delay)}}class fs{constructor(E,A,N){this.namespaceId=E,this.triggerName=A,this.element=N,this._player=new ne.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((A,N)=>{A.forEach(q=>Wt(E,N,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const A=this._player;A.triggerCallback&&E.onStart(()=>A.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,A){fn(this._queuedCallbacks,E,[]).push(A)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const A=this._player;A.triggerCallback&&A.triggerCallback(E)}}function os(L){return L&&1===L.nodeType}function er(L,E){const A=L.style.display;return L.style.display=null!=E?E:"none",A}function Ls(L,E,A,N,q){const ae=[];A.forEach(nt=>ae.push(er(nt)));const Se=[];N.forEach((nt,ht)=>{const Jt=new Map;nt.forEach(wt=>{const yn=E.computeStyle(ht,wt,q);Jt.set(wt,yn),(!yn||0==yn.length)&&(ht[Ei]=Qi,Se.push(ht))}),L.set(ht,Jt)});let He=0;return A.forEach(nt=>er(nt,ae[He++])),Se}function Wi(L,E){const A=new Map;if(L.forEach(He=>A.set(He,[])),0==E.length)return A;const q=new Set(E),ae=new Map;function Se(He){if(!He)return 1;let nt=ae.get(He);if(nt)return nt;const ht=He.parentNode;return nt=A.has(ht)?ht:q.has(ht)?1:Se(ht),ae.set(He,nt),nt}return E.forEach(He=>{const nt=Se(He);1!==nt&&A.get(nt).push(He)}),A}function rr(L,E){var A;null===(A=L.classList)||void 0===A||A.add(E)}function qi(L,E){var A;null===(A=L.classList)||void 0===A||A.remove(E)}function Vs(L,E,A){vt(A).onDone(()=>L.processLeaveNode(E))}function Bs(L,E){for(let A=0;A<L.length;A++){const N=L[A];N instanceof ne.ZE?Bs(N.players,E):E.push(N)}}function Ia(L,E,A){const N=A.get(L);if(!N)return!1;let q=E.get(L);return q?N.forEach(ae=>q.add(ae)):E.set(L,N),A.delete(L),!0}class ei{constructor(E,A,N){this.bodyNode=E,this._driver=A,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(q,ae)=>{},this._transitionEngine=new Ds(E,A,N),this._timelineEngine=new Bi(E,A,N),this._transitionEngine.onRemovalComplete=(q,ae)=>this.onRemovalComplete(q,ae)}registerTrigger(E,A,N,q,ae){const Se=E+"-"+q;let He=this._triggerCache[Se];if(!He){const nt=[],Jt=Zi(this._driver,ae,nt,[]);if(nt.length)throw function Et(L,E){return new f.vHH(3404,!1)}();He=function no(L,E,A){return new ui(L,E,A)}(q,Jt,this._normalizer),this._triggerCache[Se]=He}this._transitionEngine.registerTrigger(A,q,He)}register(E,A){this._transitionEngine.register(E,A)}destroy(E,A){this._transitionEngine.destroy(E,A)}onInsert(E,A,N,q){this._transitionEngine.insertNode(E,A,N,q)}onRemove(E,A,N){this._transitionEngine.removeNode(E,A,N)}disableAnimations(E,A){this._transitionEngine.markElementAsDisabled(E,A)}process(E,A,N,q){if("@"==N.charAt(0)){const[ae,Se]=qt(N);this._timelineEngine.command(ae,A,Se,q)}else this._transitionEngine.trigger(E,A,N,q)}listen(E,A,N,q,ae){if("@"==N.charAt(0)){const[Se,He]=qt(N);return this._timelineEngine.listen(Se,A,He,ae)}return this._transitionEngine.listen(E,A,N,q,ae)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}let xo=(()=>{class E{constructor(N,q,ae){this._element=N,this._startStyles=q,this._endStyles=ae,this._state=0;let Se=E.initialStylesByElement.get(N);Se||E.initialStylesByElement.set(N,Se=new Map),this._initialStyles=Se}start(){this._state<1&&(this._startStyles&&re(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(re(this._element,this._initialStyles),this._endStyles&&(re(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E.initialStylesByElement.delete(this._element),this._startStyles&&(Fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),re(this._element,this._initialStyles),this._state=3)}}return E.initialStylesByElement=new WeakMap,E})();function as(L){let E=null;return L.forEach((A,N)=>{(function Ci(L){return"display"===L||"position"===L})(N)&&(E=E||new Map,E.set(N,A))}),E}class ls{constructor(E,A,N,q){this.element=E,this.keyframes=A,this.options=N,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const A=[];return E.forEach(N=>{A.push(Object.fromEntries(N))}),A}_triggerWebAnimation(E,A,N){return E.animate(this._convertKeyframesToObject(A),N)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){var E;return+(null!==(E=this.domPlayer.currentTime)&&void 0!==E?E:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,q)=>{"offset"!==q&&E.set(q,this._finished?N:Dt(this.element,q))}),this.currentSnapshot=E}triggerCallback(E){const A="start"===E?this._onStartFns:this._onDoneFns;A.forEach(N=>N()),A.length=0}}class No{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,A){return!1}containsElement(E,A){return Gr(E,A)}getParentElement(E){return Tt(E)}query(E,A,N){return cr(E,A,N)}computeStyle(E,A,N){return window.getComputedStyle(E)[A]}animate(E,A,N,q,ae,Se=[]){const nt={duration:N,delay:q,fill:0==q?"both":"forwards"};ae&&(nt.easing=ae);const ht=new Map,Jt=Se.filter(Sn=>Sn instanceof ls);(function Vr(L,E){return 0===L||0===E})(N,q)&&Jt.forEach(Sn=>{Sn.currentSnapshot.forEach((Cn,Ln)=>ht.set(Ln,Cn))});let wt=function Lr(L){return L.length?L[0]instanceof Map?L:L.map(E=>vi(E)):[]}(A).map(Sn=>ie(Sn));wt=function Li(L,E,A){if(A.size&&E.length){let N=E[0],q=[];if(A.forEach((ae,Se)=>{N.has(Se)||q.push(Se),N.set(Se,ae)}),q.length)for(let ae=1;ae<E.length;ae++){let Se=E[ae];q.forEach(He=>Se.set(He,Dt(L,He)))}}return E}(E,wt,ht);const yn=function Yi(L,E){let A=null,N=null;return Array.isArray(E)&&E.length?(A=as(E[0]),E.length>1&&(N=as(E[E.length-1]))):E instanceof Map&&(A=as(E)),A||N?new xo(L,A,N):null}(E,wt);return new ls(E,wt,nt,yn)}}var qs=P(6814);let mo=(()=>{var L;class E extends ne._j{constructor(N,q){super(),this._nextAnimationId=0,this._renderer=N.createRenderer(q.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(N){const q=this._nextAnimationId.toString();this._nextAnimationId++;const ae=Array.isArray(N)?(0,ne.vP)(N):N;return z(this._renderer,null,q,"register",[ae]),new Ba(q,this._renderer)}}return(L=E).\u0275fac=function(N){return new(N||L)(f.LFG(f.FYo),f.LFG(qs.K0))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),E})();class Ba extends ne.LC{constructor(E,A){super(),this._id=E,this._renderer=A}create(E,A){return new qo(this._id,E,A||{},this._renderer)}}class qo{constructor(E,A,N,q){this.id=E,this.element=A,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(E,A){return this._renderer.listen(this.element,`@@${this.id}:${E}`,A)}_command(E,...A){return z(this._renderer,this.element,this.id,E,A)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){var E,A;return null!==(E=null===(A=this._renderer.engine.players[+this.id])||void 0===A?void 0:A.getPosition())&&void 0!==E?E:0}}function z(L,E,A,N,q){return L.setProperty(E,`@@${A}:${N}`,q)}const d="@",T="@.disabled";let p=(()=>{var L;class E{constructor(N,q,ae){this.delegate=N,this.engine=q,this._zone=ae,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,q.onRemovalComplete=(Se,He)=>{const nt=null==He?void 0:He.parentNode(Se);nt&&He.removeChild(nt,Se)}}createRenderer(N,q){const Se=this.delegate.createRenderer(N,q);if(!(N&&q&&q.data&&q.data.animation)){let wt=this._rendererCache.get(Se);return wt||(wt=new w("",Se,this.engine,()=>this._rendererCache.delete(Se)),this._rendererCache.set(Se,wt)),wt}const He=q.id,nt=q.id+"-"+this._currentId;this._currentId++,this.engine.register(nt,N);const ht=wt=>{Array.isArray(wt)?wt.forEach(ht):this.engine.registerTrigger(He,nt,N,wt.name,wt)};return q.data.animation.forEach(ht),new J(this,nt,Se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(N,q,ae){N>=0&&N<this._microtaskId?this._zone.run(()=>q(ae)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Se=>{const[He,nt]=Se;He(nt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([q,ae]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(L=E).\u0275fac=function(N){return new(N||L)(f.LFG(f.FYo),f.LFG(ei),f.LFG(f.R0b))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),E})();class w{constructor(E,A,N,q){this.namespaceId=E,this.delegate=A,this.engine=N,this._onDestroy=q}get data(){return this.delegate.data}destroyNode(E){var A,N;null===(A=(N=this.delegate).destroyNode)||void 0===A||A.call(N,E)}destroy(){var E;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(E=this._onDestroy)||void 0===E||E.call(this)}createElement(E,A){return this.delegate.createElement(E,A)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,A){this.delegate.appendChild(E,A),this.engine.onInsert(this.namespaceId,A,E,!1)}insertBefore(E,A,N,q=!0){this.delegate.insertBefore(E,A,N),this.engine.onInsert(this.namespaceId,A,E,q)}removeChild(E,A,N){this.engine.onRemove(this.namespaceId,A,this.delegate)}selectRootElement(E,A){return this.delegate.selectRootElement(E,A)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,A,N,q){this.delegate.setAttribute(E,A,N,q)}removeAttribute(E,A,N){this.delegate.removeAttribute(E,A,N)}addClass(E,A){this.delegate.addClass(E,A)}removeClass(E,A){this.delegate.removeClass(E,A)}setStyle(E,A,N,q){this.delegate.setStyle(E,A,N,q)}removeStyle(E,A,N){this.delegate.removeStyle(E,A,N)}setProperty(E,A,N){A.charAt(0)==d&&A==T?this.disableAnimations(E,!!N):this.delegate.setProperty(E,A,N)}setValue(E,A){this.delegate.setValue(E,A)}listen(E,A,N){return this.delegate.listen(E,A,N)}disableAnimations(E,A){this.engine.disableAnimations(E,A)}}class J extends w{constructor(E,A,N,q,ae){super(A,N,q,ae),this.factory=E,this.namespaceId=A}setProperty(E,A,N){A.charAt(0)==d?"."==A.charAt(1)&&A==T?this.disableAnimations(E,N=void 0===N||!!N):this.engine.process(this.namespaceId,E,A.slice(1),N):this.delegate.setProperty(E,A,N)}listen(E,A,N){if(A.charAt(0)==d){const q=function st(L){switch(L){case"body":return document.body;case"document":return document;case"window":return window;default:return L}}(E);let ae=A.slice(1),Se="";return ae.charAt(0)!=d&&([ae,Se]=function Gt(L){const E=L.indexOf(".");return[L.substring(0,E),L.slice(E+1)]}(ae)),this.engine.listen(this.namespaceId,q,ae,Se,He=>{this.factory.scheduleListenerCallback(He._data||-1,N,He)})}return this.delegate.listen(E,A,N)}}const Cs=[{provide:ne._j,useClass:mo},{provide:ci,useFactory:function bn(){return new Er}},{provide:ei,useClass:(()=>{var L;class E extends ei{constructor(N,q,ae,Se){super(N.body,q,ae)}ngOnDestroy(){this.flush()}}return(L=E).\u0275fac=function(N){return new(N||L)(f.LFG(qs.K0),f.LFG(Xn),f.LFG(ci),f.LFG(f.z2F))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),E})()},{provide:f.FYo,useFactory:function ur(L,E,A){return new p(L,E,A)},deps:[g.se,ei,f.R0b]}],Ys=[{provide:Xn,useFactory:()=>new No},{provide:f.QbO,useValue:"BrowserAnimations"},...Cs],ps=[{provide:Xn,useClass:Ur},{provide:f.QbO,useValue:"NoopAnimations"},...Cs];let io=(()=>{var L;class E{static withConfig(N){return{ngModule:E,providers:N.disableAnimations?ps:Ys}}}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:Ys,imports:[g.b2]}),E})();var _o=P(7742),bs=P(5861),Zs=P(8645);class Zo extends Zs.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(E){const{hasError:A,_hasValue:N,_value:q,thrownError:ae,isStopped:Se,_isComplete:He}=this;A?E.error(ae):(Se||He)&&(N&&E.next(q),E.complete())}next(E){this.isStopped||(this._value=E,this._hasValue=!0)}complete(){const{_hasValue:E,_value:A,_isComplete:N}=this;N||(this._isComplete=!0,E&&super.next(A),super.complete())}}const es={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},oa={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"};const ws=(L,E,A)=>{A?L.error(A):L.next(E),L.complete()},wa=(L,E)=>{var A,N,q;let ae=null!==(A=null==E?void 0:E.decode)&&void 0!==A?A:"utf-8",Se=2===(null==E||null===(N=E.canvasStyles)||void 0===N?void 0:N.length)?null==E?void 0:E.canvasStyles:[es,oa],He=null===(q=null==E?void 0:E.isBeep)||void 0===q||q;return new Promise((nt,ht)=>{const Jt=new FileReader;Jt.onload=()=>{const wt={name:L.name,file:L,url:URL.createObjectURL(L)},yn=new Image;yn.setAttribute("crossOrigin","anonymous"),yn.onload=(0,bs.Z)(function*(){const Sn=document.createElement("canvas");Sn.width=yn.naturalWidth||yn.width,Sn.height=yn.naturalHeight||yn.height;const Cn=Sn.getContext("2d");Cn.drawImage(yn,0,0,Sn.width,Sn.height);const Ln=Cn.getImageData(0,0,Sn.width,Sn.height);if("zbarWasm"in window){const Bn=yield zbarWasm.scanImageData(Ln);if(null!=Bn&&Bn.length){Bn.forEach(mr=>mr.value=mr.decode(null==ae?void 0:ae.toLocaleLowerCase())),((L,E,A)=>{let N=E.getContext("2d",{willReadFrequently:!0});for(let ht=0;ht<L.length;ht++){var q;const Jt=L[ht];let wt={},yn=[],Sn=[],Cn=0;const Ln=null===(q=A[1])||void 0===q||null===(q=q.font)||void 0===q||null===(q=q.split(" "))||void 0===q?void 0:q[0];let Bn=null==Ln?void 0:Ln.replace(/[^0-9]/g,"");Bn&&/[0-9]/g.test(Bn)&&(Cn=parseFloat(Bn));const ir=Jt.points;for(let Yn=0;Yn<ir.length;Yn++){var ae,Se,He,nt;const Rt=null!==(ae=null==ir||null===(Se=ir[Yn])||void 0===Se?void 0:Se.x)&&void 0!==ae?ae:0,xt=null!==(He=null==ir||null===(nt=ir[Yn])||void 0===nt?void 0:nt.y)&&void 0!==He?He:0;wt[`x${Yn+1}`]=Rt,wt[`y${Yn+1}`]=xt,yn.push(Rt),Sn.push(xt)}let Nr=Math.min(...yn),Di=Math.min(...Sn);const mr=()=>{for(const xt in A[0])N[xt]=A[0][xt];const Yn=[];for(let xt=0;xt<yn.length;xt++)Yn.push(wt[`x${xt+1}`]),Yn.push(wt[`y${xt+1}`]);const Rt=Yn.slice(0);for(N.beginPath(),N.moveTo(Rt.shift(),Rt.shift());Rt.length;)N.lineTo(Rt.shift(),Rt.shift());N.closePath(),N.fill(),N.stroke()};let Mt=document.createElement("canvas");const Mr=()=>{var Yn;const Rt=null===(Yn=A[1])||void 0===Yn||null===(Yn=Yn.font)||void 0===Yn||null===(Yn=Yn.split(" "))||void 0===Yn?void 0:Yn[1];Mt.height=E.height,Mt.width=E.width;let xt=Mt.getContext("2d",{willReadFrequently:!0});xt.font=Cn+"px "+Rt;for(const nn in A[1])xt[nn]=A[1][nn];Sl(xt,Jt.value,Nr,Di-5)};mr(),Mr(),N.drawImage(Mt,0,0)}})(Bn,Sn,Se);const ir=yield Ta(Sn),Nr=URL.createObjectURL(ir);nt(Object.assign({},wt,{data:Bn,url:Nr,canvas:Sn,file:(mr=ir,Mt=wt.name,new File([mr],Mt,{lastModified:(new Date).getTime(),type:mr.type}))})),((L=!1)=>{if(!1===L)return;const E=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");E.oncanplaythrough=()=>{const A=E.play();A&&A.catch(N=>{})}})(He)}else nt(Object.assign({},wt,{data:Bn,canvas:Sn}))}var mr,Mt}),yn.src=wt.url},Jt.onerror=wt=>ht(wt),Jt.readAsDataURL(L)})},Ta=(L,E)=>new Promise((A,N)=>L.toBlob(q=>A(q),E)),Sl=(L,E,A,N)=>{let q=1.2*L.measureText("M").width,ae=E.split("\n");for(var Se=0;Se<ae.length;++Se)L.fillText(ae[Se],A,N),L.strokeText(ae[Se],A,N),N+=q},rl=(L=[],E=100,A=100)=>{if(L.length&&(E<100||A<100)){const N=[];return new Promise((q,ae)=>{for(const Se of L){const He=new Image,nt=new FileReader;nt.onload=function(ht){He.onload=function(){const Jt=document.createElement("canvas"),wt=Jt.getContext("2d"),yn=Math.round(He.width*(E/100)),Sn=Math.round(He.height*(E/100));Jt.width=yn,Jt.height=Sn,wt.drawImage(He,0,0,yn,Sn),Jt.toBlob(Cn=>{const Ln=new File([Cn],Se.name,{type:Se.type});N.push(Ln),L.length===N.length&&q(N)},Se.type,A/100)},He.src=ht.target.result},nt.onerror=ht=>ae(ht),nt.readAsDataURL(Se)}})}return Promise.resolve(L)};let Xo=(()=>{var L;class E{loadFiles(N=[],q,ae){const Se=new Zo;return rl(N,q,ae).then(He=>{Promise.all(Object.assign([],He).map(nt=>this.readAsDataURL(nt))).then(nt=>ws(Se,nt)).catch(nt=>ws(Se,null,nt))}),Se}loadFilesToScan(N=[],q,ae,Se){return((L=[],E,A,N,q=new Zo)=>(rl(L,A,N).then(ae=>{Promise.all(Object.assign([],ae).map(Se=>wa(Se,E))).then(Se=>{ws(q,Se)}).catch(Se=>ws(q,null,Se))}),q))(N,q,ae,Se)}readAsDataURL(N){return new Promise((q,ae)=>{const Se=new FileReader;Se.onload=()=>{const He={name:N.name,file:N,url:URL.createObjectURL(N)};q(He)},Se.onerror=He=>ae(He),Se.readAsDataURL(N)})}}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),E})(),Ht=(()=>{var L;class E{}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[Xo]}),E})();var En=P(7213),gr=P(7217),tr=P(9027);const Dn_firebaseConfig={apiKey:"AIzaSyDPyjt6uR9g-zSLw6FypzTgZzb0jRQpS70",authDomain:"regiserapp-bdd.firebaseapp.com",projectId:"regiserapp-bdd",storageBucket:"regiserapp-bdd.appspot.com",messagingSenderId:"546916272011",appId:"1:546916272011:web:16749ff0b1bffcb443d18e",measurementId:"G-NC17PJLQK7"};var ar=P(6223);let Ii=(()=>{var L;class E{}return(L=E).\u0275fac=function(N){return new(N||L)},L.\u0275mod=f.oAB({type:L,bootstrap:[Q]}),L.\u0275inj=f.cJS({providers:[{provide:V.wN,useClass:U.r4}],imports:[io,g.b2,U.Pc.forRoot(),Z,_o.N,Ht,gr.hO.initializeApp(Dn_firebaseConfig),En.ww,tr.yb,ar.UX]}),E})();g.q6().bootstrapModule(Ii).catch(L=>console.log(L))},7206:Ct=>{"use strict";var me={single_source_shortest_paths:function(P,g,f){var V={},U={};U[g]=0;var K,Z,ne,Ie,se,fe,Q=me.PriorityQueue.make();for(Q.push(g,0);!Q.empty();)for(ne in Ie=(K=Q.pop()).cost,se=P[Z=K.value]||{})se.hasOwnProperty(ne)&&(fe=Ie+se[ne],(typeof U[ne]>"u"||U[ne]>fe)&&(U[ne]=fe,Q.push(ne,fe),V[ne]=Z));if(typeof f<"u"&&typeof U[f]>"u"){var Pe=["Could not find a path from ",g," to ",f,"."].join("");throw new Error(Pe)}return V},extract_shortest_path_from_predecessor_list:function(P,g){for(var f=[],V=g;V;)f.push(V),V=P[V];return f.reverse(),f},find_path:function(P,g,f){var V=me.single_source_shortest_paths(P,g,f);return me.extract_shortest_path_from_predecessor_list(V,f)},PriorityQueue:{make:function(P){var V,g=me.PriorityQueue,f={};for(V in P=P||{},g)g.hasOwnProperty(V)&&(f[V]=g[V]);return f.queue=[],f.sorter=P.sorter||g.default_sorter,f},default_sorter:function(P,g){return P.cost-g.cost},push:function(P,g){this.queue.push({value:P,cost:g}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Ct.exports=me},6119:Ct=>{"use strict";Ct.exports=function(P){for(var g=[],f=P.length,V=0;V<f;V++){var U=P.charCodeAt(V);if(U>=55296&&U<=56319&&f>V+1){var Q=P.charCodeAt(V+1);Q>=56320&&Q<=57343&&(U=1024*(U-55296)+Q-56320+65536,V+=1)}U<128?g.push(U):U<2048?(g.push(U>>6|192),g.push(63&U|128)):U<55296||U>=57344&&U<65536?(g.push(U>>12|224),g.push(U>>6&63|128),g.push(63&U|128)):U>=65536&&U<=1114111?(g.push(U>>18|240),g.push(U>>12&63|128),g.push(U>>6&63|128),g.push(63&U|128)):g.push(239,191,189)}return new Uint8Array(g).buffer}},2839:(Ct,me,P)=>{const f=P(8310),V=P(6208),U=P(6422),Q=P(7772);function K(Z,ne,Ie,se,W){const fe=[].slice.call(arguments,1),pe=fe.length,De="function"==typeof fe[pe-1];if(!De&&!f())throw new Error("Callback required as last argument");if(!De){if(pe<1)throw new Error("Too few arguments provided");return 1===pe?(Ie=ne,ne=se=void 0):2===pe&&!ne.getContext&&(se=Ie,Ie=ne,ne=void 0),new Promise(function(Pe,Qe){try{const ge=V.create(Ie,se);Pe(Z(ge,ne,se))}catch(ge){Qe(ge)}})}if(pe<2)throw new Error("Too few arguments provided");2===pe?(W=Ie,Ie=ne,ne=se=void 0):3===pe&&(ne.getContext&&typeof W>"u"?(W=se,se=void 0):(W=se,se=Ie,Ie=ne,ne=void 0));try{const Pe=V.create(Ie,se);W(null,Z(Pe,ne,se))}catch(Pe){W(Pe)}}me.rT=K.bind(null,U.render),me.hz=K.bind(null,U.renderToDataURL),me.toString=K.bind(null,function(Z,ne,Ie){return Q.render(Z,Ie)})},8310:Ct=>{Ct.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},5281:(Ct,me,P)=>{const g=P(2562).getSymbolSize;me.getRowColCoords=function(V){if(1===V)return[];const U=Math.floor(V/7)+2,Q=g(V),K=145===Q?26:2*Math.ceil((Q-13)/(2*U-2)),Z=[Q-7];for(let ne=1;ne<U-1;ne++)Z[ne]=Z[ne-1]-K;return Z.push(6),Z.reverse()},me.getPositions=function(V){const U=[],Q=me.getRowColCoords(V),K=Q.length;for(let Z=0;Z<K;Z++)for(let ne=0;ne<K;ne++)0===Z&&0===ne||0===Z&&ne===K-1||Z===K-1&&0===ne||U.push([Q[Z],Q[ne]]);return U}},120:(Ct,me,P)=>{const g=P(1239),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function V(U){this.mode=g.ALPHANUMERIC,this.data=U}V.getBitsLength=function(Q){return 11*Math.floor(Q/2)+Q%2*6},V.prototype.getLength=function(){return this.data.length},V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)},V.prototype.write=function(Q){let K;for(K=0;K+2<=this.data.length;K+=2){let Z=45*f.indexOf(this.data[K]);Z+=f.indexOf(this.data[K+1]),Q.put(Z,11)}this.data.length%2&&Q.put(f.indexOf(this.data[K]),6)},Ct.exports=V},6509:Ct=>{function me(){this.buffer=[],this.length=0}me.prototype={get:function(P){const g=Math.floor(P/8);return 1==(this.buffer[g]>>>7-P%8&1)},put:function(P,g){for(let f=0;f<g;f++)this.putBit(1==(P>>>g-f-1&1))},getLengthInBits:function(){return this.length},putBit:function(P){const g=Math.floor(this.length/8);this.buffer.length<=g&&this.buffer.push(0),P&&(this.buffer[g]|=128>>>this.length%8),this.length++}},Ct.exports=me},5147:Ct=>{function me(P){if(!P||P<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=P,this.data=new Uint8Array(P*P),this.reservedBit=new Uint8Array(P*P)}me.prototype.set=function(P,g,f,V){const U=P*this.size+g;this.data[U]=f,V&&(this.reservedBit[U]=!0)},me.prototype.get=function(P,g){return this.data[P*this.size+g]},me.prototype.xor=function(P,g,f){this.data[P*this.size+g]^=f},me.prototype.isReserved=function(P,g){return this.reservedBit[P*this.size+g]},Ct.exports=me},277:(Ct,me,P)=>{const g=P(6119),f=P(1239);function V(U){this.mode=f.BYTE,"string"==typeof U&&(U=g(U)),this.data=new Uint8Array(U)}V.getBitsLength=function(Q){return 8*Q},V.prototype.getLength=function(){return this.data.length},V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)},V.prototype.write=function(U){for(let Q=0,K=this.data.length;Q<K;Q++)U.put(this.data[Q],8)},Ct.exports=V},7191:(Ct,me,P)=>{const g=P(4505),f=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],V=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];me.getBlocksCount=function(Q,K){switch(K){case g.L:return f[4*(Q-1)+0];case g.M:return f[4*(Q-1)+1];case g.Q:return f[4*(Q-1)+2];case g.H:return f[4*(Q-1)+3];default:return}},me.getTotalCodewordsCount=function(Q,K){switch(K){case g.L:return V[4*(Q-1)+0];case g.M:return V[4*(Q-1)+1];case g.Q:return V[4*(Q-1)+2];case g.H:return V[4*(Q-1)+3];default:return}}},4505:(Ct,me)=>{me.L={bit:1},me.M={bit:0},me.Q={bit:3},me.H={bit:2},me.isValid=function(f){return f&&typeof f.bit<"u"&&f.bit>=0&&f.bit<4},me.from=function(f,V){if(me.isValid(f))return f;try{return function P(g){if("string"!=typeof g)throw new Error("Param is not a string");switch(g.toLowerCase()){case"l":case"low":return me.L;case"m":case"medium":return me.M;case"q":case"quartile":return me.Q;case"h":case"high":return me.H;default:throw new Error("Unknown EC Level: "+g)}}(f)}catch{return V}}},5232:(Ct,me,P)=>{const g=P(2562).getSymbolSize;me.getPositions=function(U){const Q=g(U);return[[0,0],[Q-7,0],[0,Q-7]]}},8508:(Ct,me,P)=>{const g=P(2562),U=g.getBCHDigit(1335);me.getEncodedBits=function(K,Z){const ne=K.bit<<3|Z;let Ie=ne<<10;for(;g.getBCHDigit(Ie)-U>=0;)Ie^=1335<<g.getBCHDigit(Ie)-U;return 21522^(ne<<10|Ie)}},1674:(Ct,me)=>{const P=new Uint8Array(512),g=new Uint8Array(256);(function(){let V=1;for(let U=0;U<255;U++)P[U]=V,g[V]=U,V<<=1,256&V&&(V^=285);for(let U=255;U<512;U++)P[U]=P[U-255]})(),me.log=function(V){if(V<1)throw new Error("log("+V+")");return g[V]},me.exp=function(V){return P[V]},me.mul=function(V,U){return 0===V||0===U?0:P[g[V]+g[U]]}},9995:(Ct,me,P)=>{const g=P(1239),f=P(2562);function V(U){this.mode=g.KANJI,this.data=U}V.getBitsLength=function(Q){return 13*Q},V.prototype.getLength=function(){return this.data.length},V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)},V.prototype.write=function(U){let Q;for(Q=0;Q<this.data.length;Q++){let K=f.toSJIS(this.data[Q]);if(K>=33088&&K<=40956)K-=33088;else{if(!(K>=57408&&K<=60351))throw new Error("Invalid SJIS character: "+this.data[Q]+"\nMake sure your charset is UTF-8");K-=49472}K=192*(K>>>8&255)+(255&K),U.put(K,13)}},Ct.exports=V},9023:(Ct,me)=>{me.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function g(f,V,U){switch(f){case me.Patterns.PATTERN000:return(V+U)%2==0;case me.Patterns.PATTERN001:return V%2==0;case me.Patterns.PATTERN010:return U%3==0;case me.Patterns.PATTERN011:return(V+U)%3==0;case me.Patterns.PATTERN100:return(Math.floor(V/2)+Math.floor(U/3))%2==0;case me.Patterns.PATTERN101:return V*U%2+V*U%3==0;case me.Patterns.PATTERN110:return(V*U%2+V*U%3)%2==0;case me.Patterns.PATTERN111:return(V*U%3+(V+U)%2)%2==0;default:throw new Error("bad maskPattern:"+f)}}me.isValid=function(V){return null!=V&&""!==V&&!isNaN(V)&&V>=0&&V<=7},me.from=function(V){return me.isValid(V)?parseInt(V,10):void 0},me.getPenaltyN1=function(V){const U=V.size;let Q=0,K=0,Z=0,ne=null,Ie=null;for(let se=0;se<U;se++){K=Z=0,ne=Ie=null;for(let W=0;W<U;W++){let fe=V.get(se,W);fe===ne?K++:(K>=5&&(Q+=K-5+3),ne=fe,K=1),fe=V.get(W,se),fe===Ie?Z++:(Z>=5&&(Q+=Z-5+3),Ie=fe,Z=1)}K>=5&&(Q+=K-5+3),Z>=5&&(Q+=Z-5+3)}return Q},me.getPenaltyN2=function(V){const U=V.size;let Q=0;for(let K=0;K<U-1;K++)for(let Z=0;Z<U-1;Z++){const ne=V.get(K,Z)+V.get(K,Z+1)+V.get(K+1,Z)+V.get(K+1,Z+1);(4===ne||0===ne)&&Q++}return 3*Q},me.getPenaltyN3=function(V){const U=V.size;let Q=0,K=0,Z=0;for(let ne=0;ne<U;ne++){K=Z=0;for(let Ie=0;Ie<U;Ie++)K=K<<1&2047|V.get(ne,Ie),Ie>=10&&(1488===K||93===K)&&Q++,Z=Z<<1&2047|V.get(Ie,ne),Ie>=10&&(1488===Z||93===Z)&&Q++}return 40*Q},me.getPenaltyN4=function(V){let U=0;const Q=V.data.length;for(let Z=0;Z<Q;Z++)U+=V.data[Z];return 10*Math.abs(Math.ceil(100*U/Q/5)-10)},me.applyMask=function(V,U){const Q=U.size;for(let K=0;K<Q;K++)for(let Z=0;Z<Q;Z++)U.isReserved(Z,K)||U.xor(Z,K,g(V,Z,K))},me.getBestMask=function(V,U){const Q=Object.keys(me.Patterns).length;let K=0,Z=1/0;for(let ne=0;ne<Q;ne++){U(ne),me.applyMask(ne,V);const Ie=me.getPenaltyN1(V)+me.getPenaltyN2(V)+me.getPenaltyN3(V)+me.getPenaltyN4(V);me.applyMask(ne,V),Ie<Z&&(Z=Ie,K=ne)}return K}},1239:(Ct,me,P)=>{const g=P(6161),f=P(2427);me.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},me.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},me.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},me.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},me.MIXED={bit:-1},me.getCharCountIndicator=function(Q,K){if(!Q.ccBits)throw new Error("Invalid mode: "+Q);if(!g.isValid(K))throw new Error("Invalid version: "+K);return K>=1&&K<10?Q.ccBits[0]:K<27?Q.ccBits[1]:Q.ccBits[2]},me.getBestModeForData=function(Q){return f.testNumeric(Q)?me.NUMERIC:f.testAlphanumeric(Q)?me.ALPHANUMERIC:f.testKanji(Q)?me.KANJI:me.BYTE},me.toString=function(Q){if(Q&&Q.id)return Q.id;throw new Error("Invalid mode")},me.isValid=function(Q){return Q&&Q.bit&&Q.ccBits},me.from=function(Q,K){if(me.isValid(Q))return Q;try{return function V(U){if("string"!=typeof U)throw new Error("Param is not a string");switch(U.toLowerCase()){case"numeric":return me.NUMERIC;case"alphanumeric":return me.ALPHANUMERIC;case"kanji":return me.KANJI;case"byte":return me.BYTE;default:throw new Error("Unknown mode: "+U)}}(Q)}catch{return K}}},8722:(Ct,me,P)=>{const g=P(1239);function f(V){this.mode=g.NUMERIC,this.data=V.toString()}f.getBitsLength=function(U){return 10*Math.floor(U/3)+(U%3?U%3*3+1:0)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(U){let Q,K,Z;for(Q=0;Q+3<=this.data.length;Q+=3)K=this.data.substr(Q,3),Z=parseInt(K,10),U.put(Z,10);const ne=this.data.length-Q;ne>0&&(K=this.data.substr(Q),Z=parseInt(K,10),U.put(Z,3*ne+1))},Ct.exports=f},2376:(Ct,me,P)=>{const g=P(1674);me.mul=function(V,U){const Q=new Uint8Array(V.length+U.length-1);for(let K=0;K<V.length;K++)for(let Z=0;Z<U.length;Z++)Q[K+Z]^=g.mul(V[K],U[Z]);return Q},me.mod=function(V,U){let Q=new Uint8Array(V);for(;Q.length-U.length>=0;){const K=Q[0];for(let ne=0;ne<U.length;ne++)Q[ne]^=g.mul(U[ne],K);let Z=0;for(;Z<Q.length&&0===Q[Z];)Z++;Q=Q.slice(Z)}return Q},me.generateECPolynomial=function(V){let U=new Uint8Array([1]);for(let Q=0;Q<V;Q++)U=me.mul(U,new Uint8Array([1,g.exp(Q)]));return U}},6208:(Ct,me,P)=>{const g=P(2562),f=P(4505),V=P(6509),U=P(5147),Q=P(5281),K=P(5232),Z=P(9023),ne=P(7191),Ie=P(1297),se=P(9467),W=P(8508),fe=P(1239),pe=P(1799);function Ae(Oe,Le,ve){const ke=Oe.size,Me=W.getEncodedBits(Le,ve);let Te,qe;for(Te=0;Te<15;Te++)qe=1==(Me>>Te&1),Oe.set(Te<6?Te:Te<8?Te+1:ke-15+Te,8,qe,!0),Oe.set(8,Te<8?ke-Te-1:Te<9?15-Te-1+1:15-Te-1,qe,!0);Oe.set(ke-8,8,1,!0)}function ye(Oe,Le,ve,ke){let Me;if(Array.isArray(Oe))Me=pe.fromArray(Oe);else{if("string"!=typeof Oe)throw new Error("Invalid data");{let $t=Le;if(!$t){const Et=pe.rawSplit(Oe);$t=se.getBestVersionForData(Et,ve)}Me=pe.fromString(Oe,$t||40)}}const Te=se.getBestVersionForData(Me,ve);if(!Te)throw new Error("The amount of data is too big to be stored in a QR Code");if(Le){if(Le<Te)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+Te+".\n")}else Le=Te;const qe=function ze(Oe,Le,ve){const ke=new V;ve.forEach(function(rt){ke.put(rt.mode.bit,4),ke.put(rt.getLength(),fe.getCharCountIndicator(rt.mode,Oe)),rt.write(ke)});const qe=8*(g.getSymbolTotalCodewords(Oe)-ne.getTotalCodewordsCount(Oe,Le));for(ke.getLengthInBits()+4<=qe&&ke.put(0,4);ke.getLengthInBits()%8!=0;)ke.putBit(0);const $e=(qe-ke.getLengthInBits())/8;for(let rt=0;rt<$e;rt++)ke.put(rt%2?17:236,8);return function te(Oe,Le,ve){const ke=g.getSymbolTotalCodewords(Le),Te=ke-ne.getTotalCodewordsCount(Le,ve),qe=ne.getBlocksCount(Le,ve),rt=qe-ke%qe,$t=Math.floor(ke/qe),Et=Math.floor(Te/qe),In=Et+1,tt=$t-Et,he=new Ie(tt);let we=0;const be=new Array(qe),Ye=new Array(qe);let Ze=0;const Xe=new Uint8Array(Oe.buffer);for(let dt=0;dt<qe;dt++){const vt=dt<rt?Et:In;be[dt]=Xe.slice(we,we+vt),Ye[dt]=he.encode(be[dt]),we+=vt,Ze=Math.max(Ze,vt)}const Lt=new Uint8Array(ke);let it,ut,Ut=0;for(it=0;it<Ze;it++)for(ut=0;ut<qe;ut++)it<be[ut].length&&(Lt[Ut++]=be[ut][it]);for(it=0;it<tt;it++)for(ut=0;ut<qe;ut++)Lt[Ut++]=Ye[ut][it];return Lt}(ke,Oe,Le)}(Le,ve,Me),$e=g.getSymbolSize(Le),rt=new U($e);return function De(Oe,Le){const ve=Oe.size,ke=K.getPositions(Le);for(let Me=0;Me<ke.length;Me++){const Te=ke[Me][0],qe=ke[Me][1];for(let $e=-1;$e<=7;$e++)if(!(Te+$e<=-1||ve<=Te+$e))for(let rt=-1;rt<=7;rt++)qe+rt<=-1||ve<=qe+rt||Oe.set(Te+$e,qe+rt,$e>=0&&$e<=6&&(0===rt||6===rt)||rt>=0&&rt<=6&&(0===$e||6===$e)||$e>=2&&$e<=4&&rt>=2&&rt<=4,!0)}}(rt,Le),function Pe(Oe){const Le=Oe.size;for(let ve=8;ve<Le-8;ve++){const ke=ve%2==0;Oe.set(ve,6,ke,!0),Oe.set(6,ve,ke,!0)}}(rt),function Qe(Oe,Le){const ve=Q.getPositions(Le);for(let ke=0;ke<ve.length;ke++){const Me=ve[ke][0],Te=ve[ke][1];for(let qe=-2;qe<=2;qe++)for(let $e=-2;$e<=2;$e++)Oe.set(Me+qe,Te+$e,-2===qe||2===qe||-2===$e||2===$e||0===qe&&0===$e,!0)}}(rt,Le),Ae(rt,ve,0),Le>=7&&function ge(Oe,Le){const ve=Oe.size,ke=se.getEncodedBits(Le);let Me,Te,qe;for(let $e=0;$e<18;$e++)Me=Math.floor($e/3),Te=$e%3+ve-8-3,qe=1==(ke>>$e&1),Oe.set(Me,Te,qe,!0),Oe.set(Te,Me,qe,!0)}(rt,Le),function je(Oe,Le){const ve=Oe.size;let ke=-1,Me=ve-1,Te=7,qe=0;for(let $e=ve-1;$e>0;$e-=2)for(6===$e&&$e--;;){for(let rt=0;rt<2;rt++)if(!Oe.isReserved(Me,$e-rt)){let $t=!1;qe<Le.length&&($t=1==(Le[qe]>>>Te&1)),Oe.set(Me,$e-rt,$t),Te--,-1===Te&&(qe++,Te=7)}if(Me+=ke,Me<0||ve<=Me){Me-=ke,ke=-ke;break}}}(rt,qe),isNaN(ke)&&(ke=Z.getBestMask(rt,Ae.bind(null,rt,ve))),Z.applyMask(ke,rt),Ae(rt,ve,ke),{modules:rt,version:Le,errorCorrectionLevel:ve,maskPattern:ke,segments:Me}}me.create=function(Le,ve){if(typeof Le>"u"||""===Le)throw new Error("No input text");let Me,Te,ke=f.M;return typeof ve<"u"&&(ke=f.from(ve.errorCorrectionLevel,f.M),Me=se.from(ve.version),Te=Z.from(ve.maskPattern),ve.toSJISFunc&&g.setToSJISFunction(ve.toSJISFunc)),ye(Le,Me,ke,Te)}},1297:(Ct,me,P)=>{const g=P(2376);function f(V){this.genPoly=void 0,this.degree=V,this.degree&&this.initialize(this.degree)}f.prototype.initialize=function(U){this.degree=U,this.genPoly=g.generateECPolynomial(this.degree)},f.prototype.encode=function(U){if(!this.genPoly)throw new Error("Encoder not initialized");const Q=new Uint8Array(U.length+this.degree);Q.set(U);const K=g.mod(Q,this.genPoly),Z=this.degree-K.length;if(Z>0){const ne=new Uint8Array(this.degree);return ne.set(K,Z),ne}return K},Ct.exports=f},2427:(Ct,me)=>{const P="[0-9]+";let f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");const V="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+")(?:.|[\r\n]))+";me.KANJI=new RegExp(f,"g"),me.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),me.BYTE=new RegExp(V,"g"),me.NUMERIC=new RegExp(P,"g"),me.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const U=new RegExp("^"+f+"$"),Q=new RegExp("^"+P+"$"),K=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");me.testKanji=function(ne){return U.test(ne)},me.testNumeric=function(ne){return Q.test(ne)},me.testAlphanumeric=function(ne){return K.test(ne)}},1799:(Ct,me,P)=>{const g=P(1239),f=P(8722),V=P(120),U=P(277),Q=P(9995),K=P(2427),Z=P(2562),ne=P(7206);function Ie(ge){return unescape(encodeURIComponent(ge)).length}function se(ge,Ae,je){const ze=[];let te;for(;null!==(te=ge.exec(je));)ze.push({data:te[0],index:te.index,mode:Ae,length:te[0].length});return ze}function W(ge){const Ae=se(K.NUMERIC,g.NUMERIC,ge),je=se(K.ALPHANUMERIC,g.ALPHANUMERIC,ge);let ze,te;return Z.isKanjiModeEnabled()?(ze=se(K.BYTE,g.BYTE,ge),te=se(K.KANJI,g.KANJI,ge)):(ze=se(K.BYTE_KANJI,g.BYTE,ge),te=[]),Ae.concat(je,ze,te).sort(function(Oe,Le){return Oe.index-Le.index}).map(function(Oe){return{data:Oe.data,mode:Oe.mode,length:Oe.length}})}function fe(ge,Ae){switch(Ae){case g.NUMERIC:return f.getBitsLength(ge);case g.ALPHANUMERIC:return V.getBitsLength(ge);case g.KANJI:return Q.getBitsLength(ge);case g.BYTE:return U.getBitsLength(ge)}}function Qe(ge,Ae){let je;const ze=g.getBestModeForData(ge);if(je=g.from(Ae,ze),je!==g.BYTE&&je.bit<ze.bit)throw new Error('"'+ge+'" cannot be encoded with mode '+g.toString(je)+".\n Suggested mode is: "+g.toString(ze));switch(je===g.KANJI&&!Z.isKanjiModeEnabled()&&(je=g.BYTE),je){case g.NUMERIC:return new f(ge);case g.ALPHANUMERIC:return new V(ge);case g.KANJI:return new Q(ge);case g.BYTE:return new U(ge)}}me.fromArray=function(Ae){return Ae.reduce(function(je,ze){return"string"==typeof ze?je.push(Qe(ze,null)):ze.data&&je.push(Qe(ze.data,ze.mode)),je},[])},me.fromString=function(Ae,je){const te=function De(ge){const Ae=[];for(let je=0;je<ge.length;je++){const ze=ge[je];switch(ze.mode){case g.NUMERIC:Ae.push([ze,{data:ze.data,mode:g.ALPHANUMERIC,length:ze.length},{data:ze.data,mode:g.BYTE,length:ze.length}]);break;case g.ALPHANUMERIC:Ae.push([ze,{data:ze.data,mode:g.BYTE,length:ze.length}]);break;case g.KANJI:Ae.push([ze,{data:ze.data,mode:g.BYTE,length:Ie(ze.data)}]);break;case g.BYTE:Ae.push([{data:ze.data,mode:g.BYTE,length:Ie(ze.data)}])}}return Ae}(W(Ae,Z.isKanjiModeEnabled())),ye=function Pe(ge,Ae){const je={},ze={start:{}};let te=["start"];for(let ye=0;ye<ge.length;ye++){const Oe=ge[ye],Le=[];for(let ve=0;ve<Oe.length;ve++){const ke=Oe[ve],Me=""+ye+ve;Le.push(Me),je[Me]={node:ke,lastCount:0},ze[Me]={};for(let Te=0;Te<te.length;Te++){const qe=te[Te];je[qe]&&je[qe].node.mode===ke.mode?(ze[qe][Me]=fe(je[qe].lastCount+ke.length,ke.mode)-fe(je[qe].lastCount,ke.mode),je[qe].lastCount+=ke.length):(je[qe]&&(je[qe].lastCount=ke.length),ze[qe][Me]=fe(ke.length,ke.mode)+4+g.getCharCountIndicator(ke.mode,Ae))}}te=Le}for(let ye=0;ye<te.length;ye++)ze[te[ye]].end=0;return{map:ze,table:je}}(te,je),Oe=ne.find_path(ye.map,"start","end"),Le=[];for(let ve=1;ve<Oe.length-1;ve++)Le.push(ye.table[Oe[ve]].node);return me.fromArray(function pe(ge){return ge.reduce(function(Ae,je){const ze=Ae.length-1>=0?Ae[Ae.length-1]:null;return ze&&ze.mode===je.mode?(Ae[Ae.length-1].data+=je.data,Ae):(Ae.push(je),Ae)},[])}(Le))},me.rawSplit=function(Ae){return me.fromArray(W(Ae,Z.isKanjiModeEnabled()))}},2562:(Ct,me)=>{let P;const g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];me.getSymbolSize=function(V){if(!V)throw new Error('"version" cannot be null or undefined');if(V<1||V>40)throw new Error('"version" should be in range from 1 to 40');return 4*V+17},me.getSymbolTotalCodewords=function(V){return g[V]},me.getBCHDigit=function(f){let V=0;for(;0!==f;)V++,f>>>=1;return V},me.setToSJISFunction=function(V){if("function"!=typeof V)throw new Error('"toSJISFunc" is not a valid function.');P=V},me.isKanjiModeEnabled=function(){return typeof P<"u"},me.toSJIS=function(V){return P(V)}},6161:(Ct,me)=>{me.isValid=function(g){return!isNaN(g)&&g>=1&&g<=40}},9467:(Ct,me,P)=>{const g=P(2562),f=P(7191),V=P(4505),U=P(1239),Q=P(6161),Z=g.getBCHDigit(7973);function Ie(fe,pe){return U.getCharCountIndicator(fe,pe)+4}function se(fe,pe){let De=0;return fe.forEach(function(Pe){const Qe=Ie(Pe.mode,pe);De+=Qe+Pe.getBitsLength()}),De}me.from=function(pe,De){return Q.isValid(pe)?parseInt(pe,10):De},me.getCapacity=function(pe,De,Pe){if(!Q.isValid(pe))throw new Error("Invalid QR Code version");typeof Pe>"u"&&(Pe=U.BYTE);const Ae=8*(g.getSymbolTotalCodewords(pe)-f.getTotalCodewordsCount(pe,De));if(Pe===U.MIXED)return Ae;const je=Ae-Ie(Pe,pe);switch(Pe){case U.NUMERIC:return Math.floor(je/10*3);case U.ALPHANUMERIC:return Math.floor(je/11*2);case U.KANJI:return Math.floor(je/13);default:return Math.floor(je/8)}},me.getBestVersionForData=function(pe,De){let Pe;const Qe=V.from(De,V.M);if(Array.isArray(pe)){if(pe.length>1)return function W(fe,pe){for(let De=1;De<=40;De++)if(se(fe,De)<=me.getCapacity(De,pe,U.MIXED))return De}(pe,Qe);if(0===pe.length)return 1;Pe=pe[0]}else Pe=pe;return function ne(fe,pe,De){for(let Pe=1;Pe<=40;Pe++)if(pe<=me.getCapacity(Pe,De,fe))return Pe}(Pe.mode,Pe.getLength(),Qe)},me.getEncodedBits=function(pe){if(!Q.isValid(pe)||pe<7)throw new Error("Invalid QR Code version");let De=pe<<12;for(;g.getBCHDigit(De)-Z>=0;)De^=7973<<g.getBCHDigit(De)-Z;return pe<<12|De}},6422:(Ct,me,P)=>{const g=P(1101);me.render=function(Q,K,Z){let ne=Z,Ie=K;typeof ne>"u"&&(!K||!K.getContext)&&(ne=K,K=void 0),K||(Ie=function V(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),ne=g.getOptions(ne);const se=g.getImageWidth(Q.modules.size,ne),W=Ie.getContext("2d"),fe=W.createImageData(se,se);return g.qrToImageData(fe.data,Q,ne),function f(U,Q,K){U.clearRect(0,0,Q.width,Q.height),Q.style||(Q.style={}),Q.height=K,Q.width=K,Q.style.height=K+"px",Q.style.width=K+"px"}(W,Ie,se),W.putImageData(fe,0,0),Ie},me.renderToDataURL=function(Q,K,Z){let ne=Z;return typeof ne>"u"&&(!K||!K.getContext)&&(ne=K,K=void 0),ne||(ne={}),me.render(Q,K,ne).toDataURL(ne.type||"image/png",(ne.rendererOpts||{}).quality)}},7772:(Ct,me,P)=>{const g=P(1101);function f(Q,K){const Z=Q.a/255,ne=K+'="'+Q.hex+'"';return Z<1?ne+" "+K+'-opacity="'+Z.toFixed(2).slice(1)+'"':ne}function V(Q,K,Z){let ne=Q+K;return typeof Z<"u"&&(ne+=" "+Z),ne}me.render=function(K,Z,ne){const Ie=g.getOptions(Z),se=K.modules.size,W=K.modules.data,fe=se+2*Ie.margin,pe=Ie.color.light.a?"<path "+f(Ie.color.light,"fill")+' d="M0 0h'+fe+"v"+fe+'H0z"/>':"",De="<path "+f(Ie.color.dark,"stroke")+' d="'+function U(Q,K,Z){let ne="",Ie=0,se=!1,W=0;for(let fe=0;fe<Q.length;fe++){const pe=Math.floor(fe%K),De=Math.floor(fe/K);!pe&&!se&&(se=!0),Q[fe]?(W++,fe>0&&pe>0&&Q[fe-1]||(ne+=se?V("M",pe+Z,.5+De+Z):V("m",Ie,0),Ie=0,se=!1),pe+1<K&&Q[fe+1]||(ne+=V("h",W),W=0)):Ie++}return ne}(W,se,Ie.margin)+'"/>',ge='<svg xmlns="http://www.w3.org/2000/svg" '+(Ie.width?'width="'+Ie.width+'" height="'+Ie.width+'" ':"")+'viewBox="0 0 '+fe+" "+fe+'" shape-rendering="crispEdges">'+pe+De+"</svg>\n";return"function"==typeof ne&&ne(null,ge),ge}},1101:(Ct,me)=>{function P(g){if("number"==typeof g&&(g=g.toString()),"string"!=typeof g)throw new Error("Color should be defined as hex string");let f=g.slice().replace("#","").split("");if(f.length<3||5===f.length||f.length>8)throw new Error("Invalid hex color: "+g);(3===f.length||4===f.length)&&(f=Array.prototype.concat.apply([],f.map(function(U){return[U,U]}))),6===f.length&&f.push("F","F");const V=parseInt(f.join(""),16);return{r:V>>24&255,g:V>>16&255,b:V>>8&255,a:255&V,hex:"#"+f.slice(0,6).join("")}}me.getOptions=function(f){f||(f={}),f.color||(f.color={});const U=f.width&&f.width>=21?f.width:void 0;return{width:U,scale:U?4:f.scale||4,margin:typeof f.margin>"u"||null===f.margin||f.margin<0?4:f.margin,color:{dark:P(f.color.dark||"#000000ff"),light:P(f.color.light||"#ffffffff")},type:f.type,rendererOpts:f.rendererOpts||{}}},me.getScale=function(f,V){return V.width&&V.width>=f+2*V.margin?V.width/(f+2*V.margin):V.scale},me.getImageWidth=function(f,V){const U=me.getScale(f,V);return Math.floor((f+2*V.margin)*U)},me.qrToImageData=function(f,V,U){const Q=V.modules.size,K=V.modules.data,Z=me.getScale(Q,U),ne=Math.floor((Q+2*U.margin)*Z),Ie=U.margin*Z,se=[U.color.light,U.color.dark];for(let W=0;W<ne;W++)for(let fe=0;fe<ne;fe++){let pe=4*(W*ne+fe),De=U.color.light;W>=Ie&&fe>=Ie&&W<ne-Ie&&fe<ne-Ie&&(De=se[K[Math.floor((W-Ie)/Z)*Q+Math.floor((fe-Ie)/Z)]?1:0]),f[pe++]=De.r,f[pe++]=De.g,f[pe++]=De.b,f[pe]=De.a}}},5619:(Ct,me,P)=>{"use strict";P.d(me,{X:()=>f});var g=P(8645);class f extends g.x{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const Q=super._subscribe(U);return!Q.closed&&U.next(this._value),Q}getValue(){const{hasError:U,thrownError:Q,_value:K}=this;if(U)throw Q;return this._throwIfClosed(),K}next(U){super.next(this._value=U)}}},5592:(Ct,me,P)=>{"use strict";P.d(me,{y:()=>ne});var g=P(305),f=P(7394),V=P(4850),U=P(8407),Q=P(2653),K=P(4674),Z=P(1441);let ne=(()=>{class fe{constructor(De){De&&(this._subscribe=De)}lift(De){const Pe=new fe;return Pe.source=this,Pe.operator=De,Pe}subscribe(De,Pe,Qe){const ge=function W(fe){return fe&&fe instanceof g.Lv||function se(fe){return fe&&(0,K.m)(fe.next)&&(0,K.m)(fe.error)&&(0,K.m)(fe.complete)}(fe)&&(0,f.Nn)(fe)}(De)?De:new g.Hp(De,Pe,Qe);return(0,Z.x)(()=>{const{operator:Ae,source:je}=this;ge.add(Ae?Ae.call(ge,je):je?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(De){try{return this._subscribe(De)}catch(Pe){De.error(Pe)}}forEach(De,Pe){return new(Pe=Ie(Pe))((Qe,ge)=>{const Ae=new g.Hp({next:je=>{try{De(je)}catch(ze){ge(ze),Ae.unsubscribe()}},error:ge,complete:Qe});this.subscribe(Ae)})}_subscribe(De){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(De)}[V.L](){return this}pipe(...De){return(0,U.U)(De)(this)}toPromise(De){return new(De=Ie(De))((Pe,Qe)=>{let ge;this.subscribe(Ae=>ge=Ae,Ae=>Qe(Ae),()=>Pe(ge))})}}return fe.create=pe=>new fe(pe),fe})();function Ie(fe){var pe;return null!==(pe=null!=fe?fe:Q.config.Promise)&&void 0!==pe?pe:Promise}},8645:(Ct,me,P)=>{"use strict";P.d(me,{x:()=>Z});var g=P(5592),f=P(7394);const U=(0,P(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=P(9039),K=P(1441);let Z=(()=>{class Ie extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const fe=new ne(this,this);return fe.operator=W,fe}_throwIfClosed(){if(this.closed)throw new U}next(W){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(W)}})}error(W){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:fe}=this;for(;fe.length;)fe.shift().error(W)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:fe,isStopped:pe,observers:De}=this;return fe||pe?f.Lc:(this.currentObservers=null,De.push(W),new f.w0(()=>{this.currentObservers=null,(0,Q.P)(De,W)}))}_checkFinalizedStatuses(W){const{hasError:fe,thrownError:pe,isStopped:De}=this;fe?W.error(pe):De&&W.complete()}asObservable(){const W=new g.y;return W.source=this,W}}return Ie.create=(se,W)=>new ne(se,W),Ie})();class ne extends Z{constructor(se,W){super(),this.destination=se,this.source=W}next(se){var W,fe;null===(fe=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===fe||fe.call(W,se)}error(se){var W,fe;null===(fe=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===fe||fe.call(W,se)}complete(){var se,W;null===(W=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===W||W.call(se)}_subscribe(se){var W,fe;return null!==(fe=null===(W=this.source)||void 0===W?void 0:W.subscribe(se))&&void 0!==fe?fe:f.Lc}}},305:(Ct,me,P)=>{"use strict";P.d(me,{Hp:()=>Qe,Lv:()=>fe});var g=P(4674),f=P(7394),V=P(2653),U=P(3894),Q=P(2420);const K=Ie("C",void 0,void 0);function Ie(te,ye,Oe){return{kind:te,value:ye,error:Oe}}var se=P(7599),W=P(1441);class fe extends f.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,f.Nn)(ye)&&ye.add(this)):this.destination=ze}static create(ye,Oe,Le){return new Qe(ye,Oe,Le)}next(ye){this.isStopped?je(function ne(te){return Ie("N",te,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?je(function Z(te){return Ie("E",void 0,te)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?je(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function De(te,ye){return pe.call(te,ye)}class Pe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(ye)}catch(Le){ge(Le)}}error(ye){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(ye)}catch(Le){ge(Le)}else ge(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Oe){ge(Oe)}}}class Qe extends fe{constructor(ye,Oe,Le){let ve;if(super(),(0,g.m)(ye)||!ye)ve={next:null!=ye?ye:void 0,error:null!=Oe?Oe:void 0,complete:null!=Le?Le:void 0};else{let ke;this&&V.config.useDeprecatedNextContext?(ke=Object.create(ye),ke.unsubscribe=()=>this.unsubscribe(),ve={next:ye.next&&De(ye.next,ke),error:ye.error&&De(ye.error,ke),complete:ye.complete&&De(ye.complete,ke)}):ve=ye}this.destination=new Pe(ve)}}function ge(te){V.config.useDeprecatedSynchronousErrorHandling?(0,W.O)(te):(0,U.h)(te)}function je(te,ye){const{onStoppedNotification:Oe}=V.config;Oe&&se.z.setTimeout(()=>Oe(te,ye))}const ze={closed:!0,next:Q.Z,error:function Ae(te){throw te},complete:Q.Z}},7394:(Ct,me,P)=>{"use strict";P.d(me,{Lc:()=>K,w0:()=>Q,Nn:()=>Z});var g=P(4674);const V=(0,P(2306).d)(Ie=>function(W){Ie(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((fe,pe)=>`${pe+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var U=P(9039);class Q{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const De of W)De.remove(this);else W.remove(this);const{initialTeardown:fe}=this;if((0,g.m)(fe))try{fe()}catch(De){se=De instanceof V?De.errors:[De]}const{_finalizers:pe}=this;if(pe){this._finalizers=null;for(const De of pe)try{ne(De)}catch(Pe){se=null!=se?se:[],Pe instanceof V?se=[...se,...Pe.errors]:se.push(Pe)}}if(se)throw new V(se)}}add(se){var W;if(se&&se!==this)if(this.closed)ne(se);else{if(se instanceof Q){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(se)}}_hasParent(se){const{_parentage:W}=this;return W===se||Array.isArray(W)&&W.includes(se)}_addParent(se){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(se),W):W?[W,se]:se}_removeParent(se){const{_parentage:W}=this;W===se?this._parentage=null:Array.isArray(W)&&(0,U.P)(W,se)}remove(se){const{_finalizers:W}=this;W&&(0,U.P)(W,se),se instanceof Q&&se._removeParent(this)}}Q.EMPTY=(()=>{const Ie=new Q;return Ie.closed=!0,Ie})();const K=Q.EMPTY;function Z(Ie){return Ie instanceof Q||Ie&&"closed"in Ie&&(0,g.m)(Ie.remove)&&(0,g.m)(Ie.add)&&(0,g.m)(Ie.unsubscribe)}function ne(Ie){(0,g.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(Ct,me,P)=>{"use strict";P.d(me,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Ct,me,P)=>{"use strict";P.d(me,{a:()=>se});var g=P(5592),f=P(7453),V=P(2459),U=P(2737),Q=P(7400),K=P(9940),Z=P(2714),ne=P(8251),Ie=P(7103);function se(...pe){const De=(0,K.yG)(pe),Pe=(0,K.jO)(pe),{args:Qe,keys:ge}=(0,f.D)(pe);if(0===Qe.length)return(0,V.D)([],De);const Ae=new g.y(function W(pe,De,Pe=U.y){return Qe=>{fe(De,()=>{const{length:ge}=pe,Ae=new Array(ge);let je=ge,ze=ge;for(let te=0;te<ge;te++)fe(De,()=>{const ye=(0,V.D)(pe[te],De);let Oe=!1;ye.subscribe((0,ne.x)(Qe,Le=>{Ae[te]=Le,Oe||(Oe=!0,ze--),ze||Qe.next(Pe(Ae.slice()))},()=>{--je||Qe.complete()}))},Qe)},Qe)}}(Qe,De,ge?je=>(0,Z.n)(ge,je):U.y));return Pe?Ae.pipe((0,Q.Z)(Pe)):Ae}function fe(pe,De,Pe){pe?(0,Ie.f)(Pe,pe,De):De()}},5211:(Ct,me,P)=>{"use strict";P.d(me,{z:()=>Q});var g=P(7537),V=P(9940),U=P(2459);function Q(...K){return function f(){return(0,g.J)(1)}()((0,U.D)(K,(0,V.yG)(K)))}},6232:(Ct,me,P)=>{"use strict";P.d(me,{E:()=>f});const f=new(P(5592).y)(Q=>Q.complete())},9315:(Ct,me,P)=>{"use strict";P.d(me,{D:()=>ne});var g=P(5592),f=P(7453),V=P(4829),U=P(9940),Q=P(8251),K=P(7400),Z=P(2714);function ne(...Ie){const se=(0,U.jO)(Ie),{args:W,keys:fe}=(0,f.D)(Ie),pe=new g.y(De=>{const{length:Pe}=W;if(!Pe)return void De.complete();const Qe=new Array(Pe);let ge=Pe,Ae=Pe;for(let je=0;je<Pe;je++){let ze=!1;(0,V.Xf)(W[je]).subscribe((0,Q.x)(De,te=>{ze||(ze=!0,Ae--),Qe[je]=te},()=>ge--,void 0,()=>{(!ge||!ze)&&(Ae||De.next(fe?(0,Z.n)(fe,Qe):Qe),De.complete())}))}});return se?pe.pipe((0,K.Z)(se)):pe}},2459:(Ct,me,P)=>{"use strict";P.d(me,{D:()=>ye});var g=P(4829),f=P(3093),V=P(5137),K=P(5592),ne=P(4971),Ie=P(4674),se=P(7103);function fe(Oe,Le){if(!Oe)throw new Error("Iterable cannot be null");return new K.y(ve=>{(0,se.f)(ve,Le,()=>{const ke=Oe[Symbol.asyncIterator]();(0,se.f)(ve,Le,()=>{ke.next().then(Me=>{Me.done?ve.complete():ve.next(Me.value)})},0,!0)})})}var pe=P(8382),De=P(4026),Pe=P(4266),Qe=P(3664),ge=P(5726),Ae=P(9853),je=P(541);function ye(Oe,Le){return Le?function te(Oe,Le){if(null!=Oe){if((0,pe.c)(Oe))return function U(Oe,Le){return(0,g.Xf)(Oe).pipe((0,V.R)(Le),(0,f.Q)(Le))}(Oe,Le);if((0,Pe.z)(Oe))return function Z(Oe,Le){return new K.y(ve=>{let ke=0;return Le.schedule(function(){ke===Oe.length?ve.complete():(ve.next(Oe[ke++]),ve.closed||this.schedule())})})}(Oe,Le);if((0,De.t)(Oe))return function Q(Oe,Le){return(0,g.Xf)(Oe).pipe((0,V.R)(Le),(0,f.Q)(Le))}(Oe,Le);if((0,ge.D)(Oe))return fe(Oe,Le);if((0,Qe.T)(Oe))return function W(Oe,Le){return new K.y(ve=>{let ke;return(0,se.f)(ve,Le,()=>{ke=Oe[ne.h](),(0,se.f)(ve,Le,()=>{let Me,Te;try{({value:Me,done:Te}=ke.next())}catch(qe){return void ve.error(qe)}Te?ve.complete():ve.next(Me)},0,!0)}),()=>(0,Ie.m)(null==ke?void 0:ke.return)&&ke.return()})}(Oe,Le);if((0,je.L)(Oe))return function ze(Oe,Le){return fe((0,je.Q)(Oe),Le)}(Oe,Le)}throw(0,Ae.z)(Oe)}(Oe,Le):(0,g.Xf)(Oe)}},2438:(Ct,me,P)=>{"use strict";P.d(me,{R:()=>se});var g=P(4829),f=P(5592),V=P(1631),U=P(4266),Q=P(4674),K=P(7400);const Z=["addListener","removeListener"],ne=["addEventListener","removeEventListener"],Ie=["on","off"];function se(Pe,Qe,ge,Ae){if((0,Q.m)(ge)&&(Ae=ge,ge=void 0),Ae)return se(Pe,Qe,ge).pipe((0,K.Z)(Ae));const[je,ze]=function De(Pe){return(0,Q.m)(Pe.addEventListener)&&(0,Q.m)(Pe.removeEventListener)}(Pe)?ne.map(te=>ye=>Pe[te](Qe,ye,ge)):function fe(Pe){return(0,Q.m)(Pe.addListener)&&(0,Q.m)(Pe.removeListener)}(Pe)?Z.map(W(Pe,Qe)):function pe(Pe){return(0,Q.m)(Pe.on)&&(0,Q.m)(Pe.off)}(Pe)?Ie.map(W(Pe,Qe)):[];if(!je&&(0,U.z)(Pe))return(0,V.z)(te=>se(te,Qe,ge))((0,g.Xf)(Pe));if(!je)throw new TypeError("Invalid event target");return new f.y(te=>{const ye=(...Oe)=>te.next(1<Oe.length?Oe:Oe[0]);return je(ye),()=>ze(ye)})}function W(Pe,Qe){return ge=>Ae=>Pe[ge](Qe,Ae)}},4829:(Ct,me,P)=>{"use strict";P.d(me,{Xf:()=>pe});var g=P(7582),f=P(4266),V=P(4026),U=P(5592),Q=P(8382),K=P(5726),Z=P(9853),ne=P(3664),Ie=P(541),se=P(4674),W=P(3894),fe=P(4850);function pe(te){if(te instanceof U.y)return te;if(null!=te){if((0,Q.c)(te))return function De(te){return new U.y(ye=>{const Oe=te[fe.L]();if((0,se.m)(Oe.subscribe))return Oe.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,f.z)(te))return function Pe(te){return new U.y(ye=>{for(let Oe=0;Oe<te.length&&!ye.closed;Oe++)ye.next(te[Oe]);ye.complete()})}(te);if((0,V.t)(te))return function Qe(te){return new U.y(ye=>{te.then(Oe=>{ye.closed||(ye.next(Oe),ye.complete())},Oe=>ye.error(Oe)).then(null,W.h)})}(te);if((0,K.D)(te))return Ae(te);if((0,ne.T)(te))return function ge(te){return new U.y(ye=>{for(const Oe of te)if(ye.next(Oe),ye.closed)return;ye.complete()})}(te);if((0,Ie.L)(te))return function je(te){return Ae((0,Ie.Q)(te))}(te)}throw(0,Z.z)(te)}function Ae(te){return new U.y(ye=>{(function ze(te,ye){var Oe,Le,ve,ke;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,g.KL)(te);!(Le=yield Oe.next()).done;)if(ye.next(Le.value),ye.closed)return}catch(Me){ve={error:Me}}finally{try{Le&&!Le.done&&(ke=Oe.return)&&(yield ke.call(Oe))}finally{if(ve)throw ve.error}}ye.complete()})})(te,ye).catch(Oe=>ye.error(Oe))})}},3019:(Ct,me,P)=>{"use strict";P.d(me,{T:()=>K});var g=P(7537),f=P(4829),V=P(6232),U=P(9940),Q=P(2459);function K(...Z){const ne=(0,U.yG)(Z),Ie=(0,U._6)(Z,1/0),se=Z;return se.length?1===se.length?(0,f.Xf)(se[0]):(0,g.J)(Ie)((0,Q.D)(se,ne)):V.E}},2096:(Ct,me,P)=>{"use strict";P.d(me,{of:()=>V});var g=P(9940),f=P(2459);function V(...U){const Q=(0,g.yG)(U);return(0,f.D)(U,Q)}},8504:(Ct,me,P)=>{"use strict";P.d(me,{_:()=>V});var g=P(5592),f=P(4674);function V(U,Q){const K=(0,f.m)(U)?U:()=>U,Z=ne=>ne.error(K());return new g.y(Q?ne=>Q.schedule(Z,0,ne):Z)}},8251:(Ct,me,P)=>{"use strict";P.d(me,{x:()=>f});var g=P(305);function f(U,Q,K,Z,ne){return new V(U,Q,K,Z,ne)}class V extends g.Lv{constructor(Q,K,Z,ne,Ie,se){super(Q),this.onFinalize=Ie,this.shouldUnsubscribe=se,this._next=K?function(W){try{K(W)}catch(fe){Q.error(fe)}}:super._next,this._error=ne?function(W){try{ne(W)}catch(fe){Q.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(W){Q.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},6306:(Ct,me,P)=>{"use strict";P.d(me,{K:()=>U});var g=P(4829),f=P(8251),V=P(9360);function U(Q){return(0,V.e)((K,Z)=>{let se,ne=null,Ie=!1;ne=K.subscribe((0,f.x)(Z,void 0,void 0,W=>{se=(0,g.Xf)(Q(W,U(Q)(K))),ne?(ne.unsubscribe(),ne=null,se.subscribe(Z)):Ie=!0})),Ie&&(ne.unsubscribe(),ne=null,se.subscribe(Z))})}},6328:(Ct,me,P)=>{"use strict";P.d(me,{b:()=>V});var g=P(1631),f=P(4674);function V(U,Q){return(0,f.m)(Q)?(0,g.z)(U,Q,1):(0,g.z)(U,1)}},3572:(Ct,me,P)=>{"use strict";P.d(me,{d:()=>V});var g=P(9360),f=P(8251);function V(U){return(0,g.e)((Q,K)=>{let Z=!1;Q.subscribe((0,f.x)(K,ne=>{Z=!0,K.next(ne)},()=>{Z||K.next(U),K.complete()}))})}},3997:(Ct,me,P)=>{"use strict";P.d(me,{x:()=>U});var g=P(2737),f=P(9360),V=P(8251);function U(K,Z=g.y){return K=null!=K?K:Q,(0,f.e)((ne,Ie)=>{let se,W=!0;ne.subscribe((0,V.x)(Ie,fe=>{const pe=Z(fe);(W||!K(se,pe))&&(W=!1,se=pe,Ie.next(fe))}))})}function Q(K,Z){return K===Z}},2181:(Ct,me,P)=>{"use strict";P.d(me,{h:()=>V});var g=P(9360),f=P(8251);function V(U,Q){return(0,g.e)((K,Z)=>{let ne=0;K.subscribe((0,f.x)(Z,Ie=>U.call(Q,Ie,ne++)&&Z.next(Ie)))})}},4716:(Ct,me,P)=>{"use strict";P.d(me,{x:()=>f});var g=P(9360);function f(V){return(0,g.e)((U,Q)=>{try{U.subscribe(Q)}finally{Q.add(V)}})}},1374:(Ct,me,P)=>{"use strict";P.d(me,{P:()=>Z});var g=P(6973),f=P(2181),V=P(8180),U=P(3572),Q=P(3026),K=P(2737);function Z(ne,Ie){const se=arguments.length>=2;return W=>W.pipe(ne?(0,f.h)((fe,pe)=>ne(fe,pe,W)):K.y,(0,V.q)(1),se?(0,U.d)(Ie):(0,Q.T)(()=>new g.K))}},7398:(Ct,me,P)=>{"use strict";P.d(me,{U:()=>V});var g=P(9360),f=P(8251);function V(U,Q){return(0,g.e)((K,Z)=>{let ne=0;K.subscribe((0,f.x)(Z,Ie=>{Z.next(U.call(Q,Ie,ne++))}))})}},7537:(Ct,me,P)=>{"use strict";P.d(me,{J:()=>V});var g=P(1631),f=P(2737);function V(U=1/0){return(0,g.z)(f.y,U)}},1631:(Ct,me,P)=>{"use strict";P.d(me,{z:()=>ne});var g=P(7398),f=P(4829),V=P(9360),U=P(7103),Q=P(8251),Z=P(4674);function ne(Ie,se,W=1/0){return(0,Z.m)(se)?ne((fe,pe)=>(0,g.U)((De,Pe)=>se(fe,De,pe,Pe))((0,f.Xf)(Ie(fe,pe))),W):("number"==typeof se&&(W=se),(0,V.e)((fe,pe)=>function K(Ie,se,W,fe,pe,De,Pe,Qe){const ge=[];let Ae=0,je=0,ze=!1;const te=()=>{ze&&!ge.length&&!Ae&&se.complete()},ye=Le=>Ae<fe?Oe(Le):ge.push(Le),Oe=Le=>{De&&se.next(Le),Ae++;let ve=!1;(0,f.Xf)(W(Le,je++)).subscribe((0,Q.x)(se,ke=>{null==pe||pe(ke),De?ye(ke):se.next(ke)},()=>{ve=!0},void 0,()=>{if(ve)try{for(Ae--;ge.length&&Ae<fe;){const ke=ge.shift();Pe?(0,U.f)(se,Pe,()=>Oe(ke)):Oe(ke)}te()}catch(ke){se.error(ke)}}))};return Ie.subscribe((0,Q.x)(se,ye,()=>{ze=!0,te()})),()=>{null==Qe||Qe()}}(fe,pe,Ie,W)))}},3093:(Ct,me,P)=>{"use strict";P.d(me,{Q:()=>U});var g=P(7103),f=P(9360),V=P(8251);function U(Q,K=0){return(0,f.e)((Z,ne)=>{Z.subscribe((0,V.x)(ne,Ie=>(0,g.f)(ne,Q,()=>ne.next(Ie),K),()=>(0,g.f)(ne,Q,()=>ne.complete(),K),Ie=>(0,g.f)(ne,Q,()=>ne.error(Ie),K)))})}},6699:(Ct,me,P)=>{"use strict";P.d(me,{R:()=>U});var g=P(9360),f=P(8251);function U(Q,K){return(0,g.e)(function V(Q,K,Z,ne,Ie){return(se,W)=>{let fe=Z,pe=K,De=0;se.subscribe((0,f.x)(W,Pe=>{const Qe=De++;pe=fe?Q(pe,Pe,Qe):(fe=!0,Pe),ne&&W.next(pe)},Ie&&(()=>{fe&&W.next(pe),W.complete()})))}}(Q,K,arguments.length>=2,!0))}},3020:(Ct,me,P)=>{"use strict";P.d(me,{B:()=>Q});var g=P(4829),f=P(8645),V=P(305),U=P(9360);function Q(Z={}){const{connector:ne=(()=>new f.x),resetOnError:Ie=!0,resetOnComplete:se=!0,resetOnRefCountZero:W=!0}=Z;return fe=>{let pe,De,Pe,Qe=0,ge=!1,Ae=!1;const je=()=>{null==De||De.unsubscribe(),De=void 0},ze=()=>{je(),pe=Pe=void 0,ge=Ae=!1},te=()=>{const ye=pe;ze(),null==ye||ye.unsubscribe()};return(0,U.e)((ye,Oe)=>{Qe++,!Ae&&!ge&&je();const Le=Pe=null!=Pe?Pe:ne();Oe.add(()=>{Qe--,0===Qe&&!Ae&&!ge&&(De=K(te,W))}),Le.subscribe(Oe),!pe&&Qe>0&&(pe=new V.Hp({next:ve=>Le.next(ve),error:ve=>{Ae=!0,je(),De=K(ze,Ie,ve),Le.error(ve)},complete:()=>{ge=!0,je(),De=K(ze,se),Le.complete()}}),(0,g.Xf)(ye).subscribe(pe))})(fe)}}function K(Z,ne,...Ie){if(!0===ne)return void Z();if(!1===ne)return;const se=new V.Hp({next:()=>{se.unsubscribe(),Z()}});return(0,g.Xf)(ne(...Ie)).subscribe(se)}},7921:(Ct,me,P)=>{"use strict";P.d(me,{O:()=>U});var g=P(5211),f=P(9940),V=P(9360);function U(...Q){const K=(0,f.yG)(Q);return(0,V.e)((Z,ne)=>{(K?(0,g.z)(Q,Z,K):(0,g.z)(Q,Z)).subscribe(ne)})}},5137:(Ct,me,P)=>{"use strict";P.d(me,{R:()=>f});var g=P(9360);function f(V,U=0){return(0,g.e)((Q,K)=>{K.add(V.schedule(()=>Q.subscribe(K),U))})}},4664:(Ct,me,P)=>{"use strict";P.d(me,{w:()=>U});var g=P(4829),f=P(9360),V=P(8251);function U(Q,K){return(0,f.e)((Z,ne)=>{let Ie=null,se=0,W=!1;const fe=()=>W&&!Ie&&ne.complete();Z.subscribe((0,V.x)(ne,pe=>{null==Ie||Ie.unsubscribe();let De=0;const Pe=se++;(0,g.Xf)(Q(pe,Pe)).subscribe(Ie=(0,V.x)(ne,Qe=>ne.next(K?K(pe,Qe,Pe,De++):Qe),()=>{Ie=null,fe()}))},()=>{W=!0,fe()}))})}},8180:(Ct,me,P)=>{"use strict";P.d(me,{q:()=>U});var g=P(6232),f=P(9360),V=P(8251);function U(Q){return Q<=0?()=>g.E:(0,f.e)((K,Z)=>{let ne=0;K.subscribe((0,V.x)(Z,Ie=>{++ne<=Q&&(Z.next(Ie),Q<=ne&&Z.complete())}))})}},9773:(Ct,me,P)=>{"use strict";P.d(me,{R:()=>Q});var g=P(9360),f=P(8251),V=P(4829),U=P(2420);function Q(K){return(0,g.e)((Z,ne)=>{(0,V.Xf)(K).subscribe((0,f.x)(ne,()=>ne.complete(),U.Z)),!ne.closed&&Z.subscribe(ne)})}},9397:(Ct,me,P)=>{"use strict";P.d(me,{b:()=>Q});var g=P(4674),f=P(9360),V=P(8251),U=P(2737);function Q(K,Z,ne){const Ie=(0,g.m)(K)||Z||ne?{next:K,error:Z,complete:ne}:K;return Ie?(0,f.e)((se,W)=>{var fe;null===(fe=Ie.subscribe)||void 0===fe||fe.call(Ie);let pe=!0;se.subscribe((0,V.x)(W,De=>{var Pe;null===(Pe=Ie.next)||void 0===Pe||Pe.call(Ie,De),W.next(De)},()=>{var De;pe=!1,null===(De=Ie.complete)||void 0===De||De.call(Ie),W.complete()},De=>{var Pe;pe=!1,null===(Pe=Ie.error)||void 0===Pe||Pe.call(Ie,De),W.error(De)},()=>{var De,Pe;pe&&(null===(De=Ie.unsubscribe)||void 0===De||De.call(Ie)),null===(Pe=Ie.finalize)||void 0===Pe||Pe.call(Ie)}))}):U.y}},3026:(Ct,me,P)=>{"use strict";P.d(me,{T:()=>U});var g=P(6973),f=P(9360),V=P(8251);function U(K=Q){return(0,f.e)((Z,ne)=>{let Ie=!1;Z.subscribe((0,V.x)(ne,se=>{Ie=!0,ne.next(se)},()=>Ie?ne.complete():ne.error(K())))})}function Q(){return new g.K}},1954:(Ct,me,P)=>{"use strict";P.d(me,{o:()=>Q});var g=P(7394);class f extends g.w0{constructor(Z,ne){super()}schedule(Z,ne=0){return this}}const V={setInterval(K,Z,...ne){const{delegate:Ie}=V;return null!=Ie&&Ie.setInterval?Ie.setInterval(K,Z,...ne):setInterval(K,Z,...ne)},clearInterval(K){const{delegate:Z}=V;return((null==Z?void 0:Z.clearInterval)||clearInterval)(K)},delegate:void 0};var U=P(9039);class Q extends f{constructor(Z,ne){super(Z,ne),this.scheduler=Z,this.work=ne,this.pending=!1}schedule(Z,ne=0){var Ie;if(this.closed)return this;this.state=Z;const se=this.id,W=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(W,se,ne)),this.pending=!0,this.delay=ne,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(W,this.id,ne),this}requestAsyncId(Z,ne,Ie=0){return V.setInterval(Z.flush.bind(Z,this),Ie)}recycleAsyncId(Z,ne,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return ne;null!=ne&&V.clearInterval(ne)}execute(Z,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Z,ne);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,ne){let se,Ie=!1;try{this.work(Z)}catch(W){Ie=!0,se=W||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Z,scheduler:ne}=this,{actions:Ie}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,U.P)(Ie,this),null!=Z&&(this.id=this.recycleAsyncId(ne,Z,null)),this.delay=null,super.unsubscribe()}}}},2631:(Ct,me,P)=>{"use strict";P.d(me,{v:()=>V});var g=P(4552);class f{constructor(Q,K=f.now){this.schedulerActionCtor=Q,this.now=K}schedule(Q,K=0,Z){return new this.schedulerActionCtor(this,Q).schedule(Z,K)}}f.now=g.l.now;class V extends f{constructor(Q,K=f.now){super(Q,K),this.actions=[],this._active=!1}flush(Q){const{actions:K}=this;if(this._active)return void K.push(Q);let Z;this._active=!0;do{if(Z=Q.execute(Q.state,Q.delay))break}while(Q=K.shift());if(this._active=!1,Z){for(;Q=K.shift();)Q.unsubscribe();throw Z}}}},6321:(Ct,me,P)=>{"use strict";P.d(me,{P:()=>U,z:()=>V});var g=P(1954);const V=new(P(2631).v)(g.o),U=V},4552:(Ct,me,P)=>{"use strict";P.d(me,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Ct,me,P)=>{"use strict";P.d(me,{z:()=>g});const g={setTimeout(f,V,...U){const{delegate:Q}=g;return null!=Q&&Q.setTimeout?Q.setTimeout(f,V,...U):setTimeout(f,V,...U)},clearTimeout(f){const{delegate:V}=g;return((null==V?void 0:V.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4971:(Ct,me,P)=>{"use strict";P.d(me,{h:()=>f});const f=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ct,me,P)=>{"use strict";P.d(me,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ct,me,P)=>{"use strict";P.d(me,{K:()=>f});const f=(0,P(2306).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ct,me,P)=>{"use strict";P.d(me,{_6:()=>K,jO:()=>U,yG:()=>Q});var g=P(4674),f=P(671);function V(Z){return Z[Z.length-1]}function U(Z){return(0,g.m)(V(Z))?Z.pop():void 0}function Q(Z){return(0,f.K)(V(Z))?Z.pop():void 0}function K(Z,ne){return"number"==typeof V(Z)?Z.pop():ne}},7453:(Ct,me,P)=>{"use strict";P.d(me,{D:()=>Q});const{isArray:g}=Array,{getPrototypeOf:f,prototype:V,keys:U}=Object;function Q(Z){if(1===Z.length){const ne=Z[0];if(g(ne))return{args:ne,keys:null};if(function K(Z){return Z&&"object"==typeof Z&&f(Z)===V}(ne)){const Ie=U(ne);return{args:Ie.map(se=>ne[se]),keys:Ie}}}return{args:Z,keys:null}}},9039:(Ct,me,P)=>{"use strict";function g(f,V){if(f){const U=f.indexOf(V);0<=U&&f.splice(U,1)}}P.d(me,{P:()=>g})},2306:(Ct,me,P)=>{"use strict";function g(f){const U=f(Q=>{Error.call(Q),Q.stack=(new Error).stack});return U.prototype=Object.create(Error.prototype),U.prototype.constructor=U,U}P.d(me,{d:()=>g})},2714:(Ct,me,P)=>{"use strict";function g(f,V){return f.reduce((U,Q,K)=>(U[Q]=V[K],U),{})}P.d(me,{n:()=>g})},1441:(Ct,me,P)=>{"use strict";P.d(me,{O:()=>U,x:()=>V});var g=P(2653);let f=null;function V(Q){if(g.config.useDeprecatedSynchronousErrorHandling){const K=!f;if(K&&(f={errorThrown:!1,error:null}),Q(),K){const{errorThrown:Z,error:ne}=f;if(f=null,Z)throw ne}}else Q()}function U(Q){g.config.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=Q)}},7103:(Ct,me,P)=>{"use strict";function g(f,V,U,Q=0,K=!1){const Z=V.schedule(function(){U(),K?f.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(f.add(Z),!K)return Z}P.d(me,{f:()=>g})},2737:(Ct,me,P)=>{"use strict";function g(f){return f}P.d(me,{y:()=>g})},4266:(Ct,me,P)=>{"use strict";P.d(me,{z:()=>g});const g=f=>f&&"number"==typeof f.length&&"function"!=typeof f},5726:(Ct,me,P)=>{"use strict";P.d(me,{D:()=>f});var g=P(4674);function f(V){return Symbol.asyncIterator&&(0,g.m)(null==V?void 0:V[Symbol.asyncIterator])}},4674:(Ct,me,P)=>{"use strict";function g(f){return"function"==typeof f}P.d(me,{m:()=>g})},8382:(Ct,me,P)=>{"use strict";P.d(me,{c:()=>V});var g=P(4850),f=P(4674);function V(U){return(0,f.m)(U[g.L])}},3664:(Ct,me,P)=>{"use strict";P.d(me,{T:()=>V});var g=P(4971),f=P(4674);function V(U){return(0,f.m)(null==U?void 0:U[g.h])}},4026:(Ct,me,P)=>{"use strict";P.d(me,{t:()=>f});var g=P(4674);function f(V){return(0,g.m)(null==V?void 0:V.then)}},541:(Ct,me,P)=>{"use strict";P.d(me,{L:()=>U,Q:()=>V});var g=P(7582),f=P(4674);function V(Q){return(0,g.FC)(this,arguments,function*(){const Z=Q.getReader();try{for(;;){const{value:ne,done:Ie}=yield(0,g.qq)(Z.read());if(Ie)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ne)}}finally{Z.releaseLock()}})}function U(Q){return(0,f.m)(null==Q?void 0:Q.getReader)}},671:(Ct,me,P)=>{"use strict";P.d(me,{K:()=>f});var g=P(4674);function f(V){return V&&(0,g.m)(V.schedule)}},9360:(Ct,me,P)=>{"use strict";P.d(me,{A:()=>f,e:()=>V});var g=P(4674);function f(U){return(0,g.m)(null==U?void 0:U.lift)}function V(U){return Q=>{if(f(Q))return Q.lift(function(K){try{return U(K,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ct,me,P)=>{"use strict";P.d(me,{Z:()=>U});var g=P(7398);const{isArray:f}=Array;function U(Q){return(0,g.U)(K=>function V(Q,K){return f(K)?Q(...K):Q(K)}(Q,K))}},2420:(Ct,me,P)=>{"use strict";function g(){}P.d(me,{Z:()=>g})},8407:(Ct,me,P)=>{"use strict";P.d(me,{U:()=>V,z:()=>f});var g=P(2737);function f(...U){return V(U)}function V(U){return 0===U.length?g.y:1===U.length?U[0]:function(K){return U.reduce((Z,ne)=>ne(Z),K)}}},3894:(Ct,me,P)=>{"use strict";P.d(me,{h:()=>V});var g=P(2653),f=P(7599);function V(U){f.z.setTimeout(()=>{const{onUnhandledError:Q}=g.config;if(!Q)throw U;Q(U)})}},9853:(Ct,me,P)=>{"use strict";function g(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(me,{z:()=>g})},863:(Ct,me,P)=>{var g={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9643,433],"./ion-datetime_3.entry.js":[7059,9643,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function f(V){if(!P.o(g,V))return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+V+"'");throw K.code="MODULE_NOT_FOUND",K});var U=g[V],Q=U[0];return Promise.all(U.slice(1).map(P.e)).then(()=>P(Q))}f.keys=()=>Object.keys(g),f.id=863,Ct.exports=f},6825:(Ct,me,P)=>{"use strict";P.d(me,{LC:()=>f,SB:()=>Ie,X$:()=>U,ZE:()=>Ae,ZN:()=>ge,_j:()=>g,eR:()=>W,jt:()=>Q,k1:()=>je,l3:()=>V,oB:()=>ne,vP:()=>Z});class g{}class f{}const V="*";function U(ze,te){return{type:7,name:ze,definitions:te,options:{}}}function Q(ze,te=null){return{type:4,styles:te,timings:ze}}function Z(ze,te=null){return{type:2,steps:ze,options:te}}function ne(ze){return{type:6,styles:ze,offset:null}}function Ie(ze,te,ye){return{type:0,name:ze,styles:te,options:ye}}function W(ze,te,ye=null){return{type:1,expr:ze,animation:te,options:ye}}class ge{constructor(te=0,ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=te+ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(te=>te()),this._onDoneFns=[])}onStart(te){this._originalOnStartFns.push(te),this._onStartFns.push(te)}onDone(te){this._originalOnDoneFns.push(te),this._onDoneFns.push(te)}onDestroy(te){this._onDestroyFns.push(te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(te=>te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(te=>te()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(te){this._position=this.totalTime?te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(te){const ye="start"==te?this._onStartFns:this._onDoneFns;ye.forEach(Oe=>Oe()),ye.length=0}}class Ae{constructor(te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=te;let ye=0,Oe=0,Le=0;const ve=this.players.length;0==ve?queueMicrotask(()=>this._onFinish()):this.players.forEach(ke=>{ke.onDone(()=>{++ye==ve&&this._onFinish()}),ke.onDestroy(()=>{++Oe==ve&&this._onDestroy()}),ke.onStart(()=>{++Le==ve&&this._onStart()})}),this.totalTime=this.players.reduce((ke,Me)=>Math.max(ke,Me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(te=>te()),this._onDoneFns=[])}init(){this.players.forEach(te=>te.init())}onStart(te){this._onStartFns.push(te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(te=>te()),this._onStartFns=[])}onDone(te){this._onDoneFns.push(te)}onDestroy(te){this._onDestroyFns.push(te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(te=>te.play())}pause(){this.players.forEach(te=>te.pause())}restart(){this.players.forEach(te=>te.restart())}finish(){this._onFinish(),this.players.forEach(te=>te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(te=>te.destroy()),this._onDestroyFns.forEach(te=>te()),this._onDestroyFns=[])}reset(){this.players.forEach(te=>te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(te){const ye=te*this.totalTime;this.players.forEach(Oe=>{const Le=Oe.totalTime?Math.min(1,ye/Oe.totalTime):1;Oe.setPosition(Le)})}getPosition(){const te=this.players.reduce((ye,Oe)=>null===ye||Oe.totalTime>ye.totalTime?Oe:ye,null);return null!=te?te.getPosition():0}beforeDestroy(){this.players.forEach(te=>{te.beforeDestroy&&te.beforeDestroy()})}triggerCallback(te){const ye="start"==te?this._onStartFns:this._onDoneFns;ye.forEach(Oe=>Oe()),ye.length=0}}const je="!"},6814:(Ct,me,P)=>{"use strict";P.d(me,{Do:()=>Qe,EM:()=>_r,HT:()=>U,JF:()=>Ws,K0:()=>K,Mx:()=>Xr,NF:()=>Gi,O5:()=>Oi,PM:()=>Qi,S$:()=>pe,V_:()=>ne,Ye:()=>ge,b0:()=>Pe,bD:()=>Yr,ez:()=>zi,q:()=>V,sg:()=>yi,tP:()=>At,w_:()=>Q});var g=P(5879);let f=null;function V(){return f}function U(R){f||(f=R)}class Q{}const K=new g.OlP("DocumentToken");let Z=(()=>{var R;class j{historyGo($){throw new Error("Not implemented")}}return(R=j).\u0275fac=function($){return new($||R)},R.\u0275prov=g.Yz7({token:R,factory:function(){return(0,g.f3M)(Ie)},providedIn:"platform"}),j})();const ne=new g.OlP("Location Initialized");let Ie=(()=>{var R;class j extends Z{constructor(){super(),this._doc=(0,g.f3M)(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState($){const _e=V().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("popstate",$,!1),()=>_e.removeEventListener("popstate",$)}onHashChange($){const _e=V().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("hashchange",$,!1),()=>_e.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,_e,Be){this._history.pushState($,_e,Be)}replaceState($,_e,Be){this._history.replaceState($,_e,Be)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(R=j).\u0275fac=function($){return new($||R)},R.\u0275prov=g.Yz7({token:R,factory:function(){return new R},providedIn:"platform"}),j})();function se(R,j){if(0==R.length)return j;if(0==j.length)return R;let Ne=0;return R.endsWith("/")&&Ne++,j.startsWith("/")&&Ne++,2==Ne?R+j.substring(1):1==Ne?R+j:R+"/"+j}function W(R){const j=R.match(/#|\?|$/),Ne=j&&j.index||R.length;return R.slice(0,Ne-("/"===R[Ne-1]?1:0))+R.slice(Ne)}function fe(R){return R&&"?"!==R[0]?"?"+R:R}let pe=(()=>{var R;class j{historyGo($){throw new Error("Not implemented")}}return(R=j).\u0275fac=function($){return new($||R)},R.\u0275prov=g.Yz7({token:R,factory:function(){return(0,g.f3M)(Pe)},providedIn:"root"}),j})();const De=new g.OlP("appBaseHref");let Pe=(()=>{var R;class j extends pe{constructor($,_e){var Be,St,Ht;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(Be=null!==(St=null!=_e?_e:this._platformLocation.getBaseHrefFromDOM())&&void 0!==St?St:null===(Ht=(0,g.f3M)(K).location)||void 0===Ht?void 0:Ht.origin)&&void 0!==Be?Be:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return se(this._baseHref,$)}path($=!1){const _e=this._platformLocation.pathname+fe(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&$?`${_e}${Be}`:_e}pushState($,_e,Be,St){const Ht=this.prepareExternalUrl(Be+fe(St));this._platformLocation.pushState($,_e,Ht)}replaceState($,_e,Be,St){const Ht=this.prepareExternalUrl(Be+fe(St));this._platformLocation.replaceState($,_e,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var _e,Be;null===(_e=(Be=this._platformLocation).historyGo)||void 0===_e||_e.call(Be,$)}}return(R=j).\u0275fac=function($){return new($||R)(g.LFG(Z),g.LFG(De,8))},R.\u0275prov=g.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),j})(),Qe=(()=>{var R;class j extends pe{constructor($,_e){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=_e&&(this._baseHref=_e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let _e=this._platformLocation.hash;return null==_e&&(_e="#"),_e.length>0?_e.substring(1):_e}prepareExternalUrl($){const _e=se(this._baseHref,$);return _e.length>0?"#"+_e:_e}pushState($,_e,Be,St){let Ht=this.prepareExternalUrl(Be+fe(St));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState($,_e,Ht)}replaceState($,_e,Be,St){let Ht=this.prepareExternalUrl(Be+fe(St));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState($,_e,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var _e,Be;null===(_e=(Be=this._platformLocation).historyGo)||void 0===_e||_e.call(Be,$)}}return(R=j).\u0275fac=function($){return new($||R)(g.LFG(Z),g.LFG(De,8))},R.\u0275prov=g.Yz7({token:R,factory:R.\u0275fac}),j})(),ge=(()=>{var R;class j{constructor($){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const _e=this._locationStrategy.getBaseHref();this._basePath=function te(R){if(new RegExp("^(https?:)?//").test(R)){const[,Ne]=R.split(/\/\/[^\/]+/);return Ne}return R}(W(ze(_e))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,_e=""){return this.path()==this.normalize($+fe(_e))}normalize($){return j.stripTrailingSlash(function je(R,j){if(!R||!j.startsWith(R))return j;const Ne=j.substring(R.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:j}(this._basePath,ze($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,_e="",Be=null){this._locationStrategy.pushState(Be,"",$,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl($+fe(_e)),Be)}replaceState($,_e="",Be=null){this._locationStrategy.replaceState(Be,"",$,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl($+fe(_e)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var _e,Be;null===(_e=(Be=this._locationStrategy).historyGo)||void 0===_e||_e.call(Be,$)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_e=>{this._notifyUrlChangeListeners(_e.url,_e.state)})),()=>{const _e=this._urlChangeListeners.indexOf($);var Be;this._urlChangeListeners.splice(_e,1),0===this._urlChangeListeners.length&&(null===(Be=this._urlChangeSubscription)||void 0===Be||Be.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",_e){this._urlChangeListeners.forEach(Be=>Be($,_e))}subscribe($,_e,Be){return this._subject.subscribe({next:$,error:_e,complete:Be})}}return(R=j).normalizeQueryParams=fe,R.joinWithSlash=se,R.stripTrailingSlash=W,R.\u0275fac=function($){return new($||R)(g.LFG(pe))},R.\u0275prov=g.Yz7({token:R,factory:function(){return function Ae(){return new ge((0,g.LFG)(pe))}()},providedIn:"root"}),j})();function ze(R){return R.replace(/\/index.html$/,"")}function Xr(R,j){j=encodeURIComponent(j);for(const Ne of R.split(";")){const $=Ne.indexOf("="),[_e,Be]=-1==$?[Ne,""]:[Ne.slice(0,$),Ne.slice($+1)];if(_e.trim()===j)return decodeURIComponent(Be)}return null}class Zi{constructor(j,Ne,$,_e){this.$implicit=j,this.ngForOf=Ne,this.index=$,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{var R;class j{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,_e,Be){this._viewContainer=$,this._template=_e,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const _e=this._viewContainer;$.forEachOperation((Be,St,Ht)=>{if(null==Be.previousIndex)_e.createEmbeddedView(this._template,new Zi(Be.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)_e.remove(null===St?void 0:St);else if(null!==St){const En=_e.get(St);_e.move(En,Ht),ai(En,Be)}});for(let Be=0,St=_e.length;Be<St;Be++){const En=_e.get(Be).context;En.index=Be,En.count=St,En.ngForOf=this._ngForOf}$.forEachIdentityChange(Be=>{ai(_e.get(Be.currentIndex),Be)})}static ngTemplateContextGuard($,_e){return!0}}return(R=j).\u0275fac=function($){return new($||R)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},R.\u0275dir=g.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function ai(R,j){R.context.$implicit=j.item}let Oi=(()=>{var R;class j{constructor($,_e){this._viewContainer=$,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_e}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ys("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ys("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,_e){return!0}}return(R=j).\u0275fac=function($){return new($||R)(g.Y36(g.s_b),g.Y36(g.Rgc))},R.\u0275dir=g.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function ys(R,j){if(j&&!j.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,g.AaK)(j)}'.`)}let At=(()=>{var R;class j{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const _e=this._viewContainerRef;if(this._viewRef&&_e.remove(_e.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:St,ngTemplateOutletInjector:Ht}=this;this._viewRef=_e.createEmbeddedView(Be,St,Ht?{injector:Ht}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(R=j).\u0275fac=function($){return new($||R)(g.Y36(g.s_b))},R.\u0275dir=g.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),j})(),zi=(()=>{var R;class j{}return(R=j).\u0275fac=function($){return new($||R)},R.\u0275mod=g.oAB({type:R}),R.\u0275inj=g.cJS({}),j})();const Yr="browser",is="server";function Gi(R){return R===Yr}function Qi(R){return R===is}let _r=(()=>{var R;class j{}return(R=j).\u0275prov=(0,g.Yz7)({token:R,providedIn:"root",factory:()=>new ss((0,g.LFG)(K),window)}),j})();class ss{constructor(j,Ne){this.document=j,this.window=Ne,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const Ne=function Ds(R,j){const Ne=R.getElementById(j)||R.getElementsByName(j)[0];if(Ne)return Ne;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const $=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let _e=$.currentNode;for(;_e;){const Be=_e.shadowRoot;if(Be){const St=Be.getElementById(j)||Be.querySelector(`[name="${j}"]`);if(St)return St}_e=$.nextNode()}}return null}(this.document,j);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const Ne=j.getBoundingClientRect(),$=Ne.left+this.window.pageXOffset,_e=Ne.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo($-Be[0],_e-Be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ws{}},5879:(Ct,me,P)=>{"use strict";P.d(me,{$8M:()=>ms,$WT:()=>rs,$Z:()=>np,AFp:()=>jf,AaK:()=>pe,AsE:()=>Gm,CHM:()=>nn,CRH:()=>eD,EJc:()=>EA,EiD:()=>uh,EpF:()=>ec,F$t:()=>Vm,F4k:()=>Fm,FYo:()=>Ch,FiY:()=>lc,G48:()=>nC,Gf:()=>XI,GfV:()=>B_,GkF:()=>Bv,Gpc:()=>Qe,HDt:()=>DD,Hsn:()=>Gv,JOm:()=>Ku,JVY:()=>ah,JZr:()=>te,KtG:()=>Xs,L6k:()=>y_,LAX:()=>rg,LFG:()=>Zt,LMc:()=>OC,Lbi:()=>cd,Lck:()=>nT,MMx:()=>bI,NdJ:()=>Lm,Ojb:()=>Dg,OlP:()=>Qr,Oqu:()=>nc,P3R:()=>dg,PXZ:()=>qA,Q6J:()=>Tp,QGY:()=>km,QbO:()=>x_,Qsj:()=>bh,R0b:()=>eo,RDi:()=>Fy,Rgc:()=>n_,SBq:()=>Ah,Sil:()=>wA,Suo:()=>JI,TTD:()=>la,TgZ:()=>Jh,Tol:()=>Pp,VuI:()=>PC,X6Q:()=>tC,XFs:()=>tn,Xpm:()=>an,Xq5:()=>gp,Xts:()=>Il,Y36:()=>Vc,YKP:()=>AI,YNc:()=>kv,Yjl:()=>hs,Yz7:()=>It,Z0I:()=>fn,ZZ4:()=>SE,_Bn:()=>TI,_UZ:()=>tf,_Vd:()=>Th,_c5:()=>vC,_uU:()=>Np,aQg:()=>RE,c2e:()=>ID,cJS:()=>Xt,cg1:()=>nr,dDg:()=>HA,dqk:()=>Xn,eBb:()=>ng,eFA:()=>OD,eJc:()=>hE,ekj:()=>xd,eoX:()=>SD,f3M:()=>pn,g9A:()=>ph,h0i:()=>af,hGG:()=>yC,iGM:()=>QI,ifc:()=>gn,ip1:()=>ED,jDz:()=>SI,kL8:()=>Pi,lG2:()=>ci,lqb:()=>Ya,lri:()=>CD,mCW:()=>Mc,n5z:()=>xl,oAB:()=>xi,oxw:()=>Hv,pB0:()=>E_,q3G:()=>El,q4F:()=>$_,qFp:()=>xC,qLn:()=>Eu,qOj:()=>Cd,qZA:()=>ef,qzn:()=>Oa,rWj:()=>bD,rg0:()=>$a,sBO:()=>rC,s_b:()=>Cy,soG:()=>Sy,tb:()=>DE,tp0:()=>cc,uIk:()=>bm,vHH:()=>ye,vpe:()=>xa,wAp:()=>wo,xp6:()=>ev,z2F:()=>$p,z3N:()=>$o,zSh:()=>Eg,zs3:()=>va});var se,g=P(8645),f=P(7394),V=P(5592),U=P(3019),Q=P(5619),K=P(2096),Z=P(3020),ne=P(4664),Ie=P(3997);function W(t){for(let r in t)if(t[r]===W)return r;throw Error("Could not find renamed property on target object.")}function fe(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function De(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Pe=W({__forward_ref__:W});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return pe(this())},t}function ge(t){return Ae(t)?t():t}function Ae(t){return"function"==typeof t&&t.hasOwnProperty(Pe)&&t.__forward_ref__===Qe}function je(t){return t&&!!t.\u0275providers}const te="https://g.co/ng/security#xss";class ye extends Error{constructor(r,o){super(function Oe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function qe(t,r){throw new ye(-201,!1)}function Ut(t,r){null==t&&function it(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function dn(t){return qt(t,Qn)||qt(t,fr)}function fn(t){return null!==dn(t)}function qt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Tt(t){return t&&(t.hasOwnProperty(hr)||t.hasOwnProperty($r))?t[hr]:null}const Qn=W({\u0275prov:W}),hr=W({\u0275inj:W}),fr=W({ngInjectableDef:W}),$r=W({ngInjectorDef:W});var tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(tn||{});let Fn;function cr(t){const r=Fn;return Fn=t,r}function Hn(t,r,o){const a=dn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&tn.Optional?null:void 0!==r?r:void qe(pe(t))}const Xn=globalThis,gi={},vi="__NG_DI_FLAG__",Lr="ngTempTokenPath",ie=/\n/gm,Fe="__source";let ue;function gt(t){const r=ue;return ue=t,r}function Vt(t,r=tn.Default){if(void 0===ue)throw new ye(-203,!1);return null===ue?Hn(t,void 0,r):ue.get(t,r&tn.Optional?null:void 0,r)}function Zt(t,r=tn.Default){return(function Gr(){return Fn}()||Vt)(ge(t),r)}function pn(t,r=tn.Default){return Zt(t,on(r))}function on(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vn(t){const r=[];for(let o=0;o<t.length;o++){const a=ge(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ye(900,!1);let c,m=tn.Default;for(let y=0;y<a.length;y++){const b=a[y],x=Li(b);"number"==typeof x?-1===x?c=b.token:m|=x:c=b}r.push(Zt(c,m))}else r.push(Zt(a))}return r}function Vr(t,r){return t[vi]=r,t.prototype[vi]=r,t}function Li(t){return t[vi]}function at(t){return{toString:t}.toString()}var Nt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Nt||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{});const Pn={},rn=[],Wn=W({\u0275cmp:W}),wr=W({\u0275dir:W}),Pr=W({\u0275pipe:W}),oi=W({\u0275mod:W}),Xr=W({\u0275fac:W}),or=W({__NG_ELEMENT_ID__:W}),Jn=W({__NG_ENV_ID__:W});function ns(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const m=r.length;if(c+m===a||t.charCodeAt(c+m)<=32)return c}o=c+1}}function Fs(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const m=o[a++],y=o[a++],b=o[a++];t.setAttribute(r,y,b,m)}else{const m=c,y=o[++a];Zi(m)?t.setProperty(r,m,y):t.setAttribute(r,m,y),a++}}return a}function xr(t){return 3===t||4===t||6===t}function Zi(t){return 64===t.charCodeAt(0)}function yi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||ai(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function ai(t,r,o,a,c){let m=0,y=t.length;if(-1===r)y=-1;else for(;m<t.length;){const b=t[m++];if("number"==typeof b){if(b===r){y=-1;break}if(b>r){y=m-1;break}}}for(;m<t.length;){const b=t[m];if("number"==typeof b)break;if(b===o){if(null===a)return void(null!==c&&(t[m+1]=c));if(a===t[m+1])return void(t[m+2]=c)}m++,null!==a&&m++,null!==c&&m++}-1!==y&&(t.splice(y,0,r),m=y+1),t.splice(m++,0,o),null!==a&&t.splice(m++,0,a),null!==c&&t.splice(m++,0,c)}const ds="ng-template";function Oi(t,r,o){let a=0,c=!0;for(;a<t.length;){let m=t[a++];if("string"==typeof m&&c){const y=t[a++];if(o&&"class"===m&&-1!==ns(y.toLowerCase(),r,0))return!0}else{if(1===m){for(;a<t.length&&"string"==typeof(m=t[a++]);)if(m.toLowerCase()===r)return!0;return!1}"number"==typeof m&&(c=!1)}}return!1}function Vi(t){return 4===t.type&&t.value!==ds}function ys(t,r,o){return r===(4!==t.type||o?t.value:ds)}function ji(t,r,o){let a=4;const c=t.attrs||[],m=function Ve(t){for(let r=0;r<t.length;r++)if(xr(t[r]))return r;return t.length}(c);let y=!1;for(let b=0;b<r.length;b++){const x=r[b];if("number"!=typeof x){if(!y)if(4&a){if(a=2|1&a,""!==x&&!ys(t,x,o)||""===x&&1===r.length){if(qr(a))return!1;y=!0}}else{const H=8&a?x:r[++b];if(8&a&&null!==t.attrs){if(!Oi(t.attrs,H,o)){if(qr(a))return!1;y=!0}continue}const Ee=de(8&a?"class":x,c,Vi(t),o);if(-1===Ee){if(qr(a))return!1;y=!0;continue}if(""!==H){let Ke;Ke=Ee>m?"":c[Ee+1].toLowerCase();const ot=8&a?Ke:null;if(ot&&-1!==ns(ot,H,0)||2&a&&H!==Ke){if(qr(a))return!1;y=!0}}}}else{if(!y&&!qr(a)&&!qr(x))return!1;if(y&&qr(x))continue;y=!1,a=x|1&a}}return qr(a)||y}function qr(t){return 0==(1&t)}function de(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let m=!1;for(;c<r.length;){const y=r[c];if(y===t)return c;if(3===y||6===y)m=!0;else{if(1===y||2===y){let b=r[++c];for(;"string"==typeof b;)b=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=m?1:2}return-1}return function pt(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function X(t,r,o=!1){for(let a=0;a<r.length;a++)if(ji(t,r[a],o))return!0;return!1}function lt(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function At(t,r){return t?":not("+r.trim()+")":r}function Pt(t){let r=t[0],o=1,a=2,c="",m=!1;for(;o<t.length;){let y=t[o];if("string"==typeof y)if(2&a){const b=t[++o];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!qr(y)&&(r+=At(m,c),c=""),a=y,m=m||!qr(a);o++}return""!==c&&(r+=At(m,c)),r}function an(t){return at(()=>{var r;const o=Es(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""};to(a);const c=t.dependencies;return a.directiveDefs=zs(c,!1),a.pipeDefs=zs(c,!0),a.id=function no(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function Mn(t){return zn(t)||Er(t)}function Tr(t){return null!==t}function xi(t){return at(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ni(t,r){if(null==t)return Pn;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],m=c;Array.isArray(c)&&(m=c[1],c=c[0]),o[c]=a,r&&(r[c]=m)}return o}function ci(t){return at(()=>{const r=Es(t);return to(r),r})}function hs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function zn(t){return t[Wn]||null}function Er(t){return t[wr]||null}function mi(t){return t[Pr]||null}function rs(t){const r=zn(t)||Er(t)||mi(t);return null!==r&&r.standalone}function ki(t,r){const o=t[oi]||null;if(!o&&!0===r)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return o}function Es(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Pn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ni(t.inputs,r),outputs:Ni(t.outputs)}}function to(t){var r;null===(r=t.features)||void 0===r||r.forEach(o=>o(t))}function zs(t,r){if(!t)return null;const o=r?mi:Mn;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Tr)}const ui=0,en=1,qn=2,Ir=3,Bi=4,Hi=5,Jr=6,zi=7,Yr=8,is=9,Ji=10,Zn=11,Gi=12,Qi=13,Ei=14,br=15,Is=16,_r=17,ss=18,Ds=19,fs=20,Ws=21,Ms=22,os=23,ra=24,er=25,Wi=1,rr=2,qi=7,ro=9,Fi=11;function ei(t){return Array.isArray(t)&&"object"==typeof t[Wi]}function Yi(t){return Array.isArray(t)&&!0===t[Wi]}function xo(t){return 0!=(4&t.flags)}function as(t){return t.componentOffset>-1}function Ci(t){return 1==(1&t.flags)}function ls(t){return!!t.template}function No(t){return 0!=(512&t[qn])}function _o(t,r){return t.hasOwnProperty(Xr)?t[Xr]:null}let Fo=null!==(se=Xn.WeakRef)&&void 0!==se?se:class ko{constructor(r){this.ref=r}deref(){return this.ref}},Ao=0,Qs=null,ho=!1;function es(t){const r=Qs;return Qs=t,r}class oa{constructor(){this.id=Ao++,this.ref=function ia(t){return new Fo(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const a=o.producerNode.deref();if(null!=a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=ho;ho=!0;try{for(const[o,a]of this.consumers){const c=a.consumerNode.deref();null!=c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==c||c.producers.delete(this.id))}}finally{ho=r}}producerAccessed(){if(ho)throw new Error("");if(null===Qs)return;let r=Qs.producers.get(this.id);void 0===r?(r={consumerNode:Qs.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Qs.trackingVersion},Qs.producers.set(this.id,r),this.consumers.set(Qs.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Qs.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Qs)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let Da=null;function $a(t){const r=es(null);try{return t()}finally{es(r)}}const Ua=()=>{};class $s extends oa{constructor(r,o,a){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=Ua,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=es(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ua,this.watch(this.registerOnCleanup)}finally{es(r)}}cleanup(){this.cleanupFn()}}class rc{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function la(){return Xo}function Xo(t){return t.type.prototype.ngOnChanges&&(t.setInput=fo),ca}function ca(){const t=j(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Pn)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function fo(t,r,o,a){const c=this.declaredInputs[o],m=j(t)||function Ne(t,r){return t[R]=r}(t,{previous:Pn,current:null}),y=m.current||(m.current={}),b=m.previous,x=b[c];y[c]=new rc(x&&x.currentValue,r,b===Pn),t[a]=r}la.ngInherit=!0;const R="__ngSimpleChanges__";function j(t){return t[R]||null}const Be=function(t,r,o){};function En(t){for(;Array.isArray(t);)t=t[ui];return t}function tr(t,r){return En(r[t])}function Dn(t,r){return En(r[t.index])}function Hr(t,r){return t.data[r]}function L(t,r){const o=r[t];return ei(o)?o:o[ui]}function q(t,r){return null==r?null:t[r]}function ae(t){t[_r]=0}function Se(t){1024&t[qn]||(t[qn]|=1024,nt(t,1))}function He(t){1024&t[qn]&&(t[qn]&=-1025,nt(t,-1))}function nt(t,r){let o=t[Ir];if(null===o)return;o[Hi]+=r;let a=o;for(o=o[Ir];null!==o&&(1===r&&1===a[Hi]||-1===r&&0===a[Hi]);)o[Hi]+=r,a=o,o=o[Ir]}const wt={lFrame:Rl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ir(){return wt.bindingsEnabled}function Nr(){return null!==wt.skipHydrationRootTNode}function Rt(){return wt.lFrame.lView}function xt(){return wt.lFrame.tView}function nn(t){return wt.lFrame.contextLView=t,t[Yr]}function Xs(t){return wt.lFrame.contextLView=null,t}function zt(){let t=mt();for(;null!==t&&64===t.type;)t=t.parent;return t}function mt(){return wt.lFrame.currentTNode}function lr(t,r){const o=wt.lFrame;o.currentTNode=t,o.isParent=r}function wn(){return wt.lFrame.isParent}function Rn(){wt.lFrame.isParent=!1}function Sr(){return wt.lFrame.bindingIndex++}function Ts(t){const r=wt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function po(t,r){const o=wt.lFrame;o.bindingIndex=o.bindingRootIndex=t,hi(r)}function hi(t){wt.lFrame.currentDirectiveIndex=t}function ua(){return wt.lFrame.currentQueryIndex}function zr(t){wt.lFrame.currentQueryIndex=t}function Pu(t){const r=t[en];return 2===r.type?r.declTNode:1===r.type?t[Jr]:null}function $i(t,r,o){if(o&tn.SkipSelf){let c=r,m=t;for(;!(c=c.parent,null!==c||o&tn.Host||(c=Pu(m),null===c||(m=m[Ei],10&c.type))););if(null===c)return!1;r=c,t=m}const a=wt.lFrame=sl();return a.currentTNode=r,a.lView=t,!0}function hn(t){const r=sl(),o=t[en];wt.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function sl(){const t=wt.lFrame,r=null===t?null:t.child;return null===r?Rl(t):r}function Rl(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function C(){const t=wt.lFrame;return wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const O=C;function k(){const t=C();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oe(){return wt.lFrame.selectedIndex}function Ce(t){wt.lFrame.selectedIndex=t}function Je(){const t=wt.lFrame;return Hr(t.tView,t.selectedIndex)}let ct=!0;function kr(){return ct}function Kr(t){ct=t}function bo(t,r){for(let H=r.directiveStart,ee=r.directiveEnd;H<ee;H++){const Ke=t.data[H].type.prototype,{ngAfterContentInit:ot,ngAfterContentChecked:Ot,ngAfterViewInit:Kt,ngAfterViewChecked:_n,ngOnDestroy:jn}=Ke;var o,a,c,m,y,b,x;ot&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-H,ot),Ot&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(H,Ot),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(H,Ot)),Kt&&(null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(-H,Kt),_n&&((null!==(y=t.viewHooks)&&void 0!==y?y:t.viewHooks=[]).push(H,_n),(null!==(b=t.viewCheckHooks)&&void 0!==b?b:t.viewCheckHooks=[]).push(H,_n)),null!=jn&&(null!==(x=t.destroyHooks)&&void 0!==x?x:t.destroyHooks=[]).push(H,jn)}}function oo(t,r,o){ol(t,r,3,o)}function Ca(t,r,o,a){(3&t[qn])===o&&ol(t,r,o,a)}function So(t,r){let o=t[qn];(3&o)===r&&(o&=8191,o+=1,t[qn]=o)}function ol(t,r,o,a){const m=null!=a?a:-1,y=r.length-1;let b=0;for(let x=void 0!==a?65535&t[_r]:0;x<y;x++)if("number"==typeof r[x+1]){if(b=r[x],null!=a&&b>=a)break}else r[x]<0&&(t[_r]+=65536),(b<m||-1==m)&&(jp(t,o,r,x),t[_r]=(4294901760&t[_r])+x+2),x++}function Mu(t,r){Be(4,t,r);const o=es(null);try{r.call(t)}finally{es(o),Be(5,t,r)}}function jp(t,r,o,a){const c=o[a]<0,m=o[a+1],b=t[c?-o[a]:o[a]];c?t[qn]>>13<t[_r]>>16&&(3&t[qn])===r&&(t[qn]+=8192,Mu(b,m)):Mu(b,m)}const al=-1;class ao{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function ll(t){return t!==al}function ba(t){return 32767&t}function Ol(t,r){let o=function Ml(t){return t>>16}(t),a=r;for(;o>0;)a=a[Ei],o--;return a}let Bd=!0;function xu(t){const r=Bd;return Bd=t,r}const Nu=255,$d=5;let zp=0;const Sa={};function ku(t,r){const o=cf(t,r);if(-1!==o)return o;const a=r[en];a.firstCreatePass&&(t.injectorIndex=r.length,Kc(a.data,t),Kc(r,null),Kc(a.blueprint,null));const c=sc(t,r),m=t.injectorIndex;if(ll(c)){const y=ba(c),b=Ol(c,r),x=b[en].data;for(let H=0;H<8;H++)r[m+H]=b[y+H]|x[y+H]}return r[m+8]=c,m}function Kc(t,r){t.push(0,0,0,0,0,0,0,0,r)}function cf(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function sc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=ff(c),null===a)return al;if(o++,c=c[Ei],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return al}function Zc(t,r,o){!function Ud(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(or)&&(a=o[or]),null==a&&(a=o[or]=zp++);const c=a&Nu;r.data[t+(c>>$d)]|=1<<c}(t,r,o)}function oc(t,r,o){if(o&tn.Optional||void 0!==t)return t;qe()}function jd(t,r,o,a){if(o&tn.Optional&&void 0===a&&(a=null),!(o&(tn.Self|tn.Host))){const c=t[is],m=cr(void 0);try{return c?c.get(r,a,o&tn.Optional):Hn(r,a,o&tn.Optional)}finally{cr(m)}}return oc(a,0,o)}function Hd(t,r,o,a=tn.Default,c){if(null!==t){if(2048&r[qn]&&!(a&tn.Self)){const y=function hf(t,r,o,a,c){let m=t,y=r;for(;null!==m&&null!==y&&2048&y[qn]&&!(512&y[qn]);){const b=Fu(m,y,o,a|tn.Self,Sa);if(b!==Sa)return b;let x=m.parent;if(!x){const H=y[fs];if(H){const ee=H.get(o,Sa,a);if(ee!==Sa)return ee}x=ff(y),y=y[Ei]}m=x}return c}(t,r,o,a,Sa);if(y!==Sa)return y}const m=Fu(t,r,o,a,Sa);if(m!==Sa)return m}return jd(r,o,a,c)}function Fu(t,r,o,a,c){const m=function Ra(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(or)?t[or]:void 0;return"number"==typeof r?r>=0?r&Nu:df:r}(o);if("function"==typeof m){if(!$i(r,t,a))return a&tn.Host?oc(c,0,a):jd(r,o,a,c);try{let y;if(y=m(a),null!=y||a&tn.Optional)return y;qe()}finally{O()}}else if("number"==typeof m){let y=null,b=cf(t,r),x=al,H=a&tn.Host?r[br][Jr]:null;for((-1===b||a&tn.SkipSelf)&&(x=-1===b?sc(t,r):r[b+8],x!==al&&Ui(a,!1)?(y=r[en],b=ba(x),r=Ol(x,r)):b=-1);-1!==b;){const ee=r[en];if(Lu(m,b,ee.data)){const Ee=Qc(b,r,o,y,a,H);if(Ee!==Sa)return Ee}x=r[b+8],x!==al&&Ui(a,r[en].data[b+8]===H)&&Lu(m,b,r)?(y=ee,b=ba(x),r=Ol(x,r)):b=-1}}return c}function Qc(t,r,o,a,c,m){const y=r[en],b=y.data[t+8],ee=gs(b,y,o,null==a?as(b)&&Bd:a!=y&&0!=(3&b.type),c&tn.Host&&m===b);return null!==ee?cl(r,y,ee,b):Sa}function gs(t,r,o,a,c){const m=t.providerIndexes,y=r.data,b=1048575&m,x=t.directiveStart,ee=m>>20,Ke=c?b+ee:t.directiveEnd;for(let ot=a?b:b+ee;ot<Ke;ot++){const Ot=y[ot];if(ot<x&&o===Ot||ot>=x&&Ot.type===o)return ot}if(c){const ot=y[x];if(ot&&ls(ot)&&ot.type===o)return x}return null}function cl(t,r,o,a){let c=t[o];const m=r.data;if(function Pl(t){return t instanceof ao}(c)){const y=c;y.resolving&&function ke(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ye(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}(m[o]));const b=xu(y.canSeeViewProviders);y.resolving=!0;const H=y.injectImpl?cr(y.injectImpl):null;$i(t,a,tn.Default);try{c=t[o]=y.factory(void 0,m,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Aa(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:m}=r.type.prototype;if(a){var y,b;const Ee=Xo(r);(null!==(y=o.preOrderHooks)&&void 0!==y?y:o.preOrderHooks=[]).push(t,Ee),(null!==(b=o.preOrderCheckHooks)&&void 0!==b?b:o.preOrderCheckHooks=[]).push(t,Ee)}var x,H,ee;c&&(null!==(x=o.preOrderHooks)&&void 0!==x?x:o.preOrderHooks=[]).push(0-t,c),m&&((null!==(H=o.preOrderHooks)&&void 0!==H?H:o.preOrderHooks=[]).push(t,m),(null!==(ee=o.preOrderCheckHooks)&&void 0!==ee?ee:o.preOrderCheckHooks=[]).push(t,m))}(o,m[o],r)}finally{null!==H&&cr(H),xu(b),y.resolving=!1,O()}}return c}function Lu(t,r,o){return!!(o[r+(t>>$d)]&1<<t)}function Ui(t,r){return!(t&tn.Self||t&tn.Host&&r)}class Dr{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Hd(this._tNode,this._lView,r,on(a),o)}}function df(){return new Dr(zt(),Rt())}function xl(t){return at(()=>{const r=t.prototype.constructor,o=r[Xr]||Js(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const m=c[Xr]||Js(c);if(m&&m!==o)return m;c=Object.getPrototypeOf(c)}return m=>new m})}function Js(t){return Ae(t)?()=>{const r=Js(ge(t));return r&&r()}:_o(t)}function ff(t){const r=t[en],o=r.type;return 2===o?r.declTNode:1===o?t[Jr]:null}function ms(t){return function uf(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const m=o[c];if(xr(m))break;if(0===m)c+=2;else if("number"==typeof m)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(m===r)return o[c+1];c+=2}}}return null}(zt(),t)}const yo="__parameters__";function ha(t,r,o){return at(()=>{const a=function Nl(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...m){if(this instanceof c)return a.apply(this,m),this;const y=new c(...m);return b.annotation=y,b;function b(x,H,ee){const Ee=x.hasOwnProperty(yo)?x[yo]:Object.defineProperty(x,yo,{value:[]})[yo];for(;Ee.length<=ee;)Ee.push(null);return(Ee[ee]=Ee[ee]||[]).push(y),x}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function kl(t,r){t.forEach(o=>Array.isArray(o)?kl(o,r):r(o))}function Wd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Fl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ja(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function go(t,r,o){let a=Ll(t,r);return a>=0?t[1|a]=o:(a=~a,function Gp(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function js(t,r){const o=Ll(t,r);if(o>=0)return t[1|o]}function Ll(t,r){return function Ha(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const m=a+(c-a>>1),y=t[m<<o];if(r===y)return m<<o;y>r?c=m:a=m+1}return~(c<<o)}(t,r,1)}const lc=Vr(ha("Optional"),8),cc=Vr(ha("SkipSelf"),4);function ml(t){return 128==(128&t.flags)}var Ku=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ku||{});const Ar=/^>|^->|<!--|-->|--!>|<!-$/g,Xp=/(<|>)/g,nh="\u200b$1\u200b";const Zu=new Map;let gc=0;const _c="__ngContext__";function As(t,r){ei(r)?(t[_c]=r[Ds],function wf(t){Zu.set(t[Ds],t)}(r)):t[_c]=r}let ih;function ma(t,r){return ih(t,r)}function Bo(t){const r=t[Ir];return Yi(r)?r[Ir]:r}function Xu(t){return wc(t[Gi])}function Ns(t){return wc(t[Bi])}function wc(t){for(;null!==t&&!Yi(t);)t=t[Bi];return t}function Ma(t,r,o,a,c){if(null!=a){let m,y=!1;Yi(a)?m=a:ei(a)&&(y=!0,a=a[ui]);const b=En(a);0===t&&null!==o?null==c?Ft(r,o,b):ft(r,o,b,c||null,!0):1===t&&null!==o?ft(r,o,b,c||null,!0):2===t?function bc(t,r,o){const a=Ki(t,r);a&&function Nn(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,b,y):3===t&&r.destroyNode(b),null!=m&&function u_(t,r,o,a,c){const m=o[qi];m!==En(o)&&Ma(r,t,a,m,c);for(let b=Fi;b<o.length;b++){const x=o[b];Gl(x[en],x,t,r,a,m)}}(r,t,m,o,c)}}function jl(t,r){return t.createComment(function rh(t){return t.replace(Ar,r=>r.replace(Xp,nh))}(r))}function lu(t,r,o){return t.createElement(r,o)}function Pf(t,r){const o=t[ro],a=o.indexOf(r);He(r),o.splice(a,1)}function I(t,r){if(t.length<=Fi)return;const o=Fi+r,a=t[o];if(a){const c=a[Is];null!==c&&c!==t&&Pf(c,a),r>0&&(t[o-1][Bi]=a[Bi]);const m=Fl(t,Fi+r);!function Rs(t,r){Gl(t,r,r[Zn],2,null,null),r[ui]=null,r[Jr]=null}(a[en],a);const y=m[ss];null!==y&&y.detachView(m[en]),a[Ir]=null,a[Bi]=null,a[qn]&=-129}return a}function h(t,r){if(!(256&r[qn])){var o,a;const c=r[Zn];null===(o=r[os])||void 0===o||o.destroy(),null===(a=r[ra])||void 0===a||a.destroy(),c.destroyNode&&Gl(t,r,c,3,null,null),function Sf(t){let r=t[Gi];if(!r)return _(t[en],t);for(;r;){let o=null;if(ei(r))o=r[Gi];else{const a=r[Fi];a&&(o=a)}if(!o){for(;r&&!r[Bi]&&r!==t;)ei(r)&&_(r[en],r),r=r[Ir];null===r&&(r=t),ei(r)&&_(r[en],r),o=r&&r[Bi]}r=o}}(r)}}function _(t,r){if(!(256&r[qn])){r[qn]&=-129,r[qn]|=256,function G(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof ao)){const m=o[a+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const b=c[m[y]],x=m[y+1];Be(4,b,x);try{x.call(b)}finally{Be(5,b,x)}}else{Be(4,c,m);try{m.call(c)}finally{Be(5,c,m)}}}}}(t,r),function D(t,r){const o=t.cleanup,a=r[zi];if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const y=o[m+3];y>=0?a[y]():a[-y].unsubscribe(),m+=2}else o[m].call(a[o[m+1]]);null!==a&&(r[zi]=null);const c=r[Ws];if(null!==c){r[Ws]=null;for(let m=0;m<c.length;m++)(0,c[m])()}}(t,r),1===r[en].type&&r[Zn].destroy();const o=r[Is];if(null!==o&&Yi(r[Ir])){o!==r[Ir]&&Pf(o,r);const a=r[ss];null!==a&&a.detachView(t)}!function Af(t){Zu.delete(t[Ds])}(r)}}function le(t,r,o){return function We(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[ui];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:m}=t.data[a.directiveStart+c];if(m===gn.None||m===gn.Emulated)return null}return Dn(a,o)}}(t,r.parent,o)}function ft(t,r,o,a,c){t.insertBefore(r,o,a,c)}function Ft(t,r,o){t.appendChild(r,o)}function mn(t,r,o,a,c){null!==a?ft(t,r,o,a,c):Ft(t,r,o)}function Ki(t,r){return t.parentNode(r)}function cu(t,r,o){return td(t,r,o)}let Ac,Rc,Mf,Of,td=function sh(t,r,o){return 40&t.type?Dn(t,o):null};function Hl(t,r,o,a){const c=le(t,a,r),m=r[Zn],b=cu(a.parent||r[Jr],a,r);if(null!=c)if(Array.isArray(o))for(let x=0;x<o.length;x++)mn(m,c,o[x],b,!1);else mn(m,c,o,b,!1);void 0!==Ac&&Ac(m,a,r,o,c)}function Cc(t,r){if(null!==r){const o=r.type;if(3&o)return Dn(r,t);if(4&o)return zl(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Cc(t,a);{const c=t[r.index];return Yi(c)?zl(-1,c):En(c)}}if(32&o)return ma(r,t)()||En(t[r.index]);{const a=_s(t,r);return null!==a?Array.isArray(a)?a[0]:Cc(Bo(t[br]),a):Cc(t,r.next)}}return null}function _s(t,r){return null!==r?t[br][Jr].projection[r.projection]:null}function zl(t,r){const o=Fi+t+1;if(o<r.length){const a=r[o],c=a[en].firstChild;if(null!==c)return Cc(a,c)}return r[qi]}function Po(t,r,o,a,c,m,y){for(;null!=o;){const b=a[o.index],x=o.type;if(y&&0===r&&(b&&As(En(b),a),o.flags|=2),32!=(32&o.flags))if(8&x)Po(t,r,o.child,a,c,m,!1),Ma(r,t,c,b,m);else if(32&x){const H=ma(o,a);let ee;for(;ee=H();)Ma(r,t,c,ee,m);Ma(r,t,c,b,m)}else 16&x?nd(t,r,a,o,c,m):Ma(r,t,c,b,m);o=y?o.projectionNext:o.next}}function Gl(t,r,o,a,c,m){Po(o,a,t.firstChild,r,c,m,!1)}function nd(t,r,o,a,c,m){const y=o[br],x=y[Jr].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)Ma(r,t,c,x[H],m);else{let H=x;const ee=y[Ir];ml(a)&&(H.flags|=128),Po(t,r,H,ee,c,m,!0)}}function f_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function p_(t,r,o){const{mergedAttrs:a,classes:c,styles:m}=o;null!==a&&Fs(t,r,a),null!==c&&f_(t,r,c),null!==m&&function h_(t,r,o){t.setAttribute(r,"style",o)}(t,r,m)}function rd(t){var r;return(null===(r=function oh(){if(void 0===Rc&&(Rc=null,Xn.trustedTypes))try{Rc=Xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rc}())||void 0===r?void 0:r.createHTML(t))||t}function Fy(t){Mf=t}function m_(t){var r;return(null===(r=function vl(){if(void 0===Of&&(Of=null,Xn.trustedTypes))try{Of=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Of}())||void 0===r?void 0:r.createScriptURL(t))||t}class Pc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${te})`}}class Wl extends Pc{getTypeName(){return"HTML"}}class __ extends Pc{getTypeName(){return"Style"}}class Ly extends Pc{getTypeName(){return"Script"}}class v_ extends Pc{getTypeName(){return"URL"}}class xf extends Pc{getTypeName(){return"ResourceURL"}}function $o(t){return t instanceof Pc?t.changingThisBreaksApplicationSecurity:t}function Oa(t,r){const o=function du(t){return t instanceof Pc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${te})`)}return o===r}function ah(t){return new Wl(t)}function y_(t){return new __(t)}function ng(t){return new Ly(t)}function rg(t){return new v_(t)}function E_(t){return new xf(t)}class Vy{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(rd(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class I_{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=rd(r),o}}const Nf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mc(t){return(t=String(t)).match(Nf)?t:"unsafe:"+t}function Uo(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function lh(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const sg=Uo("area,br,col,hr,img,wbr"),w_=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T_=Uo("rp,rt"),yl=lh(sg,lh(w_,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lh(T_,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lh(T_,w_)),Ff=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),A_=lh(Ff,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),og=Uo("script,style,template");class ag{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!yl.hasOwnProperty(o))return this.sanitizedSomething=!0,!og.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const m=a.item(c),y=m.name,b=y.toLowerCase();if(!A_.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let x=m.value;Ff[b]&&(x=Mc(x)),this.buf.push(" ",y,'="',Lf(x),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();yl.hasOwnProperty(o)&&!sg.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Lf(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const C_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lg=/([^\#-~ |!])/g;function Lf(t){return t.replace(/&/g,"&amp;").replace(C_,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(lg,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ch;function uh(t,r){let o=null;try{ch=ch||function ig(t){const r=new I_(t);return function D_(){try{return!!(new window.DOMParser).parseFromString(rd(""),"text/html")}catch{return!1}}()?new Vy(r):r}(t);let a=r?String(r):"";o=ch.getInertBodyElement(a);let c=5,m=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=m,m=o.innerHTML,o=ch.getInertBodyElement(a)}while(a!==m);return rd((new ag).sanitizeChildren(cg(o)||o))}finally{if(o){const a=cg(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function cg(t){return"content"in t&&function ug(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var El=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(El||{});function hu(t){const r=ld();return r?r.sanitize(El.URL,t)||"":Oa(t,"URL")?$o(t):Mc(Le(t))}function od(t){const r=ld();if(r)return m_(r.sanitize(El.RESOURCE_URL,t)||"");if(Oa(t,"ResourceURL"))return m_($o(t));throw new ye(904,!1)}function dg(t,r,o){return function Mo(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?od:hu}(r,o)(t)}function ld(){const t=Rt();return t&&t[Ji].sanitizer}class Qr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=It({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Il=new Qr("ENVIRONMENT_INITIALIZER"),pg=new Qr("INJECTOR",-1),Oc=new Qr("INJECTOR_DEF_TYPES");class gg{get(r,o=gi){if(o===gi){const a=new Error(`NullInjectorError: No provider for ${pe(r)}!`);throw a.name="NullInjectorError",a}return o}}function P_(...t){return{\u0275providers:ql(0,t),\u0275fromNgModule:!0}}function ql(t,...r){const o=[],a=new Set;let c;const m=y=>{o.push(y)};return kl(r,y=>{const b=y;Vf(b,m,[],a)&&(c||(c=[]),c.push(b))}),void 0!==c&&mg(c,m),o}function mg(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];_g(c,m=>{r(m,a)})}}function Vf(t,r,o,a){if(!(t=ge(t)))return!1;let c=null,m=Tt(t);const y=!m&&zn(t);if(m||y){if(y&&!y.standalone)return!1;c=t}else{const x=t.ngModule;if(m=Tt(x),!m)return!1;c=x}const b=a.has(c);if(y){if(b)return!1;if(a.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const H of x)Vf(H,r,o,a)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let H;a.add(c);try{kl(m.imports,ee=>{Vf(ee,r,o,a)&&(H||(H=[]),H.push(ee))})}finally{}void 0!==H&&mg(H,r)}if(!b){const H=_o(c)||(()=>new c);r({provide:c,useFactory:H,deps:rn},c),r({provide:Oc,useValue:c,multi:!0},c),r({provide:Il,useValue:()=>Zt(c),multi:!0},c)}const x=m.providers;if(null!=x&&!b){const H=t;_g(x,ee=>{r(ee,H)})}}}return c!==t&&void 0!==t.providers}function _g(t,r){for(let o of t)je(o)&&(o=o.\u0275providers),Array.isArray(o)?_g(o,r):r(o)}const M_=W({provide:String,useValue:W});function vg(t){return null!==t&&"object"==typeof t&&M_ in t}function pu(t){return"function"==typeof t}const Eg=new Qr("Set Injector scope."),hh={},gu={};let mu;function fh(){return void 0===mu&&(mu=new gg),mu}class Ya{}class Bf extends Ya{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(r,y=>this.processProvider(y)),this.records.set(pg,Ps(void 0,this)),c.has("environment")&&this.records.set(Ya,Ps(void 0,this));const m=this.records.get(Eg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Oc.multi,rn,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=gt(this),a=cr(void 0);try{return r()}finally{gt(o),cr(a)}}get(r,o=gi,a=tn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Jn))return r[Jn](this);a=on(a);const m=gt(this),y=cr(void 0);try{if(!(a&tn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const H=function qy(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qr}(r)&&dn(r);x=H&&this.injectableDefInScope(H)?Ps($f(r),hh):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(a&tn.Self?fh():this.parent).get(r,o=a&tn.Optional&&o===gi?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[Lr]=b[Lr]||[]).unshift(pe(r)),m)throw b;return function si(t,r,o,a){const c=t[Lr];throw r[Fe]&&c.unshift(r[Fe]),t.message=function Dt(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=pe(r);if(Array.isArray(r))c=r.map(pe).join(" -> ");else if("object"==typeof r){let m=[];for(let y in r)if(r.hasOwnProperty(y)){let b=r[y];m.push(y+":"+("string"==typeof b?JSON.stringify(b):pe(b)))}c=`{${m.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ie,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[Lr]=null,t}(b,r,"R3InjectorError",this.source)}throw b}finally{cr(y),gt(m)}}resolveInjectorInitializers(){const r=gt(this),o=cr(void 0);try{const c=this.get(Il.multi,rn,tn.Self);for(const m of c)m()}finally{gt(r),cr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(pe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(r){let o=pu(r=ge(r))?r:ge(r&&r.provide);const a=function zy(t){return vg(t)?Ps(void 0,t.useValue):Ps(Uf(t),hh)}(r);if(pu(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ps(void 0,hh,!0),c.factory=()=>Vn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===hh&&(o.value=gu,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Wy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ge(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function $f(t){const r=dn(t),o=null!==r?r.factory:_o(t);if(null!==o)return o;if(t instanceof Qr)throw new ye(204,!1);if(t instanceof Function)return function Hy(t){const r=t.length;if(r>0)throw ja(r,"?"),new ye(204,!1);const o=function sr(t){return t&&(t[Qn]||t[fr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ye(204,!1)}function Uf(t,r,o){let a;if(pu(t)){const c=ge(t);return _o(c)||$f(c)}if(vg(t))a=()=>ge(t.useValue);else if(function yg(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Vn(t.deps||[]));else if(function dh(t){return!(!t||!t.useExisting)}(t))a=()=>Zt(ge(t.useExisting));else{const c=ge(t&&(t.useClass||t.provide));if(!function Gy(t){return!!t.deps}(t))return _o(c)||$f(c);a=()=>new c(...Vn(t.deps))}return a}function Ps(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Ig(t,r){for(const o of t)Array.isArray(o)?Ig(o,r):o&&je(o)?Ig(o.\u0275providers,r):r(o)}const jf=new Qr("AppId",{providedIn:"root",factory:()=>Yy}),Yy="ng",ph=new Qr("Platform Initializer"),cd=new Qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),x_=new Qr("AnimationModuleType"),Dg=new Qr("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function id(){if(void 0!==Mf)return Mf;if(typeof document<"u")return document;throw new ye(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Sg=(t,r,o)=>null;function Rg(t,r,o=!1){return Sg(t,r,o)}class Mg{}class Og{}class kg{resolveComponentFactory(r){throw function Qy(t){const r=Error(`No component factory found for ${pe(t)}.`);return r.ngComponent=t,r}(r)}}let Th=(()=>{class r{}return r.NULL=new kg,r})();function Xy(){return Hs(zt(),Rt())}function Hs(t,r){return new Ah(Dn(t,r))}let Ah=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=Xy,r})();function L_(t){return t instanceof Ah?t.nativeElement:t}class Ch{}let bh=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Fg(){const t=Rt(),o=L(zt().index,t);return(ei(o)?o:t)[Zn]}(),r})(),V_=(()=>{var t;class r{}return(t=r).\u0275prov=It({token:t,providedIn:"root",factory:()=>null}),r})();class B_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const $_=new B_("16.2.3"),Lg={};function Vg(t,r=null,o=null,a){const c=Zf(t,r,o,a);return c.resolveInjectorInitializers(),c}function Zf(t,r=null,o=null,a,c=new Set){const m=[o||rn,P_(t)];return a=a||("object"==typeof t?void 0:pe(t)),new Bf(m,r||fh(),a||null,c)}let va=(()=>{var t;class r{static create(a,c){if(Array.isArray(a))return Vg({name:""},c,a,"");{var m;const y=null!==(m=a.name)&&void 0!==m?m:"";return Vg({name:y},a.parent,a.providers,y)}}}return(t=r).THROW_IF_NOT_FOUND=gi,t.NULL=new gg,t.\u0275prov=It({token:t,providedIn:"any",factory:()=>Zt(pg)}),t.__NG_ELEMENT_ID__=-1,r})();function $g(t){return r=>{setTimeout(t,void 0,r)}}const xa=class Bg extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,m=o||(()=>null),y=a;if(r&&"object"==typeof r){var b,x,H;const Ee=r;c=null===(b=Ee.next)||void 0===b?void 0:b.bind(Ee),m=null===(x=Ee.error)||void 0===x?void 0:x.bind(Ee),y=null===(H=Ee.complete)||void 0===H?void 0:H.bind(Ee)}this.__isAsync&&(m=$g(m),c&&(c=$g(c)),y&&(y=$g(y)));const ee=super.subscribe({next:c,error:m,complete:y});return r instanceof f.w0&&r.add(ee),ee}};function z_(...t){}class eo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Ug(){const t="function"==typeof Xn.requestAnimationFrame;let r=Xn[t?"requestAnimationFrame":"setTimeout"],o=Xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function e0(t){const r=()=>{!function Hg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zg(t),t.isCheckStableRunning=!0,kc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,m,y,b)=>{try{return Gg(t),o.invokeTask(c,m,y,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),Wg(t)}},onInvoke:(o,a,c,m,y,b,x)=>{try{return Gg(t),o.invoke(c,m,y,b,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),Wg(t)}},onHasTask:(o,a,c,m)=>{o.hasTask(c,m),a===c&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,zg(t),kc(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,c,m)=>(o.handleError(c,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eo.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(eo.isInAngularZone())throw new ye(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+c,r,G_,z_,z_);try{return m.runTask(y,o,a)}finally{m.cancelTask(y)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const G_={};function kc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Gg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wg(t){t._nesting--,kc(t)}class t0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const Qf=new Qr("",{providedIn:"root",factory:W_});function W_(){const t=pn(eo);let r=!0;const o=new V.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new V.y(c=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{eo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=t.onUnstable.subscribe(()=>{eo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,U.T)(o,a.pipe((0,Z.B)()))}function Ka(t){return t instanceof Function?t():t}let Fc=(()=>{var t;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ye(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=r).\u0275prov=It({token:t,providedIn:"root",factory:()=>new t}),r})();function Na(t){for(;t;){t[qn]|=64;const r=Bo(t);if(No(t)&&!r)return t;t=r}return null}function Lc(t){return t.ngOriginalError}class Eu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Lc(r);for(;o&&Lc(o);)o=Lc(o);return o||null}}const Y_=new Qr("",{providedIn:"root",factory:()=>!1});class nm extends oa{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Na(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,a){const c=es(this);this.trackingVersion++;try{r(o,a)}finally{es(c)}}destroy(){this.trackingVersion++}}let _d=null;function rm(){var t;return null!==(t=_d)&&void 0!==t||(_d=new nm),_d}function X_(t,r){var o;return null!==(o=t[r])&&void 0!==o?o:rm()}function J_(t,r){const o=rm();o.hasReadASignal&&(t[r]=_d,o.lView=t,_d=new nm)}const Rr={};function ev(t){tp(xt(),Rt(),oe()+t,!1)}function tp(t,r,o,a){if(!a)if(3==(3&r[qn])){const m=t.preOrderCheckHooks;null!==m&&oo(r,m,o)}else{const m=t.preOrderHooks;null!==m&&Ca(r,m,0,o)}Ce(o)}function Vc(t,r=tn.Default){const o=Rt();return null===o?Zt(t,r):Hd(zt(),o,ge(t),r)}function np(){throw new Error("invalid")}function vd(t,r,o,a,c,m,y,b,x,H,ee){const Ee=r.blueprint.slice();return Ee[ui]=c,Ee[qn]=140|a,(null!==H||t&&2048&t[qn])&&(Ee[qn]|=2048),ae(Ee),Ee[Ir]=Ee[Ei]=t,Ee[Yr]=o,Ee[Ji]=y||t&&t[Ji],Ee[Zn]=b||t&&t[Zn],Ee[is]=x||t&&t[is]||null,Ee[Jr]=m,Ee[Ds]=function Qu(){return gc++}(),Ee[Ms]=ee,Ee[fs]=H,Ee[br]=2==r.type?t[br]:Ee,Ee}function yd(t,r,o,a,c){let m=t.data[r];if(null===m)m=function Oh(t,r,o,a,c){const m=mt(),y=wn(),x=t.data[r]=function nv(t,r,o,a,c,m){let y=r?r.injectorIndex:-1,b=0;return Nr()&&(b|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:c,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=x),null!==m&&(y?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,r,o,a,c),function il(){return wt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=o,m.value=a,m.attrs=c;const y=function kt(){const t=wt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return lr(m,!0),m}function Ed(t,r,o,a){if(0===o)return-1;const c=r.length;for(let m=0;m<o;m++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function rp(t,r,o,a,c){const m=X_(r,os),y=oe(),b=2&a;try{if(Ce(-1),b&&r.length>er&&tp(t,r,er,!1),Be(b?2:0,c),b)m.runInContext(o,a,c);else{const H=es(null);try{o(a,c)}finally{es(H)}}}finally{b&&null===r[os]&&J_(r,os),Ce(y),Be(b?3:1,c)}}function ip(t,r,o){if(xo(r)){const a=es(null);try{const m=r.directiveEnd;for(let y=r.directiveStart;y<m;y++){const b=t.data[y];b.contentQueries&&b.contentQueries(1,o[y],y)}}finally{es(a)}}}function im(t,r,o){ir()&&(function u0(t,r,o,a){const c=o.directiveStart,m=o.directiveEnd;as(o)&&function pm(t,r,o){const a=Dn(r,t),c=tv(o);let y=16;o.signals?y=4096:o.onPush&&(y=64);const b=wd(t,vd(t,c,null,y,a,r,null,t[Ji].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=b}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||ku(o,r),As(a,r);const y=o.initialInputs;for(let b=c;b<m;b++){const x=t.data[b],H=cl(r,t,b,o);As(H,r),null!==y&&gm(0,b-c,H,x,0,y),ls(x)&&(L(o.index,r)[Yr]=cl(r,t,b,o))}}(t,r,o,Dn(o,r)),64==(64&o.flags)&&lp(t,r,o))}function xh(t,r,o=Dn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let m=0;m<a.length;m+=2){const y=a[m+1],b=-1===y?o(r,t):t[y];t[c++]=b}}}function tv(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Nh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Nh(t,r,o,a,c,m,y,b,x,H,ee){const Ee=er+a,Ke=Ee+c,ot=function o0(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Rr);return o}(Ee,Ke),Ot="function"==typeof H?H():H;return ot[en]={type:t,blueprint:ot,template:o,queries:null,viewQuery:b,declTNode:r,data:ot.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:Ot,incompleteFirstPass:!1,ssrId:ee}}let sp=t=>null;function op(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const m=t[c];null===a?rv(o,r,c,m):a.hasOwnProperty(c)&&rv(o,r,a[c],m)}return o}function rv(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function um(t,r,o,a){if(ir()){const c=null===a?null:{"":-1},m=function hm(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let y=0;y<o.length;y++){const b=o[y];if(X(r,b.selectors,!1))if(a||(a=[]),ls(b))if(null!==b.findHostDirectiveDefs){const x=[];c=c||new Map,b.findHostDirectiveDefs(b,x,c),a.unshift(...x,b),cp(t,r,x.length)}else a.unshift(b),cp(t,r,0);else{var m;c=c||new Map,null===(m=b.findHostDirectiveDefs)||void 0===m||m.call(b,b,a,c),a.push(b)}}return null===a?null:[a,c]}(t,o);let y,b;null===m?y=b=null:[y,b]=m,null!==y&&ap(t,r,o,y,c,b),c&&function fm(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const m=o[r[c+1]];if(null==m)throw new ye(-301,!1);a.push(r[c],m)}}}(o,a,c)}o.mergedAttrs=yi(o.mergedAttrs,o.attrs)}function ap(t,r,o,a,c,m){for(let Ee=0;Ee<a.length;Ee++)Zc(ku(o,r),t,a[Ee].type);!function h0(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let Ee=0;Ee<a.length;Ee++){const Ke=a[Ee];Ke.providersResolver&&Ke.providersResolver(Ke)}let y=!1,b=!1,x=Ed(t,r,a.length,null);for(let Ee=0;Ee<a.length;Ee++){const Ke=a[Ee];o.mergedAttrs=yi(o.mergedAttrs,Ke.hostAttrs),f0(t,o,r,x,Ke),iv(x,Ke,c),null!==Ke.contentQueries&&(o.flags|=4),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(o.flags|=64);const ot=Ke.type.prototype;var H,ee;!y&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((null!==(H=t.preOrderHooks)&&void 0!==H?H:t.preOrderHooks=[]).push(o.index),y=!0),b||!ot.ngOnChanges&&!ot.ngDoCheck||((null!==(ee=t.preOrderCheckHooks)&&void 0!==ee?ee:t.preOrderCheckHooks=[]).push(o.index),b=!0),x++}!function lm(t,r,o){const c=r.directiveEnd,m=t.data,y=r.attrs,b=[];let x=null,H=null;for(let ee=r.directiveStart;ee<c;ee++){const Ee=m[ee],Ke=o?o.get(Ee):null,Ot=Ke?Ke.outputs:null;x=op(Ee.inputs,ee,x,Ke?Ke.inputs:null),H=op(Ee.outputs,ee,H,Ot);const Kt=null===x||null===y||Vi(r)?null:p0(x,ee,y);b.push(Kt)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=8),x.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=b,r.inputs=x,r.outputs=H}(t,o,m)}function lp(t,r,o){const a=o.directiveStart,c=o.directiveEnd,m=o.index,y=function Os(){return wt.lFrame.currentDirectiveIndex}();try{Ce(m);for(let b=a;b<c;b++){const x=t.data[b],H=r[b];hi(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&d0(x,H)}}finally{Ce(-1),hi(y)}}function d0(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function cp(t,r,o){var a;r.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(r.index)}function iv(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;ls(r)&&(o[""]=t)}}function f0(t,r,o,a,c){t.data[a]=c;const m=c.factory||(c.factory=_o(c.type)),y=new ao(m,ls(c),Vc);t.blueprint[a]=y,o[a]=y,function c0(t,r,o,a,c){const m=c.hostBindings;if(m){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const b=~r.index;(function dm(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(y)!=b&&y.push(b),y.push(o,a,m)}}(t,r,a,Ed(t,o,c.hostVars,Rr),c)}function wl(t,r,o,a,c,m){const y=Dn(t,r);!function kh(t,r,o,a,c,m,y){if(null==m)t.removeAttribute(r,c,o);else{const b=null==y?Le(m):y(m,a||"",c);t.setAttribute(r,c,b,o)}}(r[Zn],y,m,t.value,o,a,c)}function gm(t,r,o,a,c,m){const y=m[r];if(null!==y)for(let b=0;b<y.length;)up(a,o,y[b++],y[b++],y[b++])}function up(t,r,o,a,c){const m=es(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{es(m)}}function p0(t,r,o){let a=null,c=0;for(;c<o.length;){const m=o[c];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===a&&(a=[]);const y=t[m];for(let b=0;b<y.length;b+=2)if(y[b]===r){a.push(m,y[b+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Dd(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function sv(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const m=o[a+1];if(-1!==m){const y=t.data[m];zr(o[a]),y.contentQueries(2,r[m],m)}}}function wd(t,r){return t[Gi]?t[Qi][Bi]=r:t[Gi]=r,t[Qi]=r,r}function dp(t,r,o){zr(0);const a=es(null);try{r(t,o)}finally{es(a)}}function mm(t){return t[zi]||(t[zi]=[])}function Lh(t){return t.cleanup||(t.cleanup=[])}function av(t,r){const o=t[is],a=o?o.get(Eu,null):null;a&&a.handleError(r)}function _m(t,r,o,a,c){for(let m=0;m<o.length;){const y=o[m++],b=o[m++];up(t.data[y],r[y],a,b,c)}}function Zl(t,r,o){const a=tr(r,t);!function ta(t,r,o){t.setValue(r,o)}(t[Zn],a,o)}function hp(t,r){const o=L(r,t),a=o[en];!function vm(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[ui];null!==c&&null===o[Ms]&&(o[Ms]=Rg(c,o[is])),Vh(a,o,o[Yr])}function Vh(t,r,o){hn(r);try{const a=t.viewQuery;null!==a&&dp(1,a,o);const c=t.template;null!==c&&rp(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sv(t,r),t.staticViewQueries&&dp(2,t.viewQuery,o);const m=t.components;null!==m&&function ym(t,r){for(let o=0;o<r.length;o++)hp(t,r[o])}(r,m)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[qn]&=-5,k()}}let Em=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,m){const y=typeof Zone>"u"?null:Zone.current,b=new $s(a,ee=>{this.all.has(ee)&&this.queue.set(ee,y)},m);let x;this.all.add(b),b.notify();const H=()=>{var ee;b.cleanup(),null===(ee=x)||void 0===ee||ee(),this.all.delete(b),this.queue.delete(b)};return x=null==c?void 0:c.onDestroy(H),{destroy:H}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=It({token:t,providedIn:"root",factory:()=>new t}),r})();function Td(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,m=0;if(null!==r)for(let y=0;y<r.length;y++){const b=r[y];"number"==typeof b?m=b:1==m?c=De(c,b):2==m&&(a=De(a,b+": "+r[++y]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Bc(t,r,o,a,c=!1){for(;null!==o;){const m=r[o.index];null!==m&&a.push(En(m)),Yi(m)&&fp(m,a);const y=o.type;if(8&y)Bc(t,r,o.child,a);else if(32&y){const b=ma(o,r);let x;for(;x=b();)a.push(x)}else if(16&y){const b=_s(r,o);if(Array.isArray(b))a.push(...b);else{const x=Bo(r[br]);Bc(x[en],x,b,a,!0)}}o=c?o.projectionNext:o.next}return a}function fp(t,r){for(let o=Fi;o<t.length;o++){const a=t[o],c=a[en].firstChild;null!==c&&Bc(a[en],a,c,r)}t[qi]!==t[ui]&&r.push(t[qi])}function Bh(t,r,o,a=!0){const c=r[Ji],m=c.rendererFactory,y=c.afterRenderEventManager;var x;null===(x=m.begin)||void 0===x||x.call(m),null==y||y.begin();try{pp(t,r,t.template,o)}catch(Ee){throw a&&av(r,Ee),Ee}finally{var H,ee;null===(H=m.end)||void 0===H||H.call(m),null===(ee=c.effectManager)||void 0===ee||ee.flush(),null==y||y.end()}}function pp(t,r,o,a){var c;const m=r[qn];if(256!=(256&m)){null===(c=r[Ji].effectManager)||void 0===c||c.flush(),hn(r);try{ae(r),function so(t){return wt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&rp(t,r,o,2,a);const b=3==(3&m);if(b){const ee=t.preOrderCheckHooks;null!==ee&&oo(r,ee,null)}else{const ee=t.preOrderHooks;null!==ee&&Ca(r,ee,0,null),So(r,0)}if(function Ad(t){for(let r=Xu(t);null!==r;r=Ns(r)){if(!r[rr])continue;const o=r[ro];for(let a=0;a<o.length;a++){Se(o[a])}}}(r),Dm(r,2),null!==t.contentQueries&&sv(t,r),b){const ee=t.contentCheckHooks;null!==ee&&oo(r,ee)}else{const ee=t.contentHooks;null!==ee&&Ca(r,ee,1),So(r,1)}!function s0(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=X_(r,ra);try{for(let c=0;c<o.length;c++){const m=o[c];if(m<0)Ce(~m);else{const y=m,b=o[++c],x=o[++c];po(b,y),a.runInContext(x,2,r[y])}}}finally{null===r[ra]&&J_(r,ra),Ce(-1)}}(t,r);const x=t.components;null!==x&&uv(r,x,0);const H=t.viewQuery;if(null!==H&&dp(2,H,a),b){const ee=t.viewCheckHooks;null!==ee&&oo(r,ee)}else{const ee=t.viewHooks;null!==ee&&Ca(r,ee,2),So(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[qn]&=-73,He(r)}finally{k()}}}function Dm(t,r){for(let o=Xu(t);null!==o;o=Ns(o))for(let a=Fi;a<o.length;a++)cv(o[a],r)}function wm(t,r,o){cv(L(r,t),o)}function cv(t,r){if(!function A(t){return 128==(128&t[qn])}(t))return;const o=t[en];if(80&t[qn]&&0===r||1024&t[qn]||2===r)pp(o,t,o.template,t[Yr]);else if(t[Hi]>0){Dm(t,1);const c=t[en].components;null!==c&&uv(t,c,1)}}function uv(t,r,o){for(let a=0;a<r.length;a++)wm(t,r[a],o)}class Uh{get rootNodes(){const r=this._lView,o=r[en];return Bc(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(r){this._lView[Yr]=r}get destroyed(){return 256==(256&this._lView[qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ir];if(Yi(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(I(r,a),Fl(o,a))}this._attachedToViewContainer=!1}h(this._lView[en],this._lView)}onDestroy(r){!function ht(t,r){if(256==(256&t[qn]))throw new ye(911,!1);null===t[Ws]&&(t[Ws]=[]),t[Ws].push(r)}(this._lView,r)}markForCheck(){Na(this._cdRefInjectingView||this._lView)}detach(){this._lView[qn]&=-129}reattach(){this._lView[qn]|=128}detectChanges(){Bh(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ju(t,r){Gl(t,r,r[Zn],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=r}}class dv extends Uh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Bh(r[en],r,r[Yr],!1)}checkNoChanges(){}get context(){return null}}class hv extends Th{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=zn(r);return new jh(o,this.ngModule)}}function Tm(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class m0{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=on(a);const c=this.injector.get(r,Lg,a);return c!==Lg||o===Lg?c:this.parentInjector.get(r,o,a)}}class jh extends Og{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Tm(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Tm(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function bt(t){return t.map(Pt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){var m;let y=(c=c||this.ngModule)instanceof Ya?c:null===(m=c)||void 0===m?void 0:m.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const b=y?new m0(r,y):r,x=b.get(Ch,null);if(null===x)throw new ye(407,!1);const Ke={rendererFactory:x,sanitizer:b.get(V_,null),effectManager:b.get(Em,null),afterRenderEventManager:b.get(Fc,null)},ot=x.createRenderer(null,this.componentDef),Ot=this.componentDef.selectors[0][0]||"div",Kt=a?function sm(t,r,o,a){const m=a.get(Y_,!1)||o===gn.ShadowDom,y=t.selectRootElement(r,m);return function a0(t){sp(t)}(y),y}(ot,a,this.componentDef.encapsulation,b):lu(ot,Ot,function g0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ot)),jt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yr=null;null!==Kt&&(yr=Rg(Kt,b,!0));const ri=Nh(0,null,null,1,0,null,null,null,null,null,null),Mi=vd(null,ri,null,jt,null,null,Ke,ot,b,null,yr);let bl,s_;hn(Mi);try{const Ld=this.componentDef;let Up,ME=null;Ld.findHostDirectiveDefs?(Up=[],ME=new Map,Ld.findHostDirectiveDefs(Ld,Up,ME),Up.push(Ld)):Up=[Ld];const NC=function v0(t,r){const o=t[en],a=er;return t[a]=r,yd(o,a,2,"#host",null)}(Mi,Kt),kC=function y0(t,r,o,a,c,m,y){const b=c[en];!function fv(t,r,o,a){for(const c of t)r.mergedAttrs=yi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Td(r,r.mergedAttrs,!0),null!==o&&p_(a,o,r))}(a,t,r,y);let x=null;null!==r&&(x=Rg(r,c[is]));const H=m.rendererFactory.createRenderer(r,o);let ee=16;o.signals?ee=4096:o.onPush&&(ee=64);const Ee=vd(c,tv(o),null,ee,c[t.index],t,m,H,null,null,x);return b.firstCreatePass&&cp(b,t,a.length-1),wd(c,Ee),c[t.index]=Ee}(NC,Kt,Ld,Up,Mi,Ke,ot);s_=Hr(ri,er),Kt&&function Am(t,r,o,a){if(a)Fs(t,o,["ng-version",$_.full]);else{const{attrs:c,classes:m}=function Bt(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let m=t[a];if("string"==typeof m)2===c?""!==m&&r.push(m,t[++a]):8===c&&o.push(m);else{if(!qr(c))break;c=m}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&Fs(t,o,c),m&&m.length>0&&f_(t,o,m.join(" "))}}(ot,Ld,Kt,a),void 0!==o&&function gv(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const m=o[c];a.push(null!=m?Array.from(m):null)}}(s_,this.ngContentSelectors,o),bl=function pv(t,r,o,a,c,m){const y=zt(),b=c[en],x=Dn(y,c);ap(b,c,y,o,null,a);for(let ee=0;ee<o.length;ee++)As(cl(c,b,y.directiveStart+ee,y),c);lp(b,c,y),x&&As(x,c);const H=cl(c,b,y.directiveStart+y.componentOffset,y);if(t[Yr]=c[Yr]=H,null!==m)for(const ee of m)ee(H,r);return ip(b,y,t),H}(kC,Ld,Up,ME,Mi,[mv]),Vh(ri,Mi,null)}finally{k()}return new _0(this.componentType,bl,Hs(s_,Mi),Mi,s_)}}class _0 extends Mg{constructor(r,o,a,c,m){super(),this.location=a,this._rootLView=c,this._tNode=m,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new dv(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var m;if(null!==(m=this.previousInputValues)&&void 0!==m||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const y=this._rootLView;_m(y[en],y,c,r,o),this.previousInputValues.set(r,o),Na(L(this._tNode.index,y))}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function mv(){const t=zt();bo(Rt()[en],t)}function Cd(t){let r=function Cm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if(ls(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ye(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const y=t;y.inputs=Hh(t.inputs),y.inputTransforms=Hh(t.inputTransforms),y.declaredInputs=Hh(t.declaredInputs),y.outputs=Hh(t.outputs);const b=c.hostBindings;b&&vv(t,b);const x=c.viewQuery,H=c.contentQueries;if(x&&_v(t,x),H&&zh(t,H),fe(t.inputs,c.inputs),fe(t.declaredInputs,c.declaredInputs),fe(t.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),fe(y.inputTransforms,c.inputTransforms)),ls(c)&&c.data.animation){const ee=t.data;ee.animation=(ee.animation||[]).concat(c.data.animation)}}const m=c.features;if(m)for(let y=0;y<m.length;y++){const b=m[y];b&&b.ngInherit&&b(t),b===Cd&&(o=!1)}}r=Object.getPrototypeOf(r)}!function ti(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=yi(c.hostAttrs,o=yi(o,c.hostAttrs))}}(a)}function Hh(t){return t===Pn?{}:t===rn?[]:t}function _v(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function zh(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,m)=>{r(a,c,m),o(a,c,m)}:r}function vv(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function gp(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function mp(t){return!!Tv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Tv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function bm(t,r,o,a){const c=Rt();return Oo(c,Sr(),r)&&(xt(),wl(Je(),c,t,r,o,a)),bm}function Sd(t,r,o,a,c,m){const b=function $c(t,r,o,a){const c=Oo(t,r,o);return Oo(t,r+1,a)||c}(t,function di(){return wt.lFrame.bindingIndex}(),o,c);return Ts(2),b?r+Le(o)+a+Le(c)+m:Rr}function kv(t,r,o,a,c,m,y,b){const x=Rt(),H=xt(),ee=t+er,Ee=H.firstCreatePass?function A0(t,r,o,a,c,m,y,b,x){const H=r.consts,ee=yd(r,t,4,y||null,q(H,b));um(r,o,ee,q(H,x)),bo(r,ee);const Ee=ee.tView=Nh(2,ee,a,c,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,ee),Ee.queries=r.queries.embeddedTView(ee)),ee}(ee,H,x,r,o,a,c,m,y):H.data[ee];lr(Ee,!1);const Ke=Xh(H,x,Ee,t);kr()&&Hl(H,x,Ke,Ee),As(Ke,x),wd(x,x[ee]=Dd(Ke,x,Ke,Ee)),Ci(Ee)&&im(H,x,Ee),null!=y&&xh(x,Ee,b)}let Xh=function Fv(t,r,o,a){return Kr(!0),r[Zn].createComment("")};function Tp(t,r,o){const a=Rt();return Oo(a,Sr(),r)&&function jo(t,r,o,a,c,m,y,b){const x=Dn(r,o);let ee,H=r.inputs;!b&&null!=H&&(ee=H[a])?(_m(t,o,ee,a,c),as(r)&&function l0(t,r){const o=L(r,t);16&o[qn]||(o[qn]|=64)}(o,r.index)):3&r.type&&(a=function Kl(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=y?y(c,r.value||"",a):c,m.setProperty(x,a,c))}(xt(),Je(),a,t,r,a[Zn],o,!1),Tp}function Ap(t,r,o,a,c){const y=c?"class":"style";_m(t,o,r.inputs[y],y,a)}function Jh(t,r,o,a){const c=Rt(),m=xt(),y=er+t,b=c[Zn],x=m.firstCreatePass?function Lv(t,r,o,a,c,m){const y=r.consts,x=yd(r,t,2,a,q(y,c));return um(r,o,x,q(y,m)),null!==x.attrs&&Td(x,x.attrs,!1),null!==x.mergedAttrs&&Td(x,x.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,x),x}(y,m,c,r,o,a):m.data[y],H=nf(m,c,x,b,r,t);c[y]=H;const ee=Ci(x);return lr(x,!0),p_(b,H,x),32!=(32&x.flags)&&kr()&&Hl(m,c,H,x),0===function Cn(){return wt.lFrame.elementDepthCount}()&&As(H,c),function Ln(){wt.lFrame.elementDepthCount++}(),ee&&(im(m,c,x),ip(m,x,c)),null!==a&&xh(c,x),Jh}function ef(){let t=zt();wn()?Rn():(t=t.parent,lr(t,!1));const r=t;(function Di(t){return wt.skipHydrationRootTNode===t})(r)&&function Yn(){wt.skipHydrationRootTNode=null}(),function Bn(){wt.lFrame.elementDepthCount--}();const o=xt();return o.firstCreatePass&&(bo(o,t),xo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Vd(t){return 0!=(8&t.flags)}(r)&&Ap(o,r,Rt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Yc(t){return 0!=(16&t.flags)}(r)&&Ap(o,r,Rt(),r.stylesWithoutHost,!1),ef}function tf(t,r,o,a){return Jh(t,r,o,a),ef(),tf}let nf=(t,r,o,a,c,m)=>(Kr(!0),lu(a,c,function bi(){return wt.lFrame.currentNamespace}()));function Nm(t,r,o){const a=Rt(),c=xt(),m=t+er,y=c.firstCreatePass?function GE(t,r,o,a,c){const m=r.consts,y=q(m,a),b=yd(r,t,8,"ng-container",y);return null!==y&&Td(b,y,!0),um(r,o,b,q(m,c)),null!==r.queries&&r.queries.elementStart(r,b),b}(m,c,a,r,o):c.data[m];lr(y,!0);const b=Gc(c,a,y,t);return a[m]=b,kr()&&Hl(c,a,b,y),As(b,a),Ci(y)&&(im(c,a,y),ip(c,y,a)),null!=o&&xh(a,y),Nm}function Vv(){let t=zt();const r=xt();return wn()?Rn():(t=t.parent,lr(t,!1)),r.firstCreatePass&&(bo(r,t),xo(t)&&r.queries.elementEnd(t)),Vv}function Bv(t,r,o){return Nm(t,r,o),Vv(),Bv}let Gc=(t,r,o,a)=>(Kr(!0),jl(r[Zn],""));function ec(){return Rt()}function km(t){return!!t&&"function"==typeof t.then}function Fm(t){return!!t&&"function"==typeof t.subscribe}function Lm(t,r,o,a){const c=Rt(),m=xt(),y=zt();return function $v(t,r,o,a,c,m,y){const b=Ci(a),H=t.firstCreatePass&&Lh(t),ee=r[Yr],Ee=mm(r);let Ke=!0;if(3&a.type||y){const Kt=Dn(a,r),_n=y?y(Kt):Kt,jn=Ee.length,jt=y?ri=>y(En(ri[a.index])):a.index;let yr=null;if(!y&&b&&(yr=function P0(t,r,o,a){const c=t.cleanup;if(null!=c)for(let m=0;m<c.length-1;m+=2){const y=c[m];if(y===o&&c[m+1]===a){const b=r[zi],x=c[m+2];return b.length>x?b[x]:null}"string"==typeof y&&(m+=2)}return null}(t,r,c,a.index)),null!==yr)(yr.__ngLastListenerFn__||yr).__ngNextListenerFn__=m,yr.__ngLastListenerFn__=m,Ke=!1;else{m=jv(a,r,ee,m,!1);const ri=o.listen(_n,c,m);Ee.push(m,ri),H&&H.push(c,jt,jn,jn+1)}}else m=jv(a,r,ee,m,!1);const ot=a.outputs;let Ot;if(Ke&&null!==ot&&(Ot=ot[c])){const Kt=Ot.length;if(Kt)for(let _n=0;_n<Kt;_n+=2){const Mi=r[Ot[_n]][Ot[_n+1]].subscribe(m),bl=Ee.length;Ee.push(m,Mi),H&&H.push(c,a.index,bl,-(bl+1))}}}(m,c,c[Zn],y,t,r,a),Lm}function Uv(t,r,o,a){try{return Be(6,r,o),!1!==o(a)}catch(c){return av(t,c),!1}finally{Be(7,r,o)}}function jv(t,r,o,a,c){return function m(y){if(y===Function)return a;Na(t.componentOffset>-1?L(t.index,r):r);let x=Uv(r,o,a,y),H=m.__ngNextListenerFn__;for(;H;)x=Uv(r,o,H,y)&&x,H=H.__ngNextListenerFn__;return c&&!1===x&&y.preventDefault(),x}}function Hv(t=1){return function S(t){return(wt.lFrame.contextLView=function B(t,r){for(;t>0;)r=r[Ei],t--;return r}(t,wt.lFrame.contextLView))[Yr]}(t)}function zv(t,r){let o=null;const a=function Re(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const m=r[c];if("*"!==m){if(null===a?X(t,m,!0):lt(a,m))return c}else o=c}return o}function Vm(t){const r=Rt()[br][Jr];if(!r.projection){const a=r.projection=ja(t?t.length:1,null),c=a.slice();let m=r.child;for(;null!==m;){const y=t?zv(m,t):0;null!==y&&(c[y]?c[y].projectionNext=m:a[y]=m,c[y]=m),m=m.next}}}function Gv(t,r=0,o){const a=Rt(),c=xt(),m=yd(c,er+t,16,null,o||null);null===m.projection&&(m.projection=r),Rn(),(!a[Ms]||Nr())&&32!=(32&m.flags)&&function c_(t,r,o){nd(r[Zn],0,r,o,le(t,o,r),cu(o.parent||r[Jr],o,r))}(c,a,m)}function Sp(t,r){return t<<17|r<<2}function Au(t){return t>>17&32767}function Xv(t){return 2|t}function Cu(t){return(131068&t)>>2}function Bm(t,r){return-131069&t|r<<2}function Jv(t){return 1|t}function ey(t,r,o,a,c){const m=t[o+1],y=null===r;let b=a?Au(m):Cu(m),x=!1;for(;0!==b&&(!1===x||y);){const ee=t[b+1];k0(t[b],r)&&(x=!0,t[b+1]=a?Jv(ee):Xv(ee)),b=a?Au(ee):Cu(ee)}x&&(t[o+1]=a?Xv(m):Jv(m))}function k0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ll(t,r)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ty(t){return t.substring(co.key,co.keyEnd)}function V0(t,r){const o=co.textEnd;return o===r?-1:(r=co.keyEnd=function ZE(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,co.key=r,o),sf(t,r,o))}function sf(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function xd(t,r){return function Fa(t,r,o,a){const c=Rt(),m=xt(),y=Ts(2);m.firstUpdatePass&&iy(m,t,y,a),r!==Rr&&Oo(c,y,r)&&jm(m,m.data[oe()],c,c[Zn],t,c[y+1]=function Wo(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=pe($o(t)))),t}(r,o),a,y)}(t,r,null,!0),xd}function Pp(t){!function zo(t,r,o,a){const c=xt(),m=Ts(2);c.firstUpdatePass&&iy(c,null,m,a);const y=Rt();if(o!==Rr&&Oo(y,m,o)){const b=c.data[oe()];if(ay(b,a)&&!Mp(c,m)){let x=a?b.classesWithoutHost:b.stylesWithoutHost;null!==x&&(o=De(x,o||"")),Ap(c,b,y,o,a)}else!function oy(t,r,o,a,c,m,y,b){c===Rr&&(c=rn);let x=0,H=0,ee=0<c.length?c[0]:null,Ee=0<m.length?m[0]:null;for(;null!==ee||null!==Ee;){const Ke=x<c.length?c[x+1]:void 0,ot=H<m.length?m[H+1]:void 0;let Kt,Ot=null;ee===Ee?(x+=2,H+=2,Ke!==ot&&(Ot=Ee,Kt=ot)):null===Ee||null!==ee&&ee<Ee?(x+=2,Ot=ee):(H+=2,Ot=Ee,Kt=ot),null!==Ot&&jm(t,r,o,a,Ot,Kt,y,b),ee=x<c.length?c[x]:null,Ee=H<m.length?m[H]:null}}(c,b,y,y[Zn],y[m+1],y[m+1]=function bu(t,r,o){if(null==o||""===o)return rn;const a=[],c=$o(o);if(Array.isArray(c))for(let m=0;m<c.length;m++)t(a,c[m],!0);else if("object"==typeof c)for(const m in c)c.hasOwnProperty(m)&&t(a,m,c[m]);else"string"==typeof c&&r(a,c);return a}(t,r,o),a,m)}}(Go,Xa,t,!0)}function Xa(t,r){for(let o=function L0(t){return function ny(t){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=t.length}(t),V0(t,sf(t,0,co.textEnd))}(r);o>=0;o=V0(r,o))go(t,ty(r),!0)}function Mp(t,r){return r>=t.expandoStartIndex}function iy(t,r,o,a){const c=t.data;if(null===c[o+1]){const m=c[oe()],y=Mp(t,o);ay(m,a)&&null===r&&!y&&(r=!1),r=function U0(t,r,o,a){const c=function An(t){const r=wt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let m=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Nd(o=xp(null,t,r,o,a),r.attrs,a),m=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==c)if(o=xp(c,t,r,o,a),null===m){let x=function sy(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Cu(a))return t[Au(a)]}(t,r,a);void 0!==x&&Array.isArray(x)&&(x=xp(null,t,r,x[1],a),x=Nd(x,r.attrs,a),function Op(t,r,o,a){t[Au(o?r.classBindings:r.styleBindings)]=a}(t,r,a,x))}else m=function j0(t,r,o){let a;const c=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<c;m++)a=Nd(a,t[m].hostAttrs,o);return Nd(a,r.attrs,o)}(t,r,a)}return void 0!==m&&(a?r.residualClasses=m:r.residualStyles=m),o}(c,m,r,a),function Wc(t,r,o,a,c,m){let y=m?r.classBindings:r.styleBindings,b=Au(y),x=Cu(y);t[a]=o;let ee,H=!1;if(Array.isArray(o)?(ee=o[1],(null===ee||Ll(o,ee)>0)&&(H=!0)):ee=o,c)if(0!==x){const Ke=Au(t[b+1]);t[a+1]=Sp(Ke,b),0!==Ke&&(t[Ke+1]=Bm(t[Ke+1],a)),t[b+1]=function qE(t,r){return 131071&t|r<<17}(t[b+1],a)}else t[a+1]=Sp(b,0),0!==b&&(t[b+1]=Bm(t[b+1],a)),b=a;else t[a+1]=Sp(x,0),0===b?b=a:t[x+1]=Bm(t[x+1],a),x=a;H&&(t[a+1]=Xv(t[a+1])),ey(t,ee,a,!0),ey(t,ee,a,!1),function N0(t,r,o,a,c){const m=c?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&Ll(m,r)>=0&&(o[a+1]=Jv(o[a+1]))}(r,ee,t,a,m),y=Sp(b,x),m?r.classBindings=y:r.styleBindings=y}(c,m,r,o,y,a)}}function xp(t,r,o,a,c){let m=null;const y=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<y&&(m=r[b],a=Nd(a,m.hostAttrs,c),m!==t);)b++;return null!==t&&(o.directiveStylingLast=b),a}function Nd(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let m=0;m<r.length;m++){const y=r[m];"number"==typeof y?c=y:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),go(t,y,!!o||r[++m]))}return void 0===t?null:t}function Go(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&go(t,a,o)}function jm(t,r,o,a,c,m,y,b){if(!(3&r.type))return;const x=t.data,H=x[b+1],ee=function O0(t){return 1==(1&t)}(H)?kd(x,r,o,c,Cu(H),y):void 0;qc(ee)||(qc(m)||function WE(t){return 2==(2&t)}(H)&&(m=kd(x,null,o,c,b,y)),function d_(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let m=-1===a.indexOf("-")?void 0:Ku.DashCase;null==c?t.removeStyle(o,a,m):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),m|=Ku.Important),t.setStyle(o,a,c,m))}}(a,y,tr(oe(),o),c,m))}function kd(t,r,o,a,c,m){const y=null===r;let b;for(;c>0;){const x=t[c],H=Array.isArray(x),ee=H?x[1]:x,Ee=null===ee;let Ke=o[c+1];Ke===Rr&&(Ke=Ee?rn:void 0);let ot=Ee?js(Ke,a):ee===a?Ke:void 0;if(H&&!qc(ot)&&(ot=js(x,a)),qc(ot)&&(b=ot,y))return b;const Ot=t[c+1];c=y?Au(Ot):Cu(Ot)}if(null!==r){let x=m?r.residualClasses:r.residualStyles;null!=x&&(b=js(x,a))}return b}function qc(t){return void 0!==t}function ay(t,r){return 0!=(t.flags&(r?8:16))}function Np(t,r=""){const o=Rt(),a=xt(),c=t+er,m=a.firstCreatePass?yd(a,c,1,r,null):a.data[c],y=Su(a,o,m,r,t);o[c]=y,kr()&&Hl(a,o,y,m),lr(m,!1)}let Su=(t,r,o,a,c)=>(Kr(!0),function Tc(t,r){return t.createText(r)}(r[Zn],a));function nc(t){return zm("",t,""),nc}function zm(t,r,o){const a=Rt(),c=function qh(t,r,o,a){return Oo(t,Sr(),o)?r+Le(o)+a:Rr}(a,t,r,o);return c!==Rr&&Zl(a,oe(),c),zm}function Gm(t,r,o,a,c){const m=Rt(),y=Sd(m,t,r,o,a,c);return y!==Rr&&Zl(m,oe(),y),Gm}const Qt=void 0;var un=["en",[["a","p"],["AM","PM"],Qt],[["AM","PM"],Qt,Qt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qt,"{1} 'at' {0}",Qt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ln(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Kn={};function nr(t){const r=function K0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ni(r);if(o)return o;const a=r.split("-")[0];if(o=ni(a),o)return o;if("en"===a)return un;throw new ye(701,!1)}function Pi(t){return nr(t)[wo.PluralCase]}function ni(t){return t in Kn||(Kn[t]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[t]),Kn[t]}var wo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(wo||{});const Lp="en-US";let XE=Lp;function X0(t,r,o,a,c){if(t=ge(t),Array.isArray(t))for(let m=0;m<t.length;m++)X0(t[m],r,o,a,c);else{const m=xt(),y=Rt(),b=zt();let x=pu(t)?t:ge(t.provide);const H=Uf(t),ee=1048575&b.providerIndexes,Ee=b.directiveStart,Ke=b.providerIndexes>>20;if(pu(t)||!t.multi){const ot=new ao(H,c,Vc),Ot=eE(x,r,c?ee:ee+Ke,Ee);-1===Ot?(Zc(ku(b,y),m,x),J0(m,t,r.length),r.push(x),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(ot),y.push(ot)):(o[Ot]=ot,y[Ot]=ot)}else{const ot=eE(x,r,ee+Ke,Ee),Ot=eE(x,r,ee,ee+Ke),_n=Ot>=0&&o[Ot];if(c&&!_n||!c&&!(ot>=0&&o[ot])){Zc(ku(b,y),m,x);const jn=function tT(t,r,o,a,c){const m=new ao(t,o,Vc);return m.multi=[],m.index=r,m.componentProviders=0,wI(m,c,a&&!o),m}(c?eT:Jw,o.length,c,a,H);!c&&_n&&(o[Ot].providerFactory=jn),J0(m,t,r.length,0),r.push(x),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(jn),y.push(jn)}else J0(m,t,ot>-1?ot:Ot,wI(o[c?Ot:ot],H,!c&&a));!c&&a&&_n&&o[Ot].componentProviders++}}}function J0(t,r,o,a){const c=pu(r),m=function O_(t){return!!t.useClass}(r);if(c||m){const x=(m?ge(r.useClass):r).prototype.ngOnDestroy;if(x){const H=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const ee=H.indexOf(o);-1===ee?H.push(o,[a,x]):H[ee+1].push(a,x)}else H.push(o,x)}}}function wI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function eE(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function Jw(t,r,o,a){return tE(this.multi,[])}function eT(t,r,o,a){const c=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=cl(o,o[en],this.providerFactory.index,a);m=b.slice(0,y),tE(c,m);for(let x=y;x<b.length;x++)m.push(b[x])}else m=[],tE(c,m);return m}function tE(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function TI(t,r=[]){return o=>{o.providersResolver=(a,c)=>function Xw(t,r,o){const a=xt();if(a.firstCreatePass){const c=ls(t);X0(o,a.data,a.blueprint,c,!0),X0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class af{}class AI{}function nT(t,r){return new nE(t,null!=r?r:null,[])}class nE extends af{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hv(this);const c=ki(r);this._bootstrapComponents=Ka(c.bootstrap),this._r3Injector=Zf(r,o,[{provide:af,useValue:this},{provide:Th,useValue:this.componentFactoryResolver},...a],pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class rE extends AI{constructor(r){super(),this.moduleType=r}create(r){return new nE(this.moduleType,r,[])}}class CI extends af{constructor(r){super(),this.componentFactoryResolver=new hv(this),this.instance=null;const o=new Bf([...r.providers,{provide:af,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],r.parent||fh(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function bI(t,r,o=null){return new CI({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let iT=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=ql(0,a.type),m=c.length>0?bI([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,m)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=It({token:t,providedIn:"environment",factory:()=>new t(Zt(Ya))}),r})();function SI(t){t.getStandaloneInjector=r=>r.get(iT).getOrCreateStandaloneInjector(t)}function PT(){return this._results[Symbol.iterator]()}class sE{get changes(){return this._changes||(this._changes=new xa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=PT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Us(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Gd(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],m=r[a];if(o&&(c=o(c),m=o(m)),m!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function OT(t,r,o,a=!0){const c=r[en];if(function ed(t,r,o,a){const c=Fi+a,m=o.length;a>0&&(o[c-1][Bi]=r),a<m-Fi?(r[Bi]=o[c],Wd(o,Fi+a,r)):(o.push(r),r[Bi]=null),r[Ir]=o;const y=r[Is];null!==y&&o!==y&&function Rf(t,r){const o=t[ro];r[br]!==r[Ir][Ir][br]&&(t[rr]=!0),null===o?t[ro]=[r]:o.push(r)}(y,r);const b=r[ss];null!==b&&b.insertView(t),r[qn]|=128}(c,r,t,o),a){const m=zl(o,t),y=r[Zn],b=Ki(y,t[qi]);null!==b&&function fi(t,r,o,a,c,m){a[ui]=c,a[Jr]=r,Gl(t,a,o,1,c,m)}(c,t[Jr],y,r,b,m)}}let n_=(()=>{class r{}return r.__NG_ELEMENT_ID__=kT,r})();const xT=n_,NT=class extends xT{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function MT(t,r,o,a){var c,m;const y=r.tView,H=vd(t,y,o,4096&t[qn]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(m=null==a?void 0:a.hydrationInfo)&&void 0!==m?m:null);H[Is]=t[r.index];const Ee=t[ss];return null!==Ee&&(H[ss]=Ee.createEmbeddedView(y)),Vh(y,H,o),H}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Uh(c)}};function kT(){return Ty(zt(),Rt())}function Ty(t,r){return 4&t.type?new NT(r,t,Hs(t,r)):null}let Cy=(()=>{class r{}return r.__NG_ELEMENT_ID__=UT,r})();function UT(){return WI(zt(),Rt())}const jT=Cy,zI=class extends jT{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const r=sc(this._hostTNode,this._hostLView);if(ll(r)){const o=Ol(r,this._hostLView),a=ba(r);return new Dr(o[en].data[a+8],o)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=GI(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(r,o,a){let c,m;"number"==typeof a?c=a:null!=a&&(c=a.index,m=a.injector);const b=r.createEmbeddedViewImpl(o||{},m,null);return this.insertImpl(b,c,false),b}createComponent(r,o,a,c,m){var y,x;const H=r&&!function ea(t){return"function"==typeof t}(r);let ee;if(H)ee=o;else{const jt=o||{};ee=jt.index,a=jt.injector,c=jt.projectableNodes,m=jt.environmentInjector||jt.ngModuleRef}const Ee=H?r:new jh(zn(r)),Ke=a||this.parentInjector;if(!m&&null==Ee.ngModule){const yr=(H?Ke:this.parentInjector).get(Ya,null);yr&&(m=yr)}const ot=zn(null!==(y=Ee.componentType)&&void 0!==y?y:{}),Ot=(null==ot?void 0:ot.id,null),Kt=null!==(x=null==Ot?void 0:Ot.firstChild)&&void 0!==x?x:null,_n=Ee.create(Ke,c,Kt,m),jn=!!Ot&&!ml(this._hostTNode);return this.insertImpl(_n.hostView,ee,jn),_n}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function N(t){return Yi(t[Ir])}(c)){const x=this.indexOf(r);if(-1!==x)this.detach(x);else{const H=c[Ir],ee=new zI(H,H[Jr],H[Ir]);ee.detach(ee.indexOf(r))}}const y=this._adjustIndex(o),b=this._lContainer;return OT(b,c,y,!a),r.attachToViewContainerRef(),Wd(oE(b),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=GI(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=I(this._lContainer,o);a&&(Fl(oE(this._lContainer),o),h(a[en],a))}detach(r){const o=this._adjustIndex(r,-1),a=I(this._lContainer,o);return a&&null!=Fl(oE(this._lContainer),o)?new Uh(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function GI(t){return t[8]}function oE(t){return t[8]||(t[8]=[])}function WI(t,r){let o;const a=r[t.index];return Yi(a)?o=a:(o=Dd(a,r,null,t),r[t.index]=o,wd(r,o)),qI(o,r,t,a),new zI(o,t,r)}let qI=function YI(t,r,o,a){if(t[qi])return;let c;c=8&o.type?En(a):function HT(t,r){const o=t[Zn],a=o.createComment(""),c=Dn(r,t);return ft(o,Ki(o,c),a,function _a(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[qi]=c};class aE{constructor(r){this.queryList=r,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class lE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let m=0;m<a;m++){const y=o.getByIndex(m);c.push(this.queries[y.indexInDeclarationView].clone())}return new lE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==rD(r,o).matches&&this.queries[o].setDirty()}}class KI{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class cE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,m=this.getByIndex(a).embeddedTView(r,c);m&&(m.indexInDeclarationView=a,null!==o?o.push(m):o=[m])}return null!==o?new cE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class uE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new uE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const m=a[c];this.matchTNodeWithReadOption(r,o,WT(o,m)),this.matchTNodeWithReadOption(r,o,gs(o,r,m,!1,!1))}else a===n_?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,gs(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Ah||c===Cy||c===n_&&4&o.type)this.addMatch(o.index,-2);else{const m=gs(o,r,c,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function WT(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function YT(t,r,o,a){return-1===o?function qT(t,r){return 11&t.type?Hs(t,r):4&t.type?Ty(t,r):null}(r,t):-2===o?function KT(t,r,o){return o===Ah?Hs(r,t):o===n_?Ty(r,t):o===Cy?WI(r,t):void 0}(t,r,a):cl(t,t[en],o,r)}function ZI(t,r,o,a){const c=r[ss].queries[a];if(null===c.matches){const m=t.data,y=o.matches,b=[];for(let x=0;x<y.length;x+=2){const H=y[x];b.push(H<0?null:YT(r,m[H],y[x+1],o.metadata.read))}c.matches=b}return c.matches}function dE(t,r,o,a){const c=t.queries.getByIndex(o),m=c.matches;if(null!==m){const y=ZI(t,r,c,o);for(let b=0;b<m.length;b+=2){const x=m[b];if(x>0)a.push(y[b/2]);else{const H=m[b+1],ee=r[-x];for(let Ee=Fi;Ee<ee.length;Ee++){const Ke=ee[Ee];Ke[Is]===Ke[Ir]&&dE(Ke[en],Ke,H,a)}if(null!==ee[ro]){const Ee=ee[ro];for(let Ke=0;Ke<Ee.length;Ke++){const ot=Ee[Ke];dE(ot[en],ot,H,a)}}}}}return a}function QI(t){const r=Rt(),o=xt(),a=ua();zr(a+1);const c=rD(o,a);if(t.dirty&&function E(t){return 4==(4&t[qn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const m=c.crossesNgTemplate?dE(o,r,a,[]):ZI(o,r,c,a);t.reset(m,L_),t.notifyOnChanges()}return!0}return!1}function XI(t,r,o){const a=xt();a.firstCreatePass&&(nD(a,new KI(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),tD(a,Rt(),r)}function JI(t,r,o,a){const c=xt();if(c.firstCreatePass){const m=zt();nD(c,new KI(r,o,a),m.index),function QT(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}tD(c,Rt(),o)}function eD(){return function ZT(t,r){return t[ss].queries[r].queryList}(Rt(),ua())}function tD(t,r,o){const a=new sE(4==(4&o));(function Id(t,r,o,a){const c=mm(r);c.push(o),t.firstCreatePass&&Lh(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[ss]&&(r[ss]=new lE),r[ss].queries.push(new aE(a))}function nD(t,r,o){null===t.queries&&(t.queries=new cE),t.queries.track(new uE(r,o))}function rD(t,r){return t.queries.getByIndex(r)}function hE(t){return!!ki(t)}const ED=new Qr("Application Initializer");let _E=(()=>{var t;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,m)=>{this.resolve=c,this.reject=m}),this.appInits=null!==(a=pn(ED,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const m of this.appInits){const y=m();if(km(y))a.push(y);else if(Fm(y)){const b=new Promise((x,H)=>{y.subscribe({complete:x,error:H})});a.push(b)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(m=>{this.reject(m)}),0===a.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),ID=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const Sy=new Qr("LocaleId",{providedIn:"root",factory:()=>pn(Sy,tn.Optional|tn.SkipSelf)||function yA(){return typeof $localize<"u"&&$localize.locale||Lp}()}),EA=new Qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let DD=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class DA{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let wA=(()=>{var t;class r{compileModuleSync(a){return new rE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=Ka(ki(a).declarations).reduce((b,x)=>{const H=zn(x);return H&&b.push(new jh(H)),b},[]);return new DA(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const CD=new Qr(""),bD=new Qr("");let EE,HA=(()=>{var t;class r{constructor(a,c,m){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EE||(function zA(t){EE=t}(m),m.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,m){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:m})}whenStable(a,c,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,m){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(Zt(eo),Zt(SD),Zt(bD))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),r})(),SD=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var m,y;return null!==(m=null===(y=EE)||void 0===y?void 0:y.findTestabilityInTree(this,a,c))&&void 0!==m?m:null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Fd=null;const RD=new Qr("AllowMultipleToken"),IE=new Qr("PlatformDestroyListeners"),DE=new Qr("appBootstrapListener");class qA{constructor(r,o){this.name=r,this.token=o}}function OD(t,r,o=[]){const a=`Platform: ${r}`,c=new Qr(a);return(m=[])=>{let y=wE();if(!y||y.injector.get(RD,!1)){const b=[...o,...m,{provide:c,useValue:!0}];t?t(b):function YA(t){if(Fd&&!Fd.get(RD,!1))throw new ye(400,!1);(function PD(){!function Ta(t){Da=t}(()=>{throw new ye(600,!1)})})(),Fd=t;const r=t.get(ND);(function MD(t){const r=t.get(ph,null);null==r||r.forEach(o=>o())})(t)}(function xD(t=[],r){return va.create({name:r,providers:[{provide:Eg,useValue:"platform"},{provide:IE,useValue:new Set([()=>Fd=null])},...t]})}(b,a))}return function ZA(t){const r=wE();if(!r)throw new ye(401,!1);return r}()}}function wE(){var t,r;return null!==(t=null===(r=Fd)||void 0===r?void 0:r.get(ND))&&void 0!==t?t:null}let ND=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const m=function QA(t="zone.js",r){return"noop"===t?new t0:"zone.js"===t?new eo(r):t}(null==c?void 0:c.ngZone,function kD(t){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return m.run(()=>{const y=function rT(t,r,o){return new nE(t,r,o)}(a.moduleType,this.injector,function $D(t){return[{provide:eo,useFactory:t},{provide:Il,multi:!0,useFactory:()=>{const r=pn(JA,{optional:!0});return()=>r.initialize()}},{provide:BD,useFactory:XA},{provide:Qf,useFactory:W_}]}(()=>m)),b=y.injector.get(Eu,null);return m.runOutsideAngular(()=>{const x=m.onError.subscribe({next:H=>{b.handleError(H)}});y.onDestroy(()=>{Py(this._modules,y),x.unsubscribe()})}),function FD(t,r,o){try{const a=o();return km(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(b,m,()=>{const x=y.injector.get(_E);return x.runInitializers(),x.donePromise.then(()=>(function JE(t){Ut(t,"Expected localeId to be defined"),"string"==typeof t&&(XE=t.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Sy,Lp)||Lp),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,c=[]){const m=LD({},c);return function GA(t,r,o){const a=new rE(o);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(a){const c=a.injector.get($p);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>c.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new ye(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(IE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(Zt(va))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function LD(t,r){return Array.isArray(r)?r.reduce(LD,t):{...t,...r}}let $p=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(BD),this.zoneIsStable=pn(Qf),this.componentTypes=[],this.components=[],this.isStable=pn(DD).hasPendingTasks.pipe((0,ne.w)(a=>a?(0,K.of)(!1):this.zoneIsStable),(0,Ie.x)(),(0,Z.B)()),this._injector=pn(Ya)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const m=a instanceof Og;if(!this._injector.get(_E).done)throw!m&&rs(a),new ye(405,!1);let b;b=m?a:this._injector.get(Th).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function WA(t){return t.isBoundToModule}(b)?void 0:this._injector.get(af),ee=b.create(va.NULL,[],c||b.selector,x),Ee=ee.location.nativeElement,Ke=ee.injector.get(CD,null);return null==Ke||Ke.registerApplication(Ee),ee.onDestroy(()=>{this.detachView(ee.hostView),Py(this.components,ee),null==Ke||Ke.unregisterApplication(Ee)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Py(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(DE,[]);c.push(...this._bootstrapListeners),c.forEach(m=>m(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Py(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ye(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Py(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const BD=new Qr("",{providedIn:"root",factory:()=>pn(Eu).handleError.bind(void 0)});function XA(){const t=pn(eo),r=pn(Eu);return o=>t.runOutsideAngular(()=>r.handleError(o))}let JA=(()=>{var t;class r{constructor(){this.zone=pn(eo),this.applicationRef=pn($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function tC(){return!1}function nC(){}let rC=(()=>{class r{}return r.__NG_ELEMENT_ID__=iC,r})();function iC(t){return function sC(t,r,o){if(as(t)&&!o){const a=L(t.index,r);return new Uh(a,a)}return 47&t.type?new Uh(r[br],r):null}(zt(),Rt(),16==(16&t))}class zD{constructor(){}supports(r){return mp(r)}create(r){return new dC(r)}}const uC=(t,r)=>r;class dC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||uC}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,m=null;for(;o||a;){const y=!a||o&&o.currentIndex<WD(a,c,m)?o:a,b=WD(y,c,m),x=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{m||(m=[]);const H=b-c,ee=x-c;if(H!=ee){for(let Ke=0;Ke<H;Ke++){const ot=Ke<m.length?m[Ke]:m[Ke]=0,Ot=ot+Ke;ee<=Ot&&Ot<H&&(m[Ke]=ot+1)}m[y.previousIndex]=ee-H}}b!==x&&r(y,b,x)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!mp(r))throw new ye(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,m,y,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let b=0;b<this.length;b++)m=r[b],y=this._trackByFn(b,m),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,m,y,b)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,y,b),a=!0),o=o._next}else c=0,function $E(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,b=>{y=this._trackByFn(c,b),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,b,y,c)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,y,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,m,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,m,c)):r=this._addAfter(new hC(o,a),m,c),r}_verifyReinsertion(r,o,a,c){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?r=this._reinsertAfter(m,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,m=r._nextRemoved;return null===c?this._removalsHead=m:c._nextRemoved=m,null===m?this._removalsTail=c:m._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new GD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class hC{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class GD{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new fC,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WD(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class qD{constructor(){}supports(r){return r instanceof Map||Tv(r)}create(){return new pC}}class pC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Tv(r)))throw new ye(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const m=c._prev,y=c._next;return m&&(m._next=y),y&&(y._prev=m),c._next=null,c._prev=null,c}const a=new gC(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class gC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YD(){return new SE([new zD])}let SE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const m=c.factories.slice();a=a.concat(m)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||YD()),deps:[[r,new cc,new lc]]}}find(a){const c=this.factories.find(m=>m.supports(a));if(null!=c)return c;throw new ye(901,!1)}}return(t=r).\u0275prov=It({token:t,providedIn:"root",factory:YD}),r})();function KD(){return new RE([new qD])}let RE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(c){const m=c.factories.slice();a=a.concat(m)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||KD()),deps:[[r,new cc,new lc]]}}find(a){const c=this.factories.find(m=>m.supports(a));if(c)return c;throw new ye(901,!1)}}return(t=r).\u0275prov=It({token:t,providedIn:"root",factory:KD}),r})();const vC=OD(null,"core",[]);let yC=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(Zt($p))},t.\u0275mod=xi({type:t}),t.\u0275inj=Xt({}),r})();function PC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function OC(t,r){const o=zn(t),a=r.elementInjector||fh();return new jh(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function xC(t){const r=zn(t);if(!r)return null;const o=new jh(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(Ct,me,P)=>{"use strict";P.d(me,{zQ:()=>Et,ww:()=>In,rT:()=>qe,f7:()=>rt,L6:()=>Me,_Q:()=>Te,lh:()=>$e,Qv:()=>ke,nw:()=>$t});var g=P(1180),V=(P(8290),P(6814)),U=P(5879),Q=P(8326),K=P(7217),Z=P(8645),ne=P(2096),Ie=P(5592),se=P(2459),W=P(3019),fe=P(3093),pe=P(4664),De=P(7398),Pe=P(4552);class Qe extends Z.x{constructor(he=1/0,we=1/0,be=Pe.l){super(),this._bufferSize=he,this._windowTime=we,this._timestampProvider=be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=we===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,we)}next(he){const{isStopped:we,_buffer:be,_infiniteTimeWindow:Ye,_timestampProvider:Ze,_windowTime:Xe}=this;we||(be.push(he),!Ye&&be.push(Ze.now()+Xe)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const we=this._innerSubscribe(he),{_infiniteTimeWindow:be,_buffer:Ye}=this,Ze=Ye.slice();for(let Xe=0;Xe<Ze.length&&!he.closed;Xe+=be?1:2)he.next(Ze[Xe]);return this._checkFinalizedStatuses(he),we}_trimBuffer(){const{_bufferSize:he,_timestampProvider:we,_buffer:be,_infiniteTimeWindow:Ye}=this,Ze=(Ye?1:2)*he;if(he<1/0&&Ze<be.length&&be.splice(0,be.length-Ze),!Ye){const Xe=we.now();let Lt=0;for(let Ut=1;Ut<be.length&&be[Ut]<=Xe;Ut+=2)Lt=Ut;Lt&&be.splice(0,Lt+1)}}}var ge=P(3020);function Ae(tt,he,we){let be,Ye=!1;return tt&&"object"==typeof tt?({bufferSize:be=1/0,windowTime:he=1/0,refCount:Ye=!1,scheduler:we}=tt):be=null!=tt?tt:1/0,(0,ge.B)({connector:()=>new Qe(be,he,we),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ye})}var je=P(1374),ze=P(4674);function te(tt,he){return(0,ze.m)(he)?(0,pe.w)(()=>tt,he):(0,pe.w)(()=>tt)}var ye=P(5137),Oe=P(2181),Le=P(7142);const ke=new U.OlP("angularfire2.auth.use-emulator"),Me=new U.OlP("angularfire2.auth.settings"),Te=new U.OlP("angularfire2.auth.tenant-id"),qe=new U.OlP("angularfire2.auth.langugage-code"),$e=new U.OlP("angularfire2.auth.use-device-language"),rt=new U.OlP("angularfire.auth.persistence"),$t=(tt,he,we,be,Ye,Ze,Xe,Lt)=>(0,K.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Ut=he.runOutsideAngular(()=>tt.auth());if(we&&Ut.useEmulator(...we),be&&(Ut.tenantId=be),Ut.languageCode=Ye,Ze&&Ut.useDeviceLanguage(),Xe)for(const[it,ut]of Object.entries(Xe))Ut.settings[it]=ut;return Lt&&Ut.setPersistence(Lt),Ut},[we,be,Ye,Ze,Xe,Lt]);let Et=(()=>{var tt;class he{constructor(be,Ye,Ze,Xe,Lt,Ut,it,ut,dt,vt,It,Wt){(0,g.Z)(this,"authState",void 0),(0,g.Z)(this,"idToken",void 0),(0,g.Z)(this,"user",void 0),(0,g.Z)(this,"idTokenResult",void 0),(0,g.Z)(this,"credential",void 0);const Xt=new Z.x,dn=(0,ne.of)(void 0).pipe((0,fe.Q)(Lt.outsideAngular),(0,pe.w)(()=>Xe.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8290)))),(0,De.U)(()=>(0,K.on)(be,Xe,Ye)),(0,De.U)(fn=>$t(fn,Xe,Ut,ut,dt,vt,it,It)),Ae({bufferSize:1,refCount:!1}));if((0,V.PM)(Ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{dn.pipe((0,je.P)()).subscribe();const fn=dn.pipe((0,pe.w)(Tt=>Tt.getRedirectResult().then(Qn=>Qn,()=>null)),Q.iC,Ae({bufferSize:1,refCount:!1})),qt=dn.pipe((0,pe.w)(Tt=>new Ie.y(Qn=>({unsubscribe:Xe.runOutsideAngular(()=>Tt.onAuthStateChanged(hr=>Qn.next(hr),hr=>Qn.error(hr),()=>Qn.complete()))})))),sr=dn.pipe((0,pe.w)(Tt=>new Ie.y(Qn=>({unsubscribe:Xe.runOutsideAngular(()=>Tt.onIdTokenChanged(hr=>Qn.next(hr),hr=>Qn.error(hr),()=>Qn.complete()))}))));this.authState=fn.pipe(te(qt),(0,ye.R)(Lt.outsideAngular),(0,fe.Q)(Lt.insideAngular)),this.user=fn.pipe(te(sr),(0,ye.R)(Lt.outsideAngular),(0,fe.Q)(Lt.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Tt=>Tt?(0,se.D)(Tt.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Tt=>Tt?(0,se.D)(Tt.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,W.T)(fn,Xt,this.authState.pipe((0,Oe.h)(Tt=>!Tt))).pipe((0,De.U)(Tt=>null!=Tt&&Tt.user?Tt:null),(0,ye.R)(Lt.outsideAngular),(0,fe.Q)(Lt.insideAngular))}return(0,K.pX)(this,dn,Xe,{spy:{apply:(fn,qt,sr)=>{(fn.startsWith("signIn")||fn.startsWith("createUser"))&&sr.then(Tt=>Xt.next(Tt))}}})}}return tt=he,(0,g.Z)(he,"\u0275fac",function(be){return new(be||tt)(U.LFG(K.Dh),U.LFG(K.xv,8),U.LFG(U.Lbi),U.LFG(U.R0b),U.LFG(Q.HU),U.LFG(ke,8),U.LFG(Me,8),U.LFG(Te,8),U.LFG(qe,8),U.LFG($e,8),U.LFG(rt,8),U.LFG(Q.Rf,8))}),(0,g.Z)(he,"\u0275prov",U.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})),he})(),In=(()=>{var tt;class he{constructor(){Le.Z.registerVersion("angularfire",Q.q4.full,"auth-compat")}}return tt=he,(0,g.Z)(he,"\u0275fac",function(be){return new(be||tt)}),(0,g.Z)(he,"\u0275mod",U.oAB({type:tt})),(0,g.Z)(he,"\u0275inj",U.cJS({providers:[Et]})),he})()},9027:(Ct,me,P)=>{"use strict";P.d(me,{ST:()=>vy,yb:()=>Y0});var g=P(1180),f=P(6814),V=P(5879),U=P(8326),Q=P(7217),K=P(7213),Z=P(6321),ne=P(5592),Ie=P(2459),se=P(2096),W=P(7921),fe=P(9360),pe=P(8251);function De(){return(0,fe.e)((i,e)=>{let n,s=!1;i.subscribe((0,pe.x)(e,l=>{const u=n;n=l,s&&e.next([u,l]),s=!0}))})}var Te,Pe=P(7398),Qe=P(6699),ge=P(3997),Ae=P(2181),ze=(P(8290),P(3106)),te=P(5861),ye=P(534),Oe=P(4537),Le=P(7879),ve=P(9058),ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},qe=qe||{},$e=ke||self;function rt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $t(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var In="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function he(i,e,n){return i.call.apply(i.bind,arguments)}function we(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function be(i,e,n){return(be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:we).apply(null,arguments)}function Ye(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ze(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,u){for(var v=Array(arguments.length-2),M=2;M<arguments.length;M++)v[M-2]=arguments[M];return e.prototype[l].apply(s,v)}}function Xe(){this.s=this.s,this.o=this.o}Xe.prototype.s=!1,Xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Et(i){Object.prototype.hasOwnProperty.call(i,In)&&i[In]||(i[In]=++tt)}(this)},Xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ut=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function it(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function ut(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(rt(s)){const l=i.length||0,u=s.length||0;i.length=l+u;for(let v=0;v<u;v++)i[l+v]=s[v]}else i.push(s)}}function dt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return i}();function It(i){return/^[\s\xa0]*$/.test(i)}function Wt(){var i=$e.navigator;return i&&(i=i.userAgent)?i:""}function Xt(i){return-1!=Wt().indexOf(i)}function dn(i){return dn[" "](i),i}dn[" "]=function(){};var tn,i,qt=Xt("Opera"),sr=Xt("Trident")||Xt("MSIE"),Tt=Xt("Edge"),Qn=Tt||sr,hr=Xt("Gecko")&&!(-1!=Wt().toLowerCase().indexOf("webkit")&&!Xt("Edge"))&&!(Xt("Trident")||Xt("MSIE"))&&!Xt("Edge"),fr=-1!=Wt().toLowerCase().indexOf("webkit")&&!Xt("Edge");function $r(){var i=$e.document;return i?i.documentMode:void 0}e:{var Fn="",Gr=(i=Wt(),hr?/rv:([^\);]+)(\)|;)/.exec(i):Tt?/Edge\/([\d\.]+)/.exec(i):sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):fr?/WebKit\/(\S+)/.exec(i):qt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Gr&&(Fn=Gr?Gr[1]:""),sr){var cr=$r();if(null!=cr&&cr>parseFloat(Fn)){tn=String(cr);break e}}tn=Fn}var Xn=$e.document&&sr&&($r()||parseInt(tn,10))||void 0;function Cr(i,e){if(dt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(hr){e:{try{dn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:pr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Cr.$.h.call(this)}}Ze(Cr,dt);var pr={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ii="closure_listenable_"+(1e6*Math.random()|0),Gn=0;function Ti(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++Gn,this.fa=this.ia=!1}function Or(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function jr(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function pi(i){const e={};for(const n in i)e[n]=i[n];return e}const Fr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ai(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let u=0;u<Fr.length;u++)n=Fr[u],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Wr(i){this.src=i,this.g={},this.h=0}function Xi(i,e){var n=e.type;if(n in i.g){var u,s=i.g[n],l=Ut(s,e);(u=0<=l)&&Array.prototype.splice.call(s,l,1),u&&(Or(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function gi(i,e,n,s){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==s)return l}return-1}Wr.prototype.add=function(i,e,n,s,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var v=gi(i,e,s,l);return-1<v?(e=i[v],n||(e.ia=!1)):((e=new Ti(e,this.src,u,!!s,l)).ia=n,i.push(e)),e};var vi="closure_lm_"+(1e6*Math.random()|0),Lr={};function Ge(i,e,n,s,l){if(s&&s.once)return Fe(i,e,n,s,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ge(i,e[u],n,s,l);return null}return n=pn(n),i&&i[ii]?i.O(e,n,$t(s)?!!s.capture:!!s,l):ie(i,e,n,!1,s,l)}function ie(i,e,n,s,l,u){if(!e)throw Error("Invalid event type");var v=$t(l)?!!l.capture:!!l,M=Zt(i);if(M||(i[vi]=M=new Wr(i)),(n=M.add(e,n,s,v,u)).proxy)return n;if(s=function re(){const e=Vt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)vt||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(gt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function Fe(i,e,n,s,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Fe(i,e[u],n,s,l);return null}return n=pn(n),i&&i[ii]?i.P(e,n,$t(s)?!!s.capture:!!s,l):ie(i,e,n,!0,s,l)}function ue(i,e,n,s,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)ue(i,e[u],n,s,l);else s=$t(s)?!!s.capture:!!s,n=pn(n),i&&i[ii]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=gi(u=i.g[e],n,s,l))&&(Or(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=Zt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=gi(e,n,s,l)),(n=-1<i?e[i]:null)&&Ue(n))}function Ue(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ii])Xi(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(gt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Zt(e))?(Xi(n,i),0==n.h&&(n.src=null,e[vi]=null)):Or(i)}}}function gt(i){return i in Lr?Lr[i]:Lr[i]="on"+i}function Vt(i,e){if(i.fa)i=!0;else{e=new Cr(e,this);var n=i.listener,s=i.la||i.src;i.ia&&Ue(i),i=n.call(s,e)}return i}function Zt(i){return(i=i[vi])instanceof Wr?i:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(i){return"function"==typeof i?i:(i[vn]||(i[vn]=function(e){return i.handleEvent(e)}),i[vn])}function on(){Xe.call(this),this.i=new Wr(this),this.S=this,this.J=null}function Vn(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new dt(e,i);else if(e instanceof dt)e.target=e.target||i;else{var l=e;Ai(e=new dt(s,i),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var v=e.g=n[u];l=Vr(v,s,!0,e)&&l}if(l=Vr(v=e.g=i,s,!0,e)&&l,l=Vr(v,s,!1,e)&&l,n)for(u=0;u<n.length;u++)l=Vr(v=e.g=n[u],s,!1,e)&&l}function Vr(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var v=e[u];if(v&&!v.fa&&v.capture==n){var M=v.listener,F=v.la||v.src;v.ia&&Xi(i.i,v),l=!1!==M.call(F,s)&&l}}return l&&!s.defaultPrevented}Ze(on,Xe),on.prototype[ii]=!0,on.prototype.removeEventListener=function(i,e,n,s){ue(this,i,e,n,s)},on.prototype.N=function(){if(on.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Or(n[s]);delete i.g[e],i.h--}}this.J=null},on.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},on.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Li=$e.JSON.stringify;function Dt(){var i=Pr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Nt=new class si{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gn,i=>i.reset());class gn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Pn(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function rn(i){$e.setTimeout(()=>{throw i},0)}let Wn,wr=!1,Pr=new class at{constructor(){this.h=this.g=null}add(e,n){const s=Nt.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},oi=()=>{const i=$e.Promise.resolve(void 0);Wn=()=>{i.then(Xr)}};var Xr=()=>{for(var i;i=Dt();){try{i.h.call(i.g)}catch(n){rn(n)}var e=Nt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}wr=!1};function or(i,e){on.call(this),this.h=i||1,this.g=e||$e,this.j=be(this.qb,this),this.l=Date.now()}function Jn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ns(i,e,n){if("function"==typeof i)n&&(i=be(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=be(i.handleEvent,i)}return 2147483647<Number(e)?-1:$e.setTimeout(i,e||0)}function Fs(i){i.g=ns(()=>{i.g=null,i.i&&(i.i=!1,Fs(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ze(or,on),(Te=or.prototype).ga=!1,Te.T=null,Te.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vn(this,"tick"),this.ga&&(Jn(this),this.start()))}},Te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.N=function(){or.$.N.call(this),Jn(this),delete this.g};class xr extends Xe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(i){Xe.call(this),this.h=i,this.g={}}Ze(Zi,Xe);var yi=[];function ai(i,e,n,s){Array.isArray(n)||(n&&(yi[0]=n.toString()),n=yi);for(var l=0;l<n.length;l++){var u=Ge(e,n[l],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function ds(i){jr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Ue(e)},i),i.g={}}function Oi(){this.g=!0}function ji(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function de(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var v=1;v<l.length;v++)l[v]=""}}}return Li(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Zi.prototype.N=function(){Zi.$.N.call(this),ds(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oi.prototype.Ea=function(){this.g=!1},Oi.prototype.info=function(){};var X={},Re=null;function Ve(){return Re=Re||new on}function pt(i){dt.call(this,X.Ta,i)}function lt(i){const e=Ve();Vn(e,new pt(e))}function At(i,e){dt.call(this,X.STAT_EVENT,i),this.stat=e}function Pt(i){const e=Ve();Vn(e,new At(e,i))}function bt(i,e){dt.call(this,X.Ua,i),this.size=e}function Bt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){i()},e)}X.Ta="serverreachability",Ze(pt,dt),X.STAT_EVENT="statevent",Ze(At,dt),X.Ua="timingevent",Ze(bt,dt);var an={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mn(){}function xi(){}Mn.prototype.h=null;var hs,li={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ni(){dt.call(this,"d")}function ci(){dt.call(this,"c")}function zn(){}function Er(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Zi(this),this.P=rs,this.V=new or(i=Qn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}Ze(Ni,dt),Ze(ci,dt),Ze(zn,Mn),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},hs=new zn;var rs=45e3,ki={},Es={};function to(i,e,n){i.L=1,i.v=ss(Qi(e)),i.s=n,i.S=!0,zs(i,null)}function zs(i,e){i.G=Date.now(),en(i),i.A=Qi(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),ro(n.i,"t",s),i.C=0,n=i.l.J,i.h=new mi,i.g=rl(i.l,n?e:null,!i.s),0<i.O&&(i.M=new xr(be(i.Pa,i,i.g),i.O)),ai(i.U,i.g,"readystatechange",i.nb),e=i.I?pi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),lt(),function Vi(i,e,n,s,l,u){i.info(function(){if(i.g)if(u)for(var v="",M=u.split("&"),F=0;F<M.length;F++){var Y=M[F].split("=");if(1<Y.length){var ce=Y[0];Y=Y[1];var xe=ce.split("_");v=2<=xe.length&&"type"==xe[1]?v+(ce+"=")+Y+"&":v+(ce+"=redacted&")}}else v=null;else v=u;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Gs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function no(i,e,n){let l,s=!0;for(;!i.J&&i.C<n.length;){if(l=ui(i,n),l==Es){4==e&&(i.o=4,Pt(14),s=!1),ji(i.j,i.m,null,"[Incomplete Response]");break}if(l==ki){i.o=4,Pt(15),ji(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}ji(i.j,i.m,l,null),Jr(i,l)}Gs(i)&&l!=Es&&l!=ki&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Pt(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),el(e),e.M=!0,Pt(11))):(ji(i.j,i.m,n,"[Invalid Chunked Response]"),Hi(i),Bi(i))}function ui(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?Es:(n=Number(e.substring(n,s)),isNaN(n)?ki:(s+=1)+n>e.length?Es:(e=e.slice(s,s+n),i.C=s+n,e))}function en(i){i.Y=Date.now()+i.P,qn(i,i.P)}function qn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Bt(be(i.lb,i),e)}function Ir(i){i.B&&($e.clearTimeout(i.B),i.B=null)}function Bi(i){0==i.l.H||i.J||wa(i.l,i)}function Hi(i){Ir(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Jn(i.V),ds(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Jr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ci(n.i,i)))if(!i.K&&Ci(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Da(n),Ao(n)}ws(n),Pt(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bt(be(n.ib,n),6e3));if(1>=as(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Co(n,11)}else if((i.K||n.g==i)&&Da(n),!It(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(n.V=Y[0],Y=Y[1],2==n.H)if("c"==Y[0]){n.K=Y[1],n.pa=Y[2];const ce=Y[3];null!=ce&&(n.ra=ce,n.l.info("VER="+n.ra));const xe=Y[4];null!=xe&&(n.Ga=xe,n.l.info("SVER="+n.Ga));const et=Y[5];null!=et&&"number"==typeof et&&0<et&&(n.L=s=1.5*et,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const yt=i.g;if(yt){const Qt=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var u=s.i;u.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(ls(u,u.h),u.h=null))}if(s.F){const ln=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(s.Da=ln,_r(s.I,s.F,ln))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=i;if((s=n).wa=Sl(s,s.J?s.pa:null,s.Y),v.K){No(s.i,v);var M=v,F=s.L;F&&M.setTimeout(F),M.B&&(Ir(M),en(M)),s.g=v}else Ja(s);0<n.j.length&&ho(n)}else"stop"!=Y[0]&&"close"!=Y[0]||Co(n,7);else 3==n.H&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?Co(n,7):sa(n):"noop"!=Y[0]&&n.h&&n.h.Aa(Y),n.A=0)}lt()}catch{}}function is(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(rt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Yr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(rt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function zi(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(rt(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,u=0;u<l;u++)e.call(void 0,s[u],n&&n[u],i)}(Te=Er.prototype).setTimeout=function(i){this.P=i},Te.nb=function(i){i=i.target;const e=this.M;e&&3==bs(i)?e.l():this.Pa(i)},Te.Pa=function(i){try{if(i==this.g)e:{const ce=bs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ce)&&(3!=ce||Qn||this.g&&(this.h.h||this.g.ja()||Zs(this.g)))){this.J||4!=ce||7==e||lt(),Ir(this);var n=this.g.da();this.ca=n;t:if(Gs(this)){var s=Zs(this.g);i="";var l=s.length,u=4==bs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),Bi(this);var v="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:u&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function ys(i,e,n,s,l,u,v){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+u+" "+v})}(this.j,this.u,this.A,this.m,this.W,ce,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,F=this.g;if((M=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!It(M)){var Y=M;break t}}Y=null}if(!(n=Y)){this.i=!1,this.o=3,Pt(12),Hi(this),Bi(this);break e}ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,n)}this.S?(no(this,ce,v),Qn&&this.i&&3==ce&&(ai(this.U,this.V,"tick",this.mb),this.V.start())):(ji(this.j,this.m,v,null),Jr(this,v)),4==ce&&Hi(this),this.i&&!this.J&&(4==ce?wa(this.l,this):(this.i=!1,en(this)))}else(function Zo(i){const e={};i=(i.g&&2<=bs(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(It(i[s]))continue;var n=Pn(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[l]||[];e[l]=u,u.push(n)}!function _i(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),Hi(this),Bi(this)}}}catch{}},Te.mb=function(){if(this.g){var i=bs(this.g),e=this.g.ja();this.C<e.length&&(Ir(this),no(this,i,e),this.i&&4!=i&&en(this))}},Te.cancel=function(){this.J=!0,Hi(this)},Te.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lt(),Pt(17)),Hi(this),this.o=2,Bi(this)):qn(this,this.Y-i)};var Ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Gi){this.h=i.h,Ei(this,i.j),this.s=i.s,this.g=i.g,br(this,i.m),this.l=i.l;var e=i.i,n=new Wi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Is(this,n),this.o=i.o}else i&&(e=String(i).match(Ji))?(this.h=!1,Ei(this,e[1]||"",!0),this.s=Ds(e[2]||""),this.g=Ds(e[3]||"",!0),br(this,e[4]),this.l=Ds(e[5]||"",!0),Is(this,e[6]||"",!0),this.o=Ds(e[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}function Qi(i){return new Gi(i)}function Ei(i,e,n){i.j=n?Ds(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function br(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Is(i,e,n){e instanceof Wi?(i.i=e,function Fi(i,e){e&&!i.j&&(rr(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(qi(this,s),ro(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=fs(e,er)),i.i=new Wi(e,i.h))}function _r(i,e,n){i.i.set(e,n)}function ss(i){return _r(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ds(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function fs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ws),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ws(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(fs(e,Ms,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(fs(e,Ms,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(fs(n,"/"==n.charAt(0)?ra:os,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",fs(n,Ls)),i.join("")};var Ms=/[#\/\?@]/g,os=/[#\?:]/g,ra=/[#\?]/g,er=/[#\?@]/g,Ls=/#/g;function Wi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function rr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Zn(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var u=i[n].substring(0,s);l=i[n].substring(s+1)}else u=i[n];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function qi(i,e){rr(i),e=Bs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Vs(i,e){return rr(i),e=Bs(i,e),i.g.has(e)}function ro(i,e,n){qi(i,e),0<n.length&&(i.i=null,i.g.set(Bs(i,e),it(n)),i.h+=n.length)}function Bs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ei(i){this.l=i||Yi,i=$e.PerformanceNavigationTiming?0<(i=$e.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=Wi.prototype).add=function(i,e){rr(this),this.i=null,i=Bs(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Te.forEach=function(i,e){rr(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},Te.ta=function(){rr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let u=0;u<l.length;u++)n.push(e[s])}return n},Te.Z=function(i){rr(this);let e=[];if("string"==typeof i)Vs(this,i)&&(e=e.concat(this.g.get(Bs(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Te.set=function(i,e){return rr(this),this.i=null,Vs(this,i=Bs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Te.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const u=encodeURIComponent(String(s)),v=this.Z(s);for(s=0;s<v.length;s++){var l=u;""!==v[s]&&(l+="="+encodeURIComponent(String(v[s]))),i.push(l)}}return this.i=i.join("&")};var Yi=10;function xo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function as(i){return i.h?1:i.g?i.g.size:0}function Ci(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ls(i,e){i.g?i.g.add(e):i.h=e}function No(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function qs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return it(i.i)}ei.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var mo=class{stringify(i){return $e.JSON.stringify(i,void 0)}parse(i){return $e.JSON.parse(i,void 0)}};function Ba(){this.g=new mo}function qo(i,e,n){const s=n||"";try{is(i,function(l,u){let v=l;$t(l)&&(v=Li(l)),e.push(s+u+"="+encodeURIComponent(v))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function d(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function T(i){this.l=i.ec||null,this.j=i.ob||!1}function p(i,e){on.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=w,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(T,Mn),T.prototype.g=function(){return new p(this.l,this.j)},T.prototype.i=function(i){return function(){return i}}({}),Ze(p,on);var w=0;function J(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function st(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Gt(i)}function Gt(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Te=p.prototype).open=function(i,e){if(this.readyState!=w)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Gt(this)},Te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,st(this)),this.readyState=w},Te.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Gt(this)),this.g&&(this.readyState=3,Gt(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Te.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?st(this):Gt(this),3==this.readyState&&J(this)}},Te.Za=function(i){this.g&&(this.response=this.responseText=i,st(this))},Te.Ya=function(i){this.g&&(this.response=i,st(this))},Te.ka=function(){this.g&&st(this)},Te.setRequestHeader=function(i,e){this.v.append(i,e)},Te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var cn=$e.JSON.parse;function bn(i){on.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ur,this.L=this.M=!1}Ze(bn,on);var ur="",Cs=/^https?$/i,Ys=["POST","PUT"];function io(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ks(i),Ko(i)}function Ks(i){i.F||(i.F=!0,Vn(i,"complete"),Vn(i,"error"))}function Yo(i){if(i.h&&typeof qe<"u"&&(!i.C[1]||4!=bs(i)||2!=i.da()))if(i.v&&4==bs(i))ns(i.La,0,i);else if(Vn(i,"readystatechange"),4==bs(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===v){var l=String(i.I).match(Ji)[1]||null;!l&&$e.self&&$e.self.location&&(l=$e.self.location.protocol.slice(0,-1)),s=!Cs.test(l?l.toLowerCase():"")}n=s}if(n)Vn(i,"complete"),Vn(i,"success");else{i.m=6;try{var u=2<bs(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",Ks(i)}}finally{Ko(i)}}}function Ko(i,e){if(i.g){_o(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Vn(i,"ready");try{n.onreadystatechange=s}catch{}}}function _o(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&($e.clearTimeout(i.A),i.A=null)}function bs(i){return i.g?i.g.readyState:0}function Zs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ur:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function To(i){let e="";return jr(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function ko(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=To(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):_r(i,e,n))}function Fo(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ia(i){this.Ga=0,this.j=[],this.l=new Oi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fo("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fo("baseRetryDelayMs",5e3,i),this.hb=Fo("retryDelaySeedMs",1e4,i),this.eb=Fo("forwardChannelMaxRetries",2,i),this.xa=Fo("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ei(i&&i.concurrentRequestLimit),this.Ja=new Ba,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sa(i){if(Qs(i),3==i.H){var e=i.W++,n=Qi(i.I);if(_r(n,"SID",i.K),_r(n,"RID",e),_r(n,"TYPE","terminate"),aa(i,n),(e=new Er(i,i.l,e)).L=2,e.v=ss(Qi(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=rl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),en(e)}nl(i)}function Ao(i){i.g&&(el(i),i.g.cancel(),i.g=null)}function Qs(i){Ao(i),i.u&&($e.clearTimeout(i.u),i.u=null),Da(i),i.i.cancel(),i.m&&("number"==typeof i.m&&$e.clearTimeout(i.m),i.m=null)}function ho(i){if(!xo(i.i)&&!i.m){i.m=!0;var e=i.Na;Wn||oi(),wr||(Wn(),wr=!0),Pr.add(e,i),i.C=0}}function oa(i,e){var n;n=e?e.m:i.W++;const s=Qi(i.I);_r(s,"SID",i.K),_r(s,"RID",n),_r(s,"AID",i.V),aa(i,s),i.o&&i.s&&ko(s,i.o,i.s),n=new Er(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Qo(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ls(i.i,n),to(n,s,e)}function aa(i,e){i.na&&jr(i.na,function(n,s){_r(e,s,n)}),i.h&&is({},function(n,s){_r(e,s,n)})}function Qo(i,e,n){n=Math.min(i.j.length,n);var s=i.h?be(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const v=["count="+n];-1==u?0<n?(u=l[0].g,v.push("ofs="+u)):u=0:v.push("ofs="+u);let M=!0;for(let F=0;F<n;F++){let Y=l[F].g;const ce=l[F].map;if(Y-=u,0>Y)u=Math.max(0,l[F].g-100),M=!1;else try{qo(ce,v,"req"+Y+"_")}catch{s&&s(ce)}}if(M){s=v.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Ja(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Wn||oi(),wr||(Wn(),wr=!0),Pr.add(e,i),i.A=0}}function ws(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Bt(be(i.Ma,i),Ta(i,i.A)),i.A++,0))}function el(i){null!=i.B&&($e.clearTimeout(i.B),i.B=null)}function tl(i){i.g=new Er(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Qi(i.wa);_r(e,"RID","rpc"),_r(e,"SID",i.K),_r(e,"AID",i.V),_r(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&_r(e,"TO",i.qa),_r(e,"TYPE","xmlhttp"),aa(i,e),i.o&&i.s&&ko(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ss(Qi(e)),n.s=null,n.S=!0,zs(n,i)}function Da(i){null!=i.v&&($e.clearTimeout(i.v),i.v=null)}function wa(i,e){var n=null;if(i.g==e){Da(i),el(i),i.g=null;var s=2}else{if(!Ci(i.i,e))return;n=e.F,No(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Vn(s=Ve(),new bt(s,n)),ho(i)}else Ja(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function es(i,e){return!(as(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Bt(be(i.Na,i,e),Ta(i,i.C)),i.C++,0)))}(i,e)||2==s&&ws(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Co(i,5);break;case 4:Co(i,10);break;case 3:Co(i,6);break;default:Co(i,2)}}function Ta(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Co(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=be(i.pb,i);n||(n=new Gi("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||Ei(n,"https"),ss(n)),function z(i,e){const n=new Oi;if($e.Image){const s=new Image;s.onload=Ye(d,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ye(d,n,s,"TestLoadImage: error",!1,e),s.onabort=Ye(d,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ye(d,n,s,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Pt(2);i.H=0,i.h&&i.h.za(e),nl(i),Qs(i)}function nl(i){if(i.H=0,i.ma=[],i.h){const e=qs(i.i);(0!=e.length||0!=i.j.length)&&(ut(i.ma,e),ut(i.ma,i.j),i.i.i.length=0,it(i.j),i.j.length=0),i.h.ya()}}function Sl(i,e,n){var s=n instanceof Gi?Qi(n):new Gi(n);if(""!=s.g)e&&(s.g=e+"."+s.g),br(s,s.m);else{var l=$e.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new Gi(null);s&&Ei(u,s),e&&(u.g=e),l&&br(u,l),n&&(u.l=n),s=u}return e=i.Da,(n=i.F)&&e&&_r(s,n,e),_r(s,"VER",i.ra),aa(i,s),s}function rl(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bn(n&&i.Ha&&!i.va?new T({ob:!0}):i.va)).Oa(i.J),e}function $a(){}function Ua(){if(sr&&!(10<=Number(Xn)))throw Error("Environmental error: no available transport.")}function $s(i,e){on.call(this),this.g=new ia(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!It(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!It(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Xo(this)}function rc(i){Ni.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function la(){ci.call(this),this.status=1}function Xo(i){this.g=i}function fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function R(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=i.g[3],v=(e=i.g[0])+(u^(n=i.g[1])&((l=i.g[2])^u))+s[0]+3614090360&4294967295;v=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=n+(v<<7&4294967295|v>>>25))+((v=u+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^u&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(u^e))+s[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^n&(l^u))+s[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=u+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^u&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(u^e))+s[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^n&(l^u))+s[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=u+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^u&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(u^e))+s[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^n&(l^u))+s[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=u+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^u&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(u^e))+s[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(l^u&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=u+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(u^e))+s[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(u^e&(l^u))+s[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^u&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=u+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(u^e))+s[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(u^e&(l^u))+s[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^u&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=u+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(u^e))+s[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(u^e&(l^u))+s[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^u&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=u+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(u^e))+s[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(u^e&(l^u))+s[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^l^u)+s[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=u+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=l+(u^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^u^e)+s[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^u)+s[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=u+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=l+(u^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^u^e)+s[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^u)+s[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=u+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=l+(u^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^u^e)+s[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^u)+s[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=u+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=l+(u^e^n)+s[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^u^e)+s[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(l^(n|~u))+s[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=u+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(u|~n))+s[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(u^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(l^(n|~u))+s[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=u+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(u|~n))+s[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(u^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(l^(n|~u))+s[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=u+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(u|~n))+s[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(u^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((u=(e=n+((v=e+(l^(n|~u))+s[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=u+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((l=u+((v=l+(e^(u|~n))+s[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function j(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var u=0|i[l];s&&u==e||(n[l]=u,s=!1)}this.g=n}(Te=bn.prototype).Oa=function(i){this.M=i},Te.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hs.g(),this.C=function Tr(i){return i.h||(i.h=i.i())}(this.u?this.u:hs),this.g.onreadystatechange=be(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void io(this,u)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const u of s.keys())n.set(u,s.get(u))}s=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),l=$e.FormData&&i instanceof $e.FormData,!(0<=Ut(Ys,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,v]of n)this.g.setRequestHeader(u,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_o(this),0<this.B&&((this.L=function ps(i){return sr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=be(this.ua,this)):this.A=ns(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){io(this,u)}},Te.ua=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))},Te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Vn(this,"complete"),Vn(this,"abort"),Ko(this))},Te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ko(this,!0)),bn.$.N.call(this)},Te.La=function(){this.s||(this.G||this.v||this.l?Yo(this):this.kb())},Te.kb=function(){Yo(this)},Te.isActive=function(){return!!this.g},Te.da=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}},Te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Te.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),cn(e)}},Te.Ia=function(){return this.m},Te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=ia.prototype).ra=8,Te.H=1,Te.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Er(this,this.l,i);let u=this.s;if(this.U&&(u?(u=pi(u),Ai(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Qo(this,l,e),_r(n=Qi(this.I),"RID",i),_r(n,"CVER",22),this.F&&_r(n,"X-HTTP-Session-Id",this.F),aa(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(To(u)))+"&"+e:this.o&&ko(n,this.o,u)),ls(this.i,l),this.bb&&_r(n,"TYPE","init"),this.P?(_r(n,"$req",e),_r(n,"SID","null"),l.aa=!0,to(l,n,null)):to(l,n,e),this.H=2}}else 3==this.H&&(i?oa(this,i):0==this.j.length||xo(this.i)||oa(this))},Te.Ma=function(){if(this.u=null,tl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Bt(be(this.jb,this),i)}},Te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),Ao(this),tl(this))},Te.ib=function(){null!=this.v&&(this.v=null,Ao(this),ws(this),Pt(19))},Te.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))},Te.isActive=function(){return!!this.h&&this.h.isActive(this)},(Te=$a.prototype).Ba=function(){},Te.Aa=function(){},Te.za=function(){},Te.ya=function(){},Te.isActive=function(){return!0},Te.Va=function(){},Ua.prototype.g=function(i,e){return new $s(i,e)},Ze($s,on),$s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Pt(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Sl(i,null,i.Y),ho(i)},$s.prototype.close=function(){sa(this.g)},$s.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Li(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ho(e)},$s.prototype.N=function(){this.g.h=null,delete this.j,sa(this.g),delete this.g,$s.$.N.call(this)},Ze(rc,Ni),Ze(la,ci),Ze(Xo,$a),Xo.prototype.Ba=function(){Vn(this.g,"a")},Xo.prototype.Aa=function(i){Vn(this.g,new rc(i))},Xo.prototype.za=function(i){Vn(this.g,new la)},Xo.prototype.ya=function(){Vn(this.g,"b")},Ze(fo,function ca(){this.blockSize=-1}),fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=n;)R(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(s[l++]=i.charCodeAt(u++),l==this.blockSize){R(this,s),l=0;break}}else for(;u<e;)if(s[l++]=i[u++],l==this.blockSize){R(this,s),l=0;break}}this.h=l,this.i+=e},fo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Ne={};function $(i){return-128<=i&&128>i?function fn(i,e){var n=Ne;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new j([0|e],0>e?-1:0)}):new j([0|i],0>i?-1:0)}function _e(i){if(isNaN(i)||!isFinite(i))return Ht;if(0>i)return ar(_e(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=St;return new j(e,0)}var St=4294967296,Ht=$(0),En=$(1),gr=$(16777216);function tr(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Dn(i){return-1==i.h}function ar(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new j(n,~i.h).add(En)}function Hr(i,e){return i.add(ar(e))}function Ii(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function L(i,e){this.g=i,this.h=e}function E(i,e){if(tr(e))throw Error("division by zero");if(tr(i))return new L(Ht,Ht);if(Dn(i))return e=E(ar(i),e),new L(ar(e.g),ar(e.h));if(Dn(e))return e=E(i,ar(e)),new L(ar(e.g),e.h);if(30<i.g.length){if(Dn(i)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=En,s=e;0>=s.X(i);)n=A(n),s=A(s);var l=N(n,1),u=N(s,1);for(s=N(s,2),n=N(n,2);!tr(s);){var v=u.add(s);0>=v.X(i)&&(l=l.add(n),u=v),s=N(s,1),n=N(n,1)}return e=Hr(i,l.R(e)),new L(l,e)}for(l=Ht;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),v=(u=_e(n)).R(e);Dn(v)||0<v.X(i);)v=(u=_e(n-=s)).R(e);tr(u)&&(u=En),l=l.add(u),i=Hr(i,v)}return new L(l,i)}function A(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new j(n,i.h)}function N(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],u=0;u<s;u++)l[u]=0<e?i.D(u+n)>>>e|i.D(u+n+1)<<32-e:i.D(u+n);return new j(l,i.h)}(Te=j.prototype).ea=function(){if(Dn(this))return-ar(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:St+s)*e,e*=St}return i},Te.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(tr(this))return"0";if(Dn(this))return"-"+ar(this).toString(i);for(var e=_e(Math.pow(i,6)),n=this,s="";;){var l=E(n,e).g,u=((0<(n=Hr(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(tr(n=l))return u+s;for(;6>u.length;)u="0"+u;s=u+s}},Te.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Te.X=function(i){return Dn(i=Hr(this,i))?-1:tr(i)?0:1},Te.abs=function(){return Dn(this)?ar(this):this},Te.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var u=s+(65535&this.D(l))+(65535&i.D(l)),v=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=v>>>16,n[l]=(v&=65535)<<16|(u&=65535)}return new j(n,-2147483648&n[n.length-1]?-1:0)},Te.R=function(i){if(tr(this)||tr(i))return Ht;if(Dn(this))return Dn(i)?ar(this).R(ar(i)):ar(ar(this).R(i));if(Dn(i))return ar(this.R(ar(i)));if(0>this.X(gr)&&0>i.X(gr))return _e(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var u=this.D(s)>>>16,v=65535&this.D(s),M=i.D(l)>>>16,F=65535&i.D(l);n[2*s+2*l]+=v*F,Ii(n,2*s+2*l),n[2*s+2*l+1]+=u*F,Ii(n,2*s+2*l+1),n[2*s+2*l+1]+=v*M,Ii(n,2*s+2*l+1),n[2*s+2*l+2]+=u*M,Ii(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new j(n,0)},Te.gb=function(i){return E(this,i).h},Te.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new j(n,this.h&i.h)},Te.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new j(n,this.h|i.h)},Te.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new j(n,this.h^i.h)},Ua.prototype.createWebChannel=Ua.prototype.g,$s.prototype.send=$s.prototype.u,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,xn.COMPLETE="complete",xi.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",on.prototype.listen=on.prototype.O,bn.prototype.listenOnce=bn.prototype.P,bn.prototype.getLastError=bn.prototype.Sa,bn.prototype.getLastErrorCode=bn.prototype.Ia,bn.prototype.getStatus=bn.prototype.da,bn.prototype.getResponseJson=bn.prototype.Wa,bn.prototype.getResponseText=bn.prototype.ja,bn.prototype.send=bn.prototype.ha,bn.prototype.setWithCredentials=bn.prototype.Oa,fo.prototype.digest=fo.prototype.l,fo.prototype.reset=fo.prototype.reset,fo.prototype.update=fo.prototype.j,j.prototype.add=j.prototype.add,j.prototype.multiply=j.prototype.R,j.prototype.modulo=j.prototype.gb,j.prototype.compare=j.prototype.X,j.prototype.toNumber=j.prototype.ea,j.prototype.toString=j.prototype.toString,j.prototype.getBits=j.prototype.D,j.fromNumber=_e,j.fromString=function Be(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ar(Be(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_e(Math.pow(e,8)),s=Ht,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),v=parseInt(i.substring(l,l+u),e);8>u?(u=_e(Math.pow(e,u)),s=s.R(u).add(_e(v))):s=(s=s.R(n)).add(_e(v))}return s};var q=Me.createWebChannelTransport=function(){return new Ua},ae=Me.getStatEventTarget=function(){return Ve()},Se=Me.ErrorCode=an,He=Me.EventType=xn,nt=Me.Event=X,ht=Me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jt=Me.FetchXmlHttpFactory=T,wt=Me.WebChannel=xi,yn=Me.XhrIo=bn,Sn=Me.Md5=fo,Cn=Me.Integer=j;const Ln="@firebase/firestore";class Bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let ir="10.5.2";const Nr=new Le.Yd("@firebase/firestore");function Di(){return Nr.logLevel}function Mt(i,...e){if(Nr.logLevel<=Le.in.DEBUG){const n=e.map(Rt);Nr.debug(`Firestore (${ir}): ${i}`,...n)}}function Mr(i,...e){if(Nr.logLevel<=Le.in.ERROR){const n=e.map(Rt);Nr.error(`Firestore (${ir}): ${i}`,...n)}}function Yn(i,...e){if(Nr.logLevel<=Le.in.WARN){const n=e.map(Rt);Nr.warn(`Firestore (${ir}): ${i}`,...n)}}function Rt(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function xt(i="Unexpected state"){const e=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+i;throw Mr(e),new Error(e)}function nn(i,e){i||xt()}function zt(i,e){return i}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends ve.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wn{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class $n{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vr{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const u=Y=>this.i!==l?(l=this.i,n(Y)):Promise.resolve();let v=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new lr,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const Y=v;e.enqueueRetryable((0,te.Z)(function*(){yield Y.promise,yield u(s.currentUser)}))},F=Y=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(Y=>F(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?F(Y):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new lr)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nn("string"==typeof s.accessToken),new wn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Bn(e)}}class Tn{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wi{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Tn(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class di{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class so{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=u=>{null!=u.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const v=u.token!==this.R;return this.R=u.token,Mt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nn("string"==typeof n.token),this.R=n.token,new di(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ts(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class il{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Ts(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return s}}function On(i,e){return i<e?-1:i>e?1:0}function po(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function Os(i){return i+"\0"}class hi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new kt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new kt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new hi(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class An{constructor(e){this.timestamp=e}static fromTimestamp(e){return new An(e)}static min(){return new An(new hi(0,0))}static max(){return new An(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ua{constructor(e,n,s){void 0===n?n=0:n>e.length&&xt(),void 0===s?s=e.length-n:s>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ua.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=e.get(l),v=n.get(l);if(u<v)return-1;if(u>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class zr extends ua{construct(e,n,s){return new zr(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new kt(mt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new zr(n)}static emptyPath(){return new zr([])}}const Pu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends ua{construct(e,n,s){return new $i(e,n,s)}static isValidIdentifier(e){return Pu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(0===s.length)throw new kt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let v=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new kt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new kt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,l+=2}else"`"===M?(v=!v,l++):"."!==M||v?(s+=M,l++):(u(),l++)}if(u(),v)throw new kt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(n)}static emptyPath(){return new $i([])}}class hn{constructor(e){this.path=e}static fromPath(e){return new hn(zr.fromString(e))}static fromName(e){return new hn(zr.fromString(e).popFirst(5))}static empty(){return new hn(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new zr(e.slice()))}}class sl{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Rl(i){return i.fields.find(e=>2===e.kind)}function C(i){return i.fields.filter(e=>2!==e.kind)}sl.UNKNOWN_ID=-1;class k{constructor(e,n){this.fieldPath=e,this.kind=n}}class B{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new B(0,Je.min())}}function oe(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=An.fromTimestamp(1e9===s?new hi(n+1,0):new hi(n,s));return new Je(l,hn.empty(),e)}function Ce(i){return new Je(i.readTime,i.key,-1)}class Je{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Je(An.min(),hn.empty(),-1)}static max(){return new Je(An.max(),hn.empty(),-1)}}function Yt(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=hn.comparator(i.documentKey,e.documentKey),0!==n?n:On(i.largestBatchId,e.largestBatchId))}const _t="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Un(i){return bi.apply(this,arguments)}function bi(){return bi=(0,te.Z)(function*(i){if(i.code!==mt.FAILED_PRECONDITION||i.message!==_t)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),bi.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ct((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ct.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ct.reject(n)}static resolve(e){return new ct((n,s)=>{n(e)})}static reject(e){return new ct((n,s)=>{s(e)})}static waitFor(e){return new ct((n,s)=>{let l=0,u=0,v=!1;e.forEach(M=>{++l,M.next(()=>{++u,v&&u===l&&n()},F=>s(F))}),v=!0,u===l&&n()})}static or(e){let n=ct.resolve(!1);for(const s of e)n=n.next(l=>l?ct.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new ct((s,l)=>{const u=e.length,v=new Array(u);let M=0;for(let F=0;F<u;F++){const Y=F;n(e[Y]).next(ce=>{v[Y]=ce,++M,M===u&&s(v)},ce=>l(ce))}})}static doWhile(e,n){return new ct((s,l)=>{const u=()=>{!0===e()?n().next(()=>{u()},l):s()};u()})}}class kr{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new lr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new bo(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=Mu(s.target.error);this.V.reject(new bo(e,l))}}static open(e,n,s,l){try{return new kr(n,e.transaction(l,s))}catch(u){throw new bo(n,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ca(n)}}class Kr{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===Kr.S((0,ve.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),So(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ve.hl)())return!1;if(Kr.C())return!0;const e=(0,ve.z$)(),n=Kr.S(e),s=0<n&&n<10,l=Kr.v(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,te.Z)(function*(){return n.db||(Mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=v=>{s(v.target.result)},u.onblocked=()=>{l(new bo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=v=>{const M=v.target.error;l("VersionError"===M.name?new kt(mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new kt(mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new bo(e,M))},u.onupgradeneeded=v=>{Mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.p.N(v.target.result,u.transaction,v.oldVersion,n.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var u=this;return(0,te.Z)(function*(){const v="readonly"===n;let M=0;for(;;){++M;try{u.db=yield u.O(e);const F=kr.open(u.db,e,v?"readonly":"readwrite",s),Y=l(F).next(ce=>(F.g(),ce)).catch(ce=>(F.abort(ce),ct.reject(ce))).toPromise();return Y.catch(()=>{}),yield F.m,Y}catch(F){const Y=F,ce="FirebaseError"!==Y.name&&M<3;if(Mt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ce),u.close(),!ce)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Aa{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return So(this.k.delete())}}class bo extends kt{constructor(e,n){super(mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function oo(i){return"IndexedDbTransactionError"===i.name}class Ca{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(Mt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),So(s)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),So(this.store.add(e))}get(e){return So(this.store.get(e)).next(n=>(void 0===n&&(n=null),Mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),So(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),So(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),u=[];return this.G(l,(v,M)=>{u.push(M)}).next(()=>u)}{const l=this.store.getAll(s.range);return new ct((u,v)=>{l.onerror=M=>{v(M.target.error)},l.onsuccess=M=>{u(M.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new ct((l,u)=>{s.onerror=v=>{u(v.target.error)},s.onsuccess=v=>{l(v.target.result)}})}H(e,n){Mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(u,v,M)=>M.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new ct((s,l)=>{n.onerror=u=>{const v=Mu(u.target.error);l(v)},n.onsuccess=u=>{const v=u.target.result;v?e(v.primaryKey,v.value).next(M=>{M?v.continue():s()}):s()}})}G(e,n){const s=[];return new ct((l,u)=>{e.onerror=v=>{u(v.target.error)},e.onsuccess=v=>{const M=v.target.result;if(!M)return void l();const F=new Aa(M),Y=n(M.primaryKey,M.value,F);if(Y instanceof ct){const ce=Y.catch(xe=>(F.done(),ct.reject(xe)));s.push(ce)}F.isDone?l():null===F.$?M.continue():M.continue(F.$)}}).next(()=>ct.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function So(i){return new ct((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Mu(s.target.error);n(l)}})}let ol=!1;function Mu(i){const e=Kr.S((0,ve.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ol||(ol=!0,setTimeout(()=>{throw s},0)),s}}return i}class jp{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){n.task=null;try{Mt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){oo(s)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Un(s)}yield n.ee(6e4)}))}}class al{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,te.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,u=!0;return ct.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!s.has(v))return Mt("IndexBackiller",`Processing collection: ${v}`),this.re(e,v,l).next(M=>{l-=M,s.add(v)});u=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(u=>{const v=u.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ie(l,u)).next(M=>(Mt("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,n,M))).next(()=>v.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,u)=>{const v=Ce(u);Yt(v,s)>0&&(s=v)}),new Je(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ao=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Pl(i){return null==i}function Ou(i){return 0===i&&1/i==-1/0}function ic(i){return"number"==typeof i&&Number.isInteger(i)&&!Ou(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function vo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Yc(e)),e=Vd(i.get(n),e);return Yc(e)}function Vd(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Yc(i){return i+"\x01\x01"}function da(i){const e=i.length;if(nn(e>=2),2===e)return nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),zr.emptyPath();const n=e-2,s=[];let l="";for(let u=0;u<e;){const v=i.indexOf("\x01",u);switch((v<0||v>n)&&xt(),i.charAt(v+1)){case"\x01":const M=i.substring(u,v);let F;0===l.length?F=M:(l+=M,F=l,l=""),s.push(F);break;case"\x10":l+=i.substring(u,v),l+="\0";break;case"\x11":l+=i.substring(u,v+1);break;default:xt()}u=v+2}return new zr(s)}const Hp=["userId","batchId"];function ll(i,e){return[i,vo(e)]}function ba(i,e,n){return[i,vo(e),n]}const Ml={},Ol=["prefixPath","collectionGroup","readTime","documentId"],Bd=["prefixPath","collectionGroup","documentId"],xu=["collectionGroup","readTime","prefixPath","documentId"],o_=["canonicalId","targetId"],Nu=["targetId","path"],$d=["path","targetId"],zp=["collectionId","parent"],Sa=["indexId","uid"],Ud=["uid","sequenceNumber"],ku=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kc=["indexId","uid","orderedDocumentKey"],cf=["userId","collectionPath","documentId"],sc=["userId","collectionPath","largestBatchId"],Zc=["userId","collectionGroup","largestBatchId"],uf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oc=[...uf,"documentOverlays"],jd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hd=jd,Fu=[...Hd,"indexConfiguration","indexState","indexEntries"];class Qc extends sn{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function gs(i,e){const n=zt(i);return Kr.M(n.ae,e)}function cl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Lu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ui{constructor(e,n){this.comparator=e,this.root=n||lo.EMPTY}insert(e,n){return new Ui(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new Ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=null!=s?s:lo.RED,this.left=null!=l?l:lo.EMPTY,this.right=null!=u?u:lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new lo(null!=e?e:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return lo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,s,l,u){return this}insert(e,n,s){return new lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(e){this.comparator=e,this.data=new Ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new df(this.data.getIterator())}getIteratorFrom(e){return new df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dr(this.comparator);return n.data=e,n}}class df{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xl(i){return i.hasNext()?i.getNext():void 0}class Js{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new Js([])}unionWith(e){let n=new Dr($i.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class hf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ms{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hf("Invalid base64 string: "+u):u}}(e);return new ms(n)}static fromUint8Array(e){const n=function(l){let u="";for(let v=0;v<l.length;++v)u+=String.fromCharCode(l[v]);return u}(e);return new ms(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(i){if(nn(!!i),"string"==typeof i){let e=0;const n=ac.exec(i);if(nn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ri(i.seconds),nanos:Ri(i.nanos)}}function Ri(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Jo(i){return"string"==typeof i?ms.fromBase64String(i):ms.fromUint8Array(i)}function Nl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ha(i){const e=i.mapValue.fields.__previous_value__;return Nl(e)?ha(e):e}function Vu(i){const e=yo(i.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}class pf{constructor(e,n,s,l,u,v,M,F,Y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=v,this.autoDetectLongPolling=M,this.longPollingOptions=F,this.useFetchStreams=Y}}class dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}const hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zd={nullValue:"NULL_VALUE"};function fl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nl(i)?4:mf(i)?9007199254740991:10:xt()}function fa(i,e){if(i===e)return!0;const n=fl(i);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Vu(i).isEqual(Vu(e));case 3:return function(l,u){if("string"==typeof l.timestampValue&&"string"==typeof u.timestampValue&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const v=yo(l.timestampValue),M=yo(u.timestampValue);return v.seconds===M.seconds&&v.nanos===M.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Jo(i.bytesValue).isEqual(Jo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,u){return Ri(l.geoPointValue.latitude)===Ri(u.geoPointValue.latitude)&&Ri(l.geoPointValue.longitude)===Ri(u.geoPointValue.longitude)}(i,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Ri(l.integerValue)===Ri(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const v=Ri(l.doubleValue),M=Ri(u.doubleValue);return v===M?Ou(v)===Ou(M):isNaN(v)&&isNaN(M)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:return function(l,u){const v=l.mapValue.fields||{},M=u.mapValue.fields||{};if(cl(v)!==cl(M))return!1;for(const F in v)if(v.hasOwnProperty(F)&&(void 0===M[F]||!fa(v[F],M[F])))return!1;return!0}(i,e);default:return xt()}var u}function Bu(i,e){return void 0!==(i.values||[]).find(n=>fa(n,e))}function Lo(i,e){if(i===e)return 0;const n=fl(i),s=fl(e);if(n!==s)return On(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(i.booleanValue,e.booleanValue);case 2:return function(u,v){const M=Ri(u.integerValue||u.doubleValue),F=Ri(v.integerValue||v.doubleValue);return M<F?-1:M>F?1:M===F?0:isNaN(M)?isNaN(F)?0:-1:1}(i,e);case 3:return gf(i.timestampValue,e.timestampValue);case 4:return gf(Vu(i),Vu(e));case 5:return On(i.stringValue,e.stringValue);case 6:return function(u,v){const M=Jo(u),F=Jo(v);return M.compareTo(F)}(i.bytesValue,e.bytesValue);case 7:return function(u,v){const M=u.split("/"),F=v.split("/");for(let Y=0;Y<M.length&&Y<F.length;Y++){const ce=On(M[Y],F[Y]);if(0!==ce)return ce}return On(M.length,F.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,v){const M=On(Ri(u.latitude),Ri(v.latitude));return 0!==M?M:On(Ri(u.longitude),Ri(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,v){const M=u.values||[],F=v.values||[];for(let Y=0;Y<M.length&&Y<F.length;++Y){const ce=Lo(M[Y],F[Y]);if(ce)return ce}return On(M.length,F.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,v){if(u===hl.mapValue&&v===hl.mapValue)return 0;if(u===hl.mapValue)return 1;if(v===hl.mapValue)return-1;const M=u.fields||{},F=Object.keys(M),Y=v.fields||{},ce=Object.keys(Y);F.sort(),ce.sort();for(let xe=0;xe<F.length&&xe<ce.length;++xe){const et=On(F[xe],ce[xe]);if(0!==et)return et;const yt=Lo(M[F[xe]],Y[ce[xe]]);if(0!==yt)return yt}return On(F.length,ce.length)}(i.mapValue,e.mapValue);default:throw xt()}}function gf(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return On(i,e);const n=yo(i),s=yo(e),l=On(n.seconds,s.seconds);return 0!==l?l:On(n.nanos,s.nanos)}function pl(i){return Ss(i)}function Ss(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=yo(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Jo(i.bytesValue).toBase64():"referenceValue"in i?hn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Ss(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const v of s)u?u=!1:l+=",",l+=`${v}:${Ss(n.fields[v])}`;return l+"}"}(i.mapValue):xt()}function ea(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gd(i){return!!i&&"integerValue"in i}function Us(i){return!!i&&"arrayValue"in i}function kl(i){return!!i&&"nullValue"in i}function Wd(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fl(i){return!!i&&"mapValue"in i}function ja(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ja(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(i.arrayValue.values[n]);return e}return Object.assign({},i)}function mf(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function a_(i){return"nullValue"in i?zd:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ea(dl.empty(),hn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:xt()}function Gp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ea(dl.empty(),hn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?hl:xt()}function Wp(i,e){const n=Lo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function go(i,e){const n=Lo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=$i.emptyPath(),s={},l=[];e.forEach((v,M)=>{if(!n.isImmediateParentOf(M)){const F=this.getFieldsMap(n);this.applyChanges(F,s,l),s={},l=[],n=M.popLast()}v?s[M.lastSegment()]=ja(v):l.push(M.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Fl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new js(ja(this.value))}}function Ll(i){const e=[];return Ra(i.fields,(n,s)=>{const l=new $i([n]);if(Fl(s)){const u=Ll(s.mapValue).fields;if(0===u.length)e.push(l);else for(const v of u)e.push(l.child(v))}else e.push(l)}),new Js(e)}class cs{constructor(e,n,s,l,u,v,M){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=v,this.documentState=M}static newInvalidDocument(e){return new cs(e,0,An.min(),An.min(),An.min(),js.empty(),0)}static newFoundDocument(e,n,s,l){return new cs(e,1,n,An.min(),s,l,0)}static newNoDocument(e,n){return new cs(e,2,n,An.min(),An.min(),js.empty(),0)}static newUnknownDocument(e,n){return new cs(e,3,n,An.min(),An.min(),js.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(An.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,n){this.position=e,this.inclusive=n}}function _f(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const u=e[l],v=i.position[l];if(s=u.field.isKeyField()?hn.comparator(hn.fromName(v.referenceValue),n.key):Lo(v,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function qd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!fa(i.position[n],e.position[n]))return!1;return!0}class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function qp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class vf{}class Zr extends vf{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new ju(e,n,s):"array-contains"===n?new za(e,s):"in"===n?new Vl(e,s):"not-in"===n?new yf(e,s):"array-contains-any"===n?new l_(e,s):new Zr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Yp(e,s):new Zd(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Lo(n,this.value)):null!==n&&fl(this.value)===fl(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends vf{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Si(e,n)}matches(e){return pa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pa(i){return"and"===i.op}function Jc(i){return"or"===i.op}function lc(i){return Uu(i)&&pa(i)}function Uu(i){for(const e of i.filters)if(e instanceof Si)return!1;return!0}function cc(i){if(i instanceof Zr)return i.field.canonicalString()+i.op.toString()+pl(i.value);if(lc(i))return i.filters.map(e=>cc(e)).join(",");{const e=i.filters.map(n=>cc(n)).join(",");return`${i.op}(${e})`}}function Yd(i,e){return i instanceof Zr?(s=i,(l=e)instanceof Zr&&s.op===l.op&&s.field.isEqual(l.field)&&fa(s.value,l.value)):i instanceof Si?function(s,l){return l instanceof Si&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((u,v,M)=>u&&Yd(v,l.filters[M]),!0)}(i,e):void xt();var s,l}function Kd(i,e){const n=i.filters.concat(e);return Si.create(n,i.op)}function uc(i){return i instanceof Zr?`${(n=i).field.canonicalString()} ${n.op} ${pl(n.value)}`:i instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(uc).join(" ,")+"}"}(i):"Filter";var n}class ju extends Zr{constructor(e,n,s){super(e,n,s),this.key=hn.fromName(s.referenceValue)}matches(e){const n=hn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yp extends Zr{constructor(e,n){super(e,"in",n),this.keys=Qd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zd extends Zr{constructor(e,n){super(e,"not-in",n),this.keys=Qd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qd(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>hn.fromName(s.referenceValue))}class za extends Zr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Us(n)&&Bu(n.arrayValue,this.value)}}class Vl extends Zr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Bu(this.value.arrayValue,n)}}class yf extends Zr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Bu(this.value.arrayValue,n)}}class l_ extends Zr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Us(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bu(this.value.arrayValue,s))}}class Ef{constructor(e,n=null,s=[],l=[],u=null,v=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=v,this.endAt=M,this.ce=null}}function Xd(i,e=null,n=[],s=[],l=null,u=null,v=null){return new Ef(i,e,n,s,l,u,v)}function dc(i){const e=zt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),Pl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>pl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>pl(s)).join(",")),e.ce=n}return e.ce}function eu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qp(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Yd(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qd(i.startAt,e.startAt)&&qd(i.endAt,e.endAt)}function tu(i){return hn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Hu(i,e){return i.filters.filter(n=>n instanceof Zr&&n.field.isEqual(e))}function zu(i,e,n){let s=zd,l=!0;for(const u of Hu(i,e)){let v=zd,M=!0;switch(u.op){case"<":case"<=":v=a_(u.value);break;case"==":case"in":case">=":v=u.value;break;case">":v=u.value,M=!1;break;case"!=":case"not-in":v=zd}Wp({value:s,inclusive:l},{value:v,inclusive:M})<0&&(s=v,l=M)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const v=n.position[u];Wp({value:s,inclusive:l},{value:v,inclusive:n.inclusive})<0&&(s=v,l=n.inclusive);break}return{value:s,inclusive:l}}function Ga(i,e,n){let s=hl,l=!0;for(const u of Hu(i,e)){let v=hl,M=!0;switch(u.op){case">=":case">":v=Gp(u.value),M=!1;break;case"==":case"in":case"<=":v=u.value;break;case"<":v=u.value,M=!1;break;case"!=":case"not-in":v=hl}go({value:s,inclusive:l},{value:v,inclusive:M})>0&&(s=v,l=M)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const v=n.position[u];go({value:s,inclusive:l},{value:v,inclusive:n.inclusive})>0&&(s=v,l=n.inclusive);break}return{value:s,inclusive:l}}class Wa{constructor(e,n=null,s=[],l=[],u=null,v="F",M=null,F=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=v,this.startAt=M,this.endAt=F,this.le=null,this.he=null,this.Pe=null}}function Jd(i,e,n,s,l,u,v,M){return new Wa(i,e,n,s,l,u,v,M)}function Bl(i){return new Wa(i)}function eh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Gu(i){return null!==i.collectionGroup}function hc(i){const e=zt(i);if(null===e.le){e.le=[];const n=new Set;for(const u of e.explicitOrderBy)e.le.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let M=new Dr($i.comparator);return v.filters.forEach(F=>{F.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(M=M.add(Y.field))})}),M})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.le.push(new Xc(u,s))}),n.has($i.keyField().canonicalString())||e.le.push(new Xc($i.keyField(),s))}return e.le}function Eo(i){const e=zt(i);return e.he||(e.he=function fc(i,e){if("F"===i.limitType)return Xd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Xc(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new Ha(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ha(i.startAt.position,i.startAt.inclusive):null;return Xd(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,hc(i))),e.he}function If(i,e){const n=i.filters.concat([e]);return new Wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function th(i,e,n){return new Wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function qa(i,e){return eu(Eo(i),Eo(e))&&i.limitType===e.limitType}function Kp(i){return`${dc(Eo(i))}|lt:${i.limitType}`}function nu(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>uc(l)).join(", ")}]`),Pl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(v=l).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>pl(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>pl(l)).join(",")),`Target(${s})`}(Eo(i))}; limitType=${i.limitType})`}function Wu(i,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):hn.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,l){for(const u of hc(s))if(!u.field.isKeyField()&&null===l.data.field(u.field))return!1;return!0}(i,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(v,M,F){const Y=_f(v,M,F);return v.inclusive?Y<=0:Y<0}(s.startAt,hc(s),l)||s.endAt&&!function(v,M,F){const Y=_f(v,M,F);return v.inclusive?Y>=0:Y>0}(s.endAt,hc(s),l)));var s,l}function Zp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qp(i){return(e,n)=>{let s=!1;for(const l of hc(i)){const u=Df(l,e,n);if(0!==u)return u;s=s||l.field.isKeyField()}return 0}}function Df(i,e,n){const s=i.field.isKeyField()?hn.comparator(e.key,n.key):function(u,v,M){const F=v.data.field(u),Y=M.data.field(u);return null!==F&&null!==Y?Lo(F,Y):xt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,u]of s)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return Lu(this.inner)}size(){return this.innerSize}}const qu=new Ui(hn.comparator);function Io(){return qu}const ru=new Ui(hn.comparator);function gl(...i){let e=ru;for(const n of i)e=e.insert(n.key,n);return e}function $l(i){let e=ru;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ga(){return ml()}function pc(){return ml()}function ml(){return new Ro(i=>i.toString(),(i,e)=>i.isEqual(e))}const Yu=new Ui(hn.comparator),Ku=new Dr(hn.comparator);function Ar(...i){let e=Ku;for(const n of i)e=e.add(n);return e}const Xp=new Dr(On);function nh(){return Xp}function rh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function Zu(i){return{integerValue:""+i}}function gc(i,e){return ic(e)?Zu(e):rh(i,e)}class Qu{constructor(){this._=void 0}}function wf(i,e,n){return i instanceof mc?function(l,u){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Nl(u)&&(u=ha(u)),u&&(v.fields.__previous_value__=u),{mapValue:v}}(n,e):i instanceof xs?iu(i,e):i instanceof Pa?_c(i,e):function(l,u){const v=Af(l,u),M=vc(v)+vc(l.Ie);return Gd(v)&&Gd(l.Ie)?Zu(M):rh(l.serializer,M)}(i,e)}function Tf(i,e,n){return i instanceof xs?iu(i,e):i instanceof Pa?_c(i,e):n}function Af(i,e){return i instanceof As?Gd(s=e)||(u=s)&&"doubleValue"in u?e:{integerValue:0}:null;var s,u}class mc extends Qu{}class xs extends Qu{constructor(e){super(),this.elements=e}}function iu(i,e){const n=su(e);for(const s of i.elements)n.some(l=>fa(l,s))||n.push(s);return{arrayValue:{values:n}}}class Pa extends Qu{constructor(e){super(),this.elements=e}}function _c(i,e){let n=su(e);for(const s of i.elements)n=n.filter(l=>!fa(l,s));return{arrayValue:{values:n}}}class As extends Qu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vc(i){return Ri(i.integerValue||i.doubleValue)}function su(i){return Us(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class yc{constructor(e,n){this.field=e,this.transform=n}}class Ec{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ic{}function au(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ns(i.key,ts.none()):new Ul(i.key,i.data,ts.none());{const n=i.data,s=js.empty();let l=new Dr($i.comparator);for(let u of e.fields)if(!l.has(u)){let v=n.field(u);null===v&&u.length>1&&(u=u.popLast(),v=n.field(u)),null===v?s.delete(u):s.set(u,v),l=l.add(u)}return new Bo(i.key,s,new Js(l.toArray()),ts.none())}}function Jp(i,e,n){i instanceof Ul?function(l,u,v){const M=l.value.clone(),F=bf(l.fieldTransforms,u,v.transformResults);M.setAll(F),u.convertToFoundDocument(v.version,M).setHasCommittedMutations()}(i,e,n):i instanceof Bo?function(l,u,v){if(!ou(l.precondition,u))return void u.convertToUnknownDocument(v.version);const M=bf(l.fieldTransforms,u,v.transformResults),F=u.data;F.setAll(Cf(l)),F.setAll(M),u.convertToFoundDocument(v.version,F).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dc(i,e,n,s){return i instanceof Ul?function(u,v,M,F){if(!ou(u.precondition,v))return M;const Y=u.value.clone(),ce=Xu(u.fieldTransforms,F,v);return Y.setAll(ce),v.convertToFoundDocument(v.version,Y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Bo?function(u,v,M,F){if(!ou(u.precondition,v))return M;const Y=Xu(u.fieldTransforms,F,v),ce=v.data;return ce.setAll(Cf(u)),ce.setAll(Y),v.convertToFoundDocument(v.version,ce).setHasLocalMutations(),null===M?null:M.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(xe=>xe.field))}(i,e,n,s):(M=n,ou(i.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):M);var v,M}function ih(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),u=Af(s.transform,l||null);null!=u&&(null===n&&(n=js.empty()),n.set(s.field,u))}return n||null}function ma(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&po(s,l,(u,v)=>function Vo(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof xs&&l instanceof xs||s instanceof Pa&&l instanceof Pa?po(s.elements,l.elements,fa):s instanceof As&&l instanceof As?fa(s.Ie,l.Ie):s instanceof mc&&l instanceof mc);var s,l}(u,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class Ul extends Ic{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bo extends Ic{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Cf(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function bf(i,e,n){const s=new Map;nn(i.length===n.length);for(let l=0;l<n.length;l++){const u=i[l],v=u.transform,M=e.data.field(u.field);s.set(u.field,Tf(v,M,n[l]))}return s}function Xu(i,e,n){const s=new Map;for(const l of i){const u=l.transform,v=n.data.field(l.field);s.set(l.field,wf(u,v,e))}return s}class Ns extends Ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wc extends Ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ma{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Jp(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Dc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Dc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pc();return this.mutations.forEach(l=>{const u=e.get(l.key),v=u.overlayedDocument;let M=this.applyToLocalView(v,u.mutatedFields);M=n.has(l.key)?null:M;const F=au(v,M);null!==F&&s.set(l.key,F),v.isValidDocument()||v.convertToNoDocument(An.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ar())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>ma(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>ma(n,s))}}class Tc{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){nn(e.mutations.length===s.length);let l=Yu;const u=e.mutations;for(let v=0;v<u.length;v++)l=l.insert(u[v].key,s[v].version);return new Tc(e,n,s,l)}}class ta{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lu{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rs,fi;function Ju(i){switch(i){default:return xt();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}function Sf(i){if(void 0===i)return Mr("GRPC error has no .code"),mt.UNKNOWN;switch(i){case Rs.OK:return mt.OK;case Rs.CANCELLED:return mt.CANCELLED;case Rs.UNKNOWN:return mt.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return mt.INTERNAL;case Rs.UNAVAILABLE:return mt.UNAVAILABLE;case Rs.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case Rs.NOT_FOUND:return mt.NOT_FOUND;case Rs.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case Rs.ABORTED:return mt.ABORTED;case Rs.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case Rs.DATA_LOSS:return mt.DATA_LOSS;default:return xt()}}(fi=Rs||(Rs={}))[fi.OK=0]="OK",fi[fi.CANCELLED=1]="CANCELLED",fi[fi.UNKNOWN=2]="UNKNOWN",fi[fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fi[fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fi[fi.NOT_FOUND=5]="NOT_FOUND",fi[fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",fi[fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",fi[fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",fi[fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fi[fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fi[fi.ABORTED=10]="ABORTED",fi[fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",fi[fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",fi[fi.INTERNAL=13]="INTERNAL",fi[fi.UNAVAILABLE=14]="UNAVAILABLE",fi[fi.DATA_LOSS=15]="DATA_LOSS";function Rf(){return new TextEncoder}const Pf=new Cn([4294967295,4294967295],0);function I(i){const e=Rf().encode(i),n=new Sn;return n.update(e),new Uint8Array(n.digest())}function h(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cn([n,s],0),new Cn([l,u],0)]}class _{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new D(`Invalid padding: ${n}`);if(s<0)throw new D(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new D(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new D(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Cn.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Cn.fromNumber(s)));return 1===l.compare(Pf)&&(l=new Cn([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=I(e),[s,l]=h(n);for(let u=0;u<this.hashCount;u++){const v=this.de(s,l,u);if(!this.Ae(v))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),v=new _(u,l,n);return s.forEach(M=>v.insert(M)),v}insert(e){if(0===this.Te)return;const n=I(e),[s,l]=h(n);for(let u=0;u<this.hashCount;u++){const v=this.de(s,l,u);this.Re(v)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class D extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class G{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,le.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new G(An.min(),l,new Ui(On),Io(),Ar())}}class le{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new le(s,n,Ar(),Ar(),Ar())}}class We{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class ft{constructor(e,n){this.targetId=e,this.fe=n}}class Ft{constructor(e,n,s=ms.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class mn{constructor(){this.ge=0,this.pe=Ki(),this.ye=ms.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ar(),n=Ar(),s=Ar();return this.pe.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:xt()}}),new le(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Ki()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Nn{constructor(e){this.Le=e,this.ke=new Map,this.qe=Io(),this.Qe=kn(),this.Ke=new Ui(On)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const u=l.target;if(tu(u))if(0===s){const v=new hn(u.path);this.We(n,v,cs.newNoDocument(v,An.min()))}else nn(1===s);else{const v=this.Ze(n);if(v!==s){const M=this.Xe(e),F=M?this.et(M,e,v):1;0!==F&&(this.He(n),this.Ke=this.Ke.insert(n,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let v,M;try{v=Jo(s).toUint8Array()}catch(F){if(F instanceof hf)return Yn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{M=new _(v,l,u)}catch(F){return Yn(F instanceof D?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===M.Te?null:M}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const v=this.Le.nt(),M=`projects/${v.projectId}/databases/${v.database}/documents/${u.path.canonicalString()}`;e.mightContain(M)||(this.We(n,u,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((u,v)=>{const M=this.Ye(v);if(M){if(u.current&&tu(M.target)){const F=new hn(M.target.path);null!==this.qe.get(F)||this.st(v,F)||this.We(v,F,cs.newNoDocument(F,e))}u.De&&(n.set(v,u.ve()),u.Fe())}});let s=Ar();this.Qe.forEach((u,v)=>{let M=!0;v.forEachWhile(F=>{const Y=this.Ye(F);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(M=!1,!1)}),M&&(s=s.add(u))}),this.qe.forEach((u,v)=>v.setReadTime(e));const l=new G(e,n,this.Ke,this.qe,s);return this.qe=Io(),this.Qe=kn(),this.Ke=new Ui(On),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mn,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Dr(On),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mn),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function kn(){return new Ui(hn.comparator)}function Ki(){return new Ui(hn.comparator)}const _a={asc:"ASCENDING",desc:"DESCENDING"},cu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sh={and:"AND",or:"OR"};class td{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ac(i,e){return i.useProto3Json||Pl(e)?e:{value:e}}function _l(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hl(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Cc(i,e){return _l(i,e.toTimestamp())}function _s(i){return nn(!!i),An.fromTimestamp(function(n){const s=yo(n);return new hi(s.seconds,s.nanos)}(i))}function zl(i,e){return(s=i,new zr(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function bc(i){const e=zr.fromString(i);return nn(Pc(e)),e}function Sc(i,e){return zl(i.databaseId,e.path)}function Po(i,e){const n=bc(e);if(n.get(1)!==i.databaseId.projectId)throw new kt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new kt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new hn(u_(n))}function Gl(i,e){return zl(i.databaseId,e)}function c_(i){const e=bc(i);return 4===e.length?zr.emptyPath():u_(e)}function nd(i){return new zr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function u_(i){return nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function d_(i,e,n){return{name:Sc(i,e),fields:n.value.mapValue.fields}}function h_(i,e,n){const s=Po(i,e.name),l=_s(e.updateTime),u=e.createTime?_s(e.createTime):An.min(),v=new js({mapValue:{fields:e.fields}}),M=cs.newFoundDocument(s,l,u,v);return n&&M.setHasCommittedMutations(),n?M.setHasCommittedMutations():M}function Rc(i,e){let n;if(e instanceof Ul)n={update:d_(i,e.key,e.value)};else if(e instanceof Ns)n={delete:Sc(i,e.key)};else if(e instanceof Bo)n={update:d_(i,e.key,e.data),updateMask:m_(e.fieldMask)};else{if(!(e instanceof wc))return xt();n={verify:Sc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,v){const M=v.transform;if(M instanceof mc)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof xs)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof Pa)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof As)return{fieldPath:v.field.canonicalString(),increment:M.Ie};throw xt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Cc(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:xt()),n;var u}function oh(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?ts.updateTime(_s(u.updateTime)):void 0!==u.exists?ts.exists(u.exists):ts.none():ts.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(v,M){let F=null;"setToServerValue"in M?(nn("REQUEST_TIME"===M.setToServerValue),F=new mc):"appendMissingElements"in M?F=new xs(M.appendMissingElements.values||[]):"removeAllFromArray"in M?F=new Pa(M.removeAllFromArray.values||[]):"increment"in M?F=new As(v,M.increment):xt();const Y=$i.fromServerFormat(M.fieldPath);return new yc(Y,F)}(i,l)):[];var u;if(e.update){const l=Po(i,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Js((e.updateMask.fieldPaths||[]).map(ce=>$i.fromServerFormat(ce)));return new Bo(l,u,v,n,s)}return new Ul(l,u,n,s)}if(e.delete){const l=Po(i,e.delete);return new Ns(l,n)}if(e.verify){const l=Po(i,e.verify);return new wc(l,n)}return xt()}function g_(i,e){return{documents:[Gl(i,e.path)]}}function eg(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Gl(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gl(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(F){if(0!==F.length)return tg(Si.create(F,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(F){if(0!==F.length)return F.map(Y=>{return{field:vl((xe=Y).field),direction:Fy(xe.dir)};var xe})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const v=Ac(i,e.limit);return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(n.structuredQuery.endAt=function(F){return{before:!F.inclusive,values:F.position}}(e.endAt)),n;var F}function Ny(i){let e=c_(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){nn(1===s);const ce=n.from[0];ce.allDescendants?l=ce.collectionId:e=e.child(ce.collectionId)}let u=[];n.where&&(u=function(xe){const et=Mf(xe);return et instanceof Si&&lc(et)?et.getFilters():[et]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(et=>{return new Xc(uu((Qt=et).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let M=null;n.limit&&(M=function(xe){let et;return et="object"==typeof xe?xe.value:xe,Pl(et)?null:et}(n.limit));let F=null;var xe;n.startAt&&(F=new Ha((xe=n.startAt).values||[],!!xe.before));let Y=null;return n.endAt&&(Y=function(xe){return new Ha(xe.values||[],!xe.before)}(n.endAt)),Jd(e,l,v,u,M,"F",F,Y)}function Mf(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uu(n.unaryFilter.field);return Zr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=uu(n.unaryFilter.field);return Zr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uu(n.unaryFilter.field);return Zr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=uu(n.unaryFilter.field);return Zr.create(v,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(i):void 0!==i.fieldFilter?Zr.create(uu((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Si.create(n.compositeFilter.filters.map(s=>Mf(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(i):xt();var n}function Fy(i){return _a[i]}function id(i){return cu[i]}function Of(i){return sh[i]}function vl(i){return{fieldPath:i.canonicalString()}}function uu(i){return $i.fromServerFormat(i.fieldPath)}function tg(i){return i instanceof Zr?function(n){if("=="===n.op){if(Wd(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(kl(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Wd(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(kl(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:id(n.op),value:n.value}}}(i):i instanceof Si?function(n){const s=n.getFilters().map(l=>tg(l));return 1===s.length?s[0]:{compositeFilter:{op:Of(n.op),filters:s}}}(i):xt()}function m_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Wl{constructor(e,n,s,l,u=An.min(),v=An.min(),M=ms.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=M,this.expectedCount=F}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class __{constructor(e){this.ut=e}}function v_(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Sc(u=i.ut,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:_l(u,v.version.toTimestamp()),createTime:_l(u,v.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:$o(e.version)};else{if(!e.isUnknownDocument())return xt();s.unknownDocument={path:n.path.toArray(),version:$o(e.version)}}var u,v;return s}function xf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function $o(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oa(i){const e=new hi(i.seconds,i.nanoseconds);return An.fromTimestamp(e)}function du(i,e){const n=(e.baseMutations||[]).map(u=>oh(i.ut,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const s=e.mutations.map(u=>oh(i.ut,u)),l=hi.fromMillis(e.localWriteTimeMs);return new Ma(e.batchId,l,n,s)}function ah(i){const e=Oa(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Oa(i.lastLimboFreeSnapshotVersion):An.min();let s;return s=void 0!==i.query.documents?(nn(1===(u=i.query).documents.length),Eo(Bl(c_(u.documents[0])))):function(u){return Eo(Ny(u))}(i.query),new Wl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,ms.fromBase64String(i.resumeToken));var u}function y_(i,e){const n=$o(e.snapshotVersion),s=$o(e.lastLimboFreeSnapshotVersion);let l;l=tu(e.target)?g_(i.ut,e.target):eg(i.ut,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dc(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function ng(i){const e=Ny({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?th(e,e.limit,"L"):e}function rg(i,e){return new ta(e.largestBatchId,oh(i.ut,e.overlayMutation))}function E_(i,e){const n=e.path.lastSegment();return[i,vo(e.path.popLast()),n]}function ig(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:$o(s.readTime),documentKey:vo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Vy{getBundleMetadata(e,n){return I_(e).get(n).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Oa(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return I_(e).put({bundleId:(l=n).id,createTime:$o(_s(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return D_(e).get(n).next(s=>{if(s)return{name:(u=s).name,query:ng(u.bundledQuery),readTime:Oa(u.readTime)};var u})}saveNamedQuery(e,n){return D_(e).put({name:(l=n).name,readTime:$o(_s(l.readTime)),bundledQuery:l.bundledQuery});var l}}function I_(i){return gs(i,"bundles")}function D_(i){return gs(i,"namedQueries")}class Nf{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Nf(e,n.uid||"")}getOverlay(e,n){return Mc(e).get(E_(this.userId,n)).next(s=>s?rg(this.serializer,s):null)}getOverlays(e,n){const s=ga();return ct.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((u,v)=>{const M=new ta(n,v);l.push(this.lt(e,M))}),ct.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(v=>l.add(vo(v.getCollectionPath())));const u=[];return l.forEach(v=>{const M=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);u.push(Mc(e).H("collectionPathOverlayIndex",M))}),ct.waitFor(u)}getOverlaysForCollection(e,n,s){const l=ga(),u=vo(n),v=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Mc(e).W("collectionPathOverlayIndex",v).next(M=>{for(const F of M){const Y=rg(this.serializer,F);l.set(Y.getKey(),Y)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const u=ga();let v;const M=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mc(e).Y({index:"collectionGroupOverlayIndex",range:M},(F,Y,ce)=>{const xe=rg(this.serializer,Y);u.size()<l||xe.largestBatchId===v?(u.set(xe.getKey(),xe),v=xe.largestBatchId):ce.done()}).next(()=>u)}lt(e,n){return Mc(e).put(function(l,u,v){const[M,F,Y]=E_(u,v.mutation.key);return{userId:u,collectionPath:F,documentId:Y,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:Rc(l.ut,v.mutation)}}(this.serializer,this.userId,n))}}function Mc(i){return gs(i,"documentOverlays")}class Uo{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ri(e.integerValue));else if("doubleValue"in e){const s=Ri(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),Ou(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Jo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?mf(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):xt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const l of Object.keys(s))this.At(l,n),this.Pt(s[l],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const l of s)this.Pt(l,n)}ft(e,n){this.Tt(n,37),hn.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function lh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function sg(i){const e=64-function(s){let l=0;for(let u=0;u<8;++u){const v=lh(255&s[u]);if(l+=v,8!==v)break}return l}(i);return Math.ceil(e/8)}Uo.St=new Uo;class w_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),s=sg(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),s=sg(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(u){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,u,!1),new Uint8Array(v.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class T_{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class OE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class kf{constructor(){this.Wt=new w_,this.Gt=new T_(this.Wt),this.zt=new OE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class sd{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new sd(this.indexId,this.documentKey,this.arrayValue,s)}}function yl(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Ff(i.arrayValue,e.arrayValue),0!==n?n:(n=Ff(i.directionalValue,e.directionalValue),0!==n?n:hn.comparator(i.documentKey,e.documentKey)))}function Ff(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class By{constructor(e){this.Jt=new Dr((n,s)=>$i.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(nn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Rl(e);if(void 0!==n&&!this.tn(n))return!1;const s=C(e);let l=new Set,u=0,v=0;for(;u<s.length&&this.tn(s[u]);++u)l=l.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(this.Jt.size>0){const M=this.Jt.getIterator().getNext();if(!l.has(M.field.canonicalString())){const F=s[u];if(!this.nn(M,F)||!this.rn(this.Yt[v++],F))return!1}++u}for(;u<s.length;++u)if(v>=this.Yt.length||!this.rn(this.Yt[v++],s[u]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Dr($i.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new k(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new k(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new k(s.field,"asc"===s.dir?0:1)));return new sl(sl.UNKNOWN_ID,this.collectionId,n,B.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function $y(i){var e,n;if(nn(i instanceof Zr||i instanceof Si),i instanceof Zr){if(i instanceof Vl){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>Zr.create(i.field,"==",u)))||[];return Si.create(l,"or")}return i}const s=i.filters.map(l=>$y(l));return Si.create(s,i.op)}function A_(i){if(0===i.getFilters().length)return[];const e=lg($y(i));return nn(C_(e)),og(e)||ag(e)?[e]:e.getFilters()}function og(i){return i instanceof Zr}function ag(i){return i instanceof Si&&lc(i)}function C_(i){return og(i)||ag(i)||function(n){if(n instanceof Si&&Jc(n)){for(const s of n.getFilters())if(!og(s)&&!ag(s))return!1;return!0}return!1}(i)}function lg(i){if(nn(i instanceof Zr||i instanceof Si),i instanceof Zr)return i;if(1===i.filters.length)return lg(i.filters[0]);const e=i.filters.map(s=>lg(s));let n=Si.create(e,i.op);return n=uh(n),C_(n)?n:(nn(n instanceof Si),nn(pa(n)),nn(n.filters.length>1),n.filters.reduce((s,l)=>Lf(s,l)))}function Lf(i,e){let n;return nn(i instanceof Zr||i instanceof Si),nn(e instanceof Zr||e instanceof Si),n=i instanceof Zr?e instanceof Zr?Si.create([i,e],"and"):ch(i,e):e instanceof Zr?ch(e,i):function(l,u){if(nn(l.filters.length>0&&u.filters.length>0),pa(l)&&pa(u))return Kd(l,u.getFilters());const v=Jc(l)?l:u,M=Jc(l)?u:l,F=v.filters.map(Y=>Lf(Y,M));return Si.create(F,"or")}(i,e),uh(n)}function ch(i,e){if(pa(e))return Kd(e,i.getFilters());{const n=e.filters.map(s=>Lf(i,s));return Si.create(n,"or")}}function uh(i){if(nn(i instanceof Zr||i instanceof Si),i instanceof Zr)return i;const e=i.getFilters();if(1===e.length)return uh(e[0]);if(Uu(i))return i;const n=e.map(l=>uh(l)),s=[];return n.forEach(l=>{l instanceof Zr?s.push(l):l instanceof Si&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Si.create(s,i.op)}class cg{constructor(){this.on=new ug}addToCollectionParentIndex(e,n){return this.on.add(n),ct.resolve()}getCollectionParents(e,n){return ct.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ct.resolve()}deleteFieldIndex(e,n){return ct.resolve()}deleteAllFieldIndexes(e){return ct.resolve()}createTargetIndexes(e,n){return ct.resolve()}getDocumentsMatchingTarget(e,n){return ct.resolve(null)}getIndexType(e,n){return ct.resolve(0)}getFieldIndexes(e,n){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,n){return ct.resolve(Je.min())}getMinOffsetFromCollectionGroup(e,n){return ct.resolve(Je.min())}updateCollectionGroup(e,n,s){return ct.resolve()}updateIndexEntries(e,n){return ct.resolve()}}class ug{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Dr(zr.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Dr(zr.comparator)).toArray()}}const El=new Uint8Array(0);class Uy{constructor(e,n){this.user=e,this.databaseId=n,this._n=new ug,this.an=new Ro(s=>dc(s),(s,l)=>eu(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const u={collectionId:s,parent:vo(l)};return b_(e).put(u)}return ct.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Os(n),""],!1,!0);return b_(e).W(l).next(u=>{for(const v of u){if(v.collectionId!==n)break;s.push(da(v.parent))}return s})}addFieldIndex(e,n){const s=od(e),l={indexId:(M=n).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var M;delete l.indexId;const u=s.add(l);if(n.indexState){const v=ad(e);return u.next(M=>{v.put(ig(M,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const s=od(e),l=ad(e),u=hu(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=od(e),s=hu(e),l=ad(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return ct.forEach(this.un(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const u=new By(s).sn();if(null!=u)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,n){const s=hu(e);let l=!0;const u=new Map;return ct.forEach(this.un(n),v=>this.cn(e,v).next(M=>{l&&(l=!!M),u.set(v,M)})).next(()=>{if(l){let v=Ar();const M=[];return ct.forEach(u,(F,Y)=>{var nr;Mt("IndexedDbIndexManager",`Using index ${nr=F,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(Br=>`${Br.fieldPath}:${Br.kind}`).join(",")}`} to execute ${dc(n)}`);const ce=function(nr,Br){const Pi=Rl(Br);if(void 0===Pi)return null;for(const ni of Hu(nr,Pi.fieldPath))switch(ni.op){case"array-contains-any":return ni.value.arrayValue.values||[];case"array-contains":return[ni.value]}return null}(Y,F),xe=function(nr,Br){const Pi=new Map;for(const ni of C(Br))for(const uo of Hu(nr,ni.fieldPath))switch(uo.op){case"==":case"in":Pi.set(ni.fieldPath.canonicalString(),uo.value);break;case"not-in":case"!=":return Pi.set(ni.fieldPath.canonicalString(),uo.value),Array.from(Pi.values())}return null}(Y,F),et=function(nr,Br){const Pi=[];let ni=!0;for(const uo of C(Br)){const wo=0===uo.kind?zu(nr,uo.fieldPath,nr.startAt):Ga(nr,uo.fieldPath,nr.startAt);Pi.push(wo.value),ni&&(ni=wo.inclusive)}return new Ha(Pi,ni)}(Y,F),yt=function(nr,Br){const Pi=[];let ni=!0;for(const uo of C(Br)){const wo=0===uo.kind?Ga(nr,uo.fieldPath,nr.endAt):zu(nr,uo.fieldPath,nr.endAt);Pi.push(wo.value),ni&&(ni=wo.inclusive)}return new Ha(Pi,ni)}(Y,F),Qt=this.ln(F,Y,et),ln=this.ln(F,Y,yt),un=this.hn(F,Y,xe),Kn=this.Pn(F.indexId,ce,Qt,et.inclusive,ln,yt.inclusive,un);return ct.forEach(Kn,dr=>s.j(dr,n.limit).next(nr=>{nr.forEach(Br=>{const Pi=hn.fromSegments(Br.documentKey);v.has(Pi)||(v=v.add(Pi),M.push(Pi))})}))}).next(()=>M)}return ct.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:A_(Si.create(e.filters,"and")).map(s=>Xd(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,l,u,v,M){const F=(null!=n?n.length:1)*Math.max(s.length,u.length),Y=F/(null!=n?n.length:1),ce=[];for(let xe=0;xe<F;++xe){const et=n?this.In(n[xe/Y]):El,yt=this.Tn(e,et,s[xe%Y],l),Qt=this.En(e,et,u[xe%Y],v),ln=M.map(un=>this.Tn(e,et,un,!0));ce.push(...this.createRange(yt,Qt,ln))}return ce}Tn(e,n,s,l){const u=new sd(e,hn.empty(),n,s);return l?u:u.Ht()}En(e,n,s,l){const u=new sd(e,hn.empty(),n,s);return l?u.Ht():u}cn(e,n){const s=new By(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let v=null;for(const M of u)s.en(M)&&(!v||M.fields.length>v.fields.length)&&(v=M);return v})}getIndexType(e,n){let s=2;const l=this.un(n);return ct.forEach(l,u=>this.cn(e,u).next(v=>{v?0!==s&&v.fields.length<function(F){let Y=new Dr($i.comparator),ce=!1;for(const xe of F.filters)for(const et of xe.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?ce=!0:Y=Y.add(et.field));for(const xe of F.orderBy)xe.field.isKeyField()||(Y=Y.add(xe.field));return Y.size+(ce?1:0)}(u)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}dn(e,n){const s=new kf;for(const l of C(e)){const u=n.data.field(l.fieldPath);if(null==u)return null;const v=s.jt(l.kind);Uo.St.ht(u,v)}return s.Ut()}In(e){const n=new kf;return Uo.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new kf;return Uo.St.ht(ea(this.databaseId,n),s.jt(function(u){const v=C(u);return 0===v.length?0:v[v.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let l=[];l.push(new kf);let u=0;for(const v of C(e)){const M=s[u++];for(const F of l)if(this.Rn(n,v.fieldPath)&&Us(M))l=this.Vn(l,v,M);else{const Y=F.jt(v.kind);Uo.St.ht(M,Y)}}return this.mn(l)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const l=[...e],u=[];for(const v of s.arrayValue.values||[])for(const M of l){const F=new kf;F.seed(M.Ut()),Uo.St.ht(v,F.jt(n.kind)),u.push(F)}return u}Rn(e,n){return!!e.filters.find(s=>s instanceof Zr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=od(e),l=ad(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(u=>{const v=[];return ct.forEach(u,M=>l.get([M.indexId,this.uid]).next(F=>{v.push(function(ce,xe){const et=xe?new B(xe.sequenceNumber,new Je(Oa(xe.readTime),new hn(da(xe.documentKey)),xe.largestBatchId)):B.empty(),yt=ce.fields.map(([Qt,ln])=>new k($i.fromServerFormat(Qt),ln));return new sl(ce.indexId,ce.collectionGroup,yt,et)}(M,F))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const u=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:On(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=od(e),u=ad(e);return this.fn(e).next(v=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>ct.forEach(M,F=>u.put(ig(F.indexId,this.user,v,s)))))}updateIndexEntries(e,n){const s=new Map;return ct.forEach(n,(l,u)=>{const v=s.get(l.collectionGroup);return(v?ct.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(s.set(l.collectionGroup,M),ct.forEach(M,F=>this.gn(e,l,F).next(Y=>{const ce=this.pn(u,F);return Y.isEqual(ce)?ct.resolve():this.yn(e,u,F,Y,ce)}))))})}wn(e,n,s,l){return hu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,l){return hu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const l=hu(e);let u=new Dr(yl);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(v,M)=>{u=u.add(new sd(s.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>u)}pn(e,n){let s=new Dr(yl);const l=this.dn(n,e);if(null==l)return s;const u=Rl(n);if(null!=u){const v=e.data.field(u.fieldPath);if(Us(v))for(const M of v.arrayValue.values||[])s=s.add(new sd(n.indexId,e.key,this.In(M),l))}else s=s.add(new sd(n.indexId,e.key,El,l));return s}yn(e,n,s,l,u){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(F,Y,ce,xe,et){const yt=F.getIterator(),Qt=Y.getIterator();let ln=xl(yt),un=xl(Qt);for(;ln||un;){let Kn=!1,dr=!1;if(ln&&un){const nr=ce(ln,un);nr<0?dr=!0:nr>0&&(Kn=!0)}else null!=ln?dr=!0:Kn=!0;Kn?(xe(un),un=xl(Qt)):dr?(et(ln),ln=xl(yt)):(ln=xl(yt),un=xl(Qt))}}(l,u,yl,M=>{v.push(this.wn(e,n,s,M))},M=>{v.push(this.Sn(e,n,s,M))}),ct.waitFor(v)}fn(e){let n=1;return ad(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((v,M)=>yl(v,M)).filter((v,M,F)=>!M||0!==yl(v,F[M-1]));const l=[];l.push(e);for(const v of s){const M=yl(v,e),F=yl(v,n);if(0===M)l[0]=e.Ht();else if(M>0&&F<0)l.push(v),l.push(v.Ht());else if(F>0)break}l.push(n);const u=[];for(let v=0;v<l.length;v+=2){if(this.bn(l[v],l[v+1]))return[];u.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,El,[]],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,El,[]]))}return u}bn(e,n){return yl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(S_)}getMinOffset(e,n){return ct.mapArray(this.un(n),s=>this.cn(e,s).next(l=>l||xt())).next(S_)}}function b_(i){return gs(i,"collectionParents")}function hu(i){return gs(i,"indexEntries")}function od(i){return gs(i,"indexConfiguration")}function ad(i){return gs(i,"indexState")}function S_(i){nn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Yt(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Je(e.readTime,e.documentKey,n)}const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mo{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Mo(e,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dg(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),u=[],v=IDBKeyRange.only(n.batchId);let M=0;const F=s.Y({range:v},(ce,xe,et)=>(M++,et.delete()));u.push(F.next(()=>{nn(1===M)}));const Y=[];for(const ce of n.mutations){const xe=ba(e,ce.key.path,n.batchId);u.push(l.delete(xe)),Y.push(ce.key)}return ct.waitFor(u).next(()=>Y)}function hg(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw xt();e=i.noDocument}return JSON.stringify(e).length}Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(41943040,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class fg{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,n,s,l){nn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new fg(u,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qr(e).Y({index:"userMutationsIndex",range:s},(l,u,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const u=Il(e),v=Qr(e);return v.add({}).next(M=>{nn("number"==typeof M);const F=new Ma(M,n,s,l),Y=function(yt,Qt,ln){const un=ln.baseMutations.map(dr=>Rc(yt.ut,dr)),Kn=ln.mutations.map(dr=>Rc(yt.ut,dr));return{userId:Qt,batchId:ln.batchId,localWriteTimeMs:ln.localWriteTime.toMillis(),baseMutations:un,mutations:Kn}}(this.serializer,this.userId,F),ce=[];let xe=new Dr((et,yt)=>On(et.canonicalString(),yt.canonicalString()));for(const et of l){const yt=ba(this.userId,et.key.path,M);xe=xe.add(et.key.path.popLast()),ce.push(v.put(Y)),ce.push(u.put(yt,Ml))}return xe.forEach(et=>{ce.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Dn[M]=F.keys()}),ct.waitFor(ce).next(()=>F)})}lookupMutationBatch(e,n){return Qr(e).get(n).next(s=>s?(nn(s.userId===this.userId),du(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?ct.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Qr(e).Y({index:"userMutationsIndex",range:l},(v,M,F)=>{M.userId===this.userId&&(nn(M.batchId>=s),u=du(this.serializer,M)),F.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Qr(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,u,v)=>{s=u.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qr(e).W("userMutationsIndex",n).next(s=>s.map(l=>du(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=ll(this.userId,n.path),l=IDBKeyRange.lowerBound(s),u=[];return Il(e).Y({range:l},(v,M,F)=>{const[Y,ce,xe]=v,et=da(ce);if(Y===this.userId&&n.path.isEqual(et))return Qr(e).get(xe).next(yt=>{if(!yt)throw xt();nn(yt.userId===this.userId),u.push(du(this.serializer,yt))});F.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dr(On);const l=[];return n.forEach(u=>{const v=ll(this.userId,u.path),M=IDBKeyRange.lowerBound(v),F=Il(e).Y({range:M},(Y,ce,xe)=>{const[et,yt,Qt]=Y,ln=da(yt);et===this.userId&&u.path.isEqual(ln)?s=s.add(Qt):xe.done()});l.push(F)}),ct.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,u=ll(this.userId,s),v=IDBKeyRange.lowerBound(u);let M=new Dr(On);return Il(e).Y({range:v},(F,Y,ce)=>{const[xe,et,yt]=F,Qt=da(et);xe===this.userId&&s.isPrefixOf(Qt)?Qt.length===l&&(M=M.add(yt)):ce.done()}).next(()=>this.vn(e,M))}vn(e,n){const s=[],l=[];return n.forEach(u=>{l.push(Qr(e).get(u).next(v=>{if(null===v)throw xt();nn(v.userId===this.userId),s.push(du(this.serializer,v))}))}),ct.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return dg(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),ct.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ct.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Il(e).Y({range:s},(u,v,M)=>{if(u[0]===this.userId){const F=da(u[1]);l.push(F)}else M.done()}).next(()=>{nn(0===l.length)})})}containsKey(e,n){return ld(e,this.userId,n)}Mn(e){return pg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ld(i,e,n){const s=ll(e,n.path),l=s[1],u=IDBKeyRange.lowerBound(s);let v=!1;return Il(i).Y({range:u,J:!0},(M,F,Y)=>{const[ce,xe,et]=M;ce===e&&xe===l&&(v=!0),Y.done()}).next(()=>v)}function Qr(i){return gs(i,"mutations")}function Il(i){return gs(i,"documentMutations")}function pg(i){return gs(i,"mutationQueues")}class Oc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Oc(0)}static Nn(){return new Oc(-1)}}class gg{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new Oc(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>An.fromTimestamp(new hi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>fu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(nn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let l=0;const u=[];return fu(e).Y((v,M)=>{const F=ah(M);F.sequenceNumber<=n&&null===s.get(F.targetId)&&(l++,u.push(this.removeTargetData(e,F)))}).next(()=>ct.waitFor(u)).next(()=>l)}forEachTarget(e,n){return fu(e).Y((s,l)=>{const u=ah(l);n(u)})}Bn(e){return P_(e).get("targetGlobalKey").next(n=>(nn(null!==n),n))}Ln(e,n){return P_(e).put("targetGlobalKey",n)}kn(e,n){return fu(e).put(y_(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=dc(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return fu(e).Y({range:l,index:"queryTargetsIndex"},(v,M,F)=>{const Y=ah(M);eu(n,Y.target)&&(u=Y,F.done())}).next(()=>u)}addMatchingKeys(e,n,s){const l=[],u=ql(e);return n.forEach(v=>{const M=vo(v.path);l.push(u.put({targetId:s,path:M})),l.push(this.referenceDelegate.addReference(e,s,v))}),ct.waitFor(l)}removeMatchingKeys(e,n,s){const l=ql(e);return ct.forEach(n,u=>{const v=vo(u.path);return ct.waitFor([l.delete([s,v]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,n){const s=ql(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=ql(e);let u=Ar();return l.Y({range:s,J:!0},(v,M,F)=>{const Y=da(v[1]),ce=new hn(Y);u=u.add(ce)}).next(()=>u)}containsKey(e,n){const s=vo(n.path),l=IDBKeyRange.bound([s],[Os(s)],!1,!0);let u=0;return ql(e).Y({index:"documentTargetsIndex",J:!0,range:l},([v,M],F,Y)=>{0!==v&&(u++,Y.done())}).next(()=>u>0)}_t(e,n){return fu(e).get(n).next(s=>s?ah(s):null)}}function fu(i){return gs(i,"targets")}function P_(i){return gs(i,"targetGlobal")}function ql(i){return gs(i,"targetDocuments")}function mg([i,e],[n,s]){const l=On(i,n);return 0===l?On(e,s):l}class Vf{constructor(e){this.Qn=e,this.buffer=new Dr(mg),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jy{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){oo(s)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Un(s)}yield n.Gn(3e5)}))}}class _g{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return ct.resolve(ao._e);const s=new Vf(n);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(R_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,l,u,v,M,F,Y;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),l=this.params.maximumSequenceNumbersToCollect):l=xe,v=Date.now(),this.nthSequenceNumber(e,l))).next(xe=>(s=xe,M=Date.now(),this.removeTargets(e,s,n))).next(xe=>(u=xe,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(xe=>(Y=Date.now(),Di()<=Le.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ce}ms\n\tDetermined least recently used ${l} in `+(M-v)+`ms\n\tRemoved ${u} targets in `+(F-M)+`ms\n\tRemoved ${xe} documents in `+(Y-F)+`ms\nTotal Duration: ${Y-ce}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:xe})))}}class vg{constructor(e,n){this.db=e,this.garbageCollector=function M_(i,e){return new _g(i,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,l)=>n(l))}addReference(e,n,s){return dh(e,s)}removeReference(e,n,s){return dh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return dh(e,n)}Xn(e,n){return function(l,u){let v=!1;return pg(l).Z(M=>ld(l,M,u).next(F=>(F&&(v=!0),ct.resolve(!F)))).next(()=>v)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Zn(e,(v,M)=>{if(M<=n){const F=this.Xn(e,v).next(Y=>{if(!Y)return u++,s.getEntry(e,v).next(()=>(s.removeEntry(v,An.min()),ql(e).delete([0,vo(v.path)])))});l.push(F)}}).next(()=>ct.waitFor(l)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return dh(e,n)}Zn(e,n){const s=ql(e);let l,u=ao._e;return s.Y({index:"documentTargetsIndex"},([v,M],{path:F,sequenceNumber:Y})=>{0===v?(u!==ao._e&&n(new hn(da(l)),u),u=Y,l=F):u=ao._e}).next(()=>{u!==ao._e&&n(new hn(da(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dh(i,e){return ql(i).put((l=i.currentSequenceNumber,{targetId:0,path:vo(e.path),sequenceNumber:l}));var l}class yg{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?ct.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return gu(e).put(s)}removeEntry(e,n,s){return gu(e).delete(function(u,v){const M=u.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],xf(v),M[M.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=cs.newInvalidDocument(n);return gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(mu(n))},(l,u)=>{s=this.tr(n,u)}).next(()=>s)}nr(e,n){let s={size:0,document:cs.newInvalidDocument(n)};return gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(mu(n))},(l,u)=>{s={document:this.tr(n,u),size:hg(u)}}).next(()=>s)}getEntries(e,n){let s=Io();return this.rr(e,n,(l,u)=>{const v=this.tr(l,u);s=s.insert(l,v)}).next(()=>s)}ir(e,n){let s=Io(),l=new Ui(hn.comparator);return this.rr(e,n,(u,v)=>{const M=this.tr(u,v);s=s.insert(u,M),l=l.insert(u,hg(v))}).next(()=>({documents:s,sr:l}))}rr(e,n,s){if(n.isEmpty())return ct.resolve();let l=new Dr(Ya);n.forEach(F=>l=l.add(F));const u=IDBKeyRange.bound(mu(l.first()),mu(l.last())),v=l.getIterator();let M=v.getNext();return gu(e).Y({index:"documentKeyIndex",range:u},(F,Y,ce)=>{const xe=hn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;M&&Ya(M,xe)<0;)s(M,null),M=v.getNext();M&&M.isEqual(xe)&&(s(M,Y),M=v.hasNext()?v.getNext():null),M?ce.U(mu(M)):ce.done()}).next(()=>{for(;M;)s(M,null),M=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,u){const v=n.path,M=[v.popLast().toArray(),v.lastSegment(),xf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],F=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gu(e).W(IDBKeyRange.bound(M,F,!0)).next(Y=>{null==u||u.incrementDocumentReadCount(Y.length);let ce=Io();for(const xe of Y){const et=this.tr(hn.fromSegments(xe.prefixPath.concat(xe.collectionGroup,xe.documentId)),xe);et.isFoundDocument()&&(Wu(n,et)||l.has(et.key))&&(ce=ce.insert(et.key,et))}return ce})}getAllFromCollectionGroup(e,n,s,l){let u=Io();const v=fh(n,s),M=fh(n,Je.max());return gu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,M,!0)},(F,Y,ce)=>{const xe=this.tr(hn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);u=u.insert(xe.key,xe),u.size===l&&ce.done()}).next(()=>u)}newChangeBuffer(e){return new Eg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hh(e).get("remoteDocumentGlobalKey").next(n=>(nn(!!n),n))}er(e,n){return hh(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function Ly(i,e){let n;if(e.document)n=h_(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=hn.fromSegments(e.noDocument.path),l=Oa(e.noDocument.readTime);n=cs.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const s=hn.fromSegments(e.unknownDocument.path),l=Oa(e.unknownDocument.version);n=cs.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const u=new hi(l[0],l[1]);return An.fromTimestamp(u)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(An.min()))return s}return cs.newInvalidDocument(e)}}function O_(i){return new pu(i)}class Eg extends yg{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Ro(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Dr((u,v)=>On(u.canonicalString(),v.canonicalString()));return this.changes.forEach((u,v)=>{const M=this.ar.get(u);if(n.push(this._r.removeEntry(e,u,M.readTime)),v.isValidDocument()){const F=v_(this._r.serializer,v);l=l.add(u.path.popLast());const Y=hg(F);s+=Y-M.size,n.push(this._r.addEntry(e,u,F))}else if(s-=M.size,this.trackRemovals){const F=v_(this._r.serializer,v.convertToNoDocument(An.min()));n.push(this._r.addEntry(e,u,F))}}),l.forEach(u=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,u))}),n.push(this._r.updateMetadata(e,s)),ct.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:l})=>(l.forEach((u,v)=>{this.ar.set(u,{size:v,readTime:s.get(u).readTime})}),s))}}function hh(i){return gs(i,"remoteDocumentGlobal")}function gu(i){return gs(i,"remoteDocumentsV14")}function mu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fh(i,e){const n=e.documentKey.path.toArray();return[i,xf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ya(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<s.length-2;++u)if(l=On(n[u],s[u]),l)return l;return l=On(n.length,s.length),l||(l=On(n[n.length-2],s[s.length-2]),l||On(n[n.length-1],s[s.length-1]))}class Bf{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $f{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Dc(s.mutation,l,Js.empty(),hi.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ar()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ar()){const l=ga();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let v=gl();return u.forEach((M,F)=>{v=v.insert(M,F.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ar()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((v,M)=>{n.set(v,M)})})}computeViews(e,n,s,l){let u=Io();const v=ml(),M=ml();return n.forEach((F,Y)=>{const ce=s.get(Y.key);l.has(Y.key)&&(void 0===ce||ce.mutation instanceof Bo)?u=u.insert(Y.key,Y):void 0!==ce?(v.set(Y.key,ce.mutation.getFieldMask()),Dc(ce.mutation,Y,ce.mutation.getFieldMask(),hi.now())):v.set(Y.key,Js.empty())}),this.recalculateAndSaveOverlays(e,u).next(F=>(F.forEach((Y,ce)=>v.set(Y,ce)),n.forEach((Y,ce)=>{var xe;return M.set(Y,new Bf(ce,null!==(xe=v.get(Y))&&void 0!==xe?xe:null))}),M))}recalculateAndSaveOverlays(e,n){const s=ml();let l=new Ui((v,M)=>v-M),u=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const M of v)M.keys().forEach(F=>{const Y=n.get(F);if(null===Y)return;let ce=s.get(F)||Js.empty();ce=M.applyToLocalView(Y,ce),s.set(F,ce);const xe=(l.get(M.batchId)||Ar()).add(F);l=l.insert(M.batchId,xe)})}).next(()=>{const v=[],M=l.getReverseIterator();for(;M.hasNext();){const F=M.getNext(),Y=F.key,ce=F.value,xe=pc();ce.forEach(et=>{if(!u.has(et)){const yt=au(n.get(et),s.get(et));null!==yt&&xe.set(et,yt),u=u.add(et)}}),v.push(this.documentOverlayCache.saveOverlays(e,Y,xe))}return ct.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return hn.isDocumentKey((v=n).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Gu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var v}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const v=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ct.resolve(ga());let M=-1,F=u;return v.next(Y=>ct.forEach(Y,(ce,xe)=>(M<xe.largestBatchId&&(M=xe.largestBatchId),u.get(ce)?ct.resolve():this.remoteDocumentCache.getEntry(e,ce).next(et=>{F=F.insert(ce,et)}))).next(()=>this.populateOverlays(e,Y,u)).next(()=>this.computeViews(e,F,Y,Ar())).next(ce=>({batchId:M,changes:$l(ce)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new hn(n)).next(s=>{let l=gl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let v=gl();return this.indexManager.getCollectionParents(e,u).next(M=>ct.forEach(M,F=>{const Y=(xe=n,et=F.child(u),new Wa(et,null,xe.explicitOrderBy.slice(),xe.filters.slice(),xe.limit,xe.limitType,xe.startAt,xe.endAt));var xe,et;return this.getDocumentsMatchingCollectionQuery(e,Y,s,l).next(ce=>{ce.forEach((xe,et)=>{v=v.insert(xe,et)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(v=>(u=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(v=>{u.forEach((F,Y)=>{const ce=Y.getKey();null===v.get(ce)&&(v=v.insert(ce,cs.newInvalidDocument(ce)))});let M=gl();return v.forEach((F,Y)=>{const ce=u.get(F);void 0!==ce&&Dc(ce.mutation,Y,Js.empty(),hi.now()),Wu(n,Y)&&(M=M.insert(F,Y))}),M})}}class Hy{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ct.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:_s(l.createTime)}),ct.resolve();var l}getNamedQuery(e,n){return ct.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:ng(l.bundledQuery),readTime:_s(l.readTime)}),ct.resolve();var l}}class zy{constructor(){this.overlays=new Ui(hn.comparator),this.lr=new Map}getOverlay(e,n){return ct.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return ct.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.lt(e,n,u)}),ct.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.lr.delete(s)),ct.resolve()}getOverlaysForCollection(e,n,s){const l=ga(),u=n.length+1,v=new hn(n.child("")),M=this.overlays.getIteratorFrom(v);for(;M.hasNext();){const F=M.getNext().value,Y=F.getKey();if(!n.isPrefixOf(Y.path))break;Y.path.length===u&&F.largestBatchId>s&&l.set(F.getKey(),F)}return ct.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new Ui((Y,ce)=>Y-ce);const v=this.overlays.getIterator();for(;v.hasNext();){const Y=v.getNext().value;if(Y.getKey().getCollectionGroup()===n&&Y.largestBatchId>s){let ce=u.get(Y.largestBatchId);null===ce&&(ce=ga(),u=u.insert(Y.largestBatchId,ce)),ce.set(Y.getKey(),Y)}}const M=ga(),F=u.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((Y,ce)=>M.set(Y,ce)),!(M.size()>=l)););return ct.resolve(M)}lt(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const v=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new ta(n,s));let u=this.lr.get(n);void 0===u&&(u=Ar(),this.lr.set(n,u)),this.lr.set(n,u.add(s.key))}}class Uf{constructor(){this.hr=new Dr(Ps.Pr),this.Ir=new Dr(Ps.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new Ps(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new Ps(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new hn(new zr([])),s=new Ps(n,e),l=new Ps(n,e+1),u=[];return this.Ir.forEachInRange([s,l],v=>{this.dr(v),u.push(v.key)}),u}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new hn(new zr([])),s=new Ps(n,e),l=new Ps(n,e+1);let u=Ar();return this.Ir.forEachInRange([s,l],v=>{u=u.add(v.key)}),u}containsKey(e){const n=new Ps(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class Ps{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return hn.comparator(e.key,n.key)||On(e.gr,n.gr)}static Tr(e,n){return On(e.gr,n.gr)||hn.comparator(e.key,n.key)}}class Gy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dr(Ps.Pr)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const u=this.pr;this.pr++;const v=new Ma(u,n,s,l);this.mutationQueue.push(v);for(const M of l)this.yr=this.yr.add(new Ps(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return ct.resolve(v)}lookupMutationBatch(e,n){return ct.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),u=l<0?0:l;return ct.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ps(n,0),l=new Ps(n,Number.POSITIVE_INFINITY),u=[];return this.yr.forEachInRange([s,l],v=>{const M=this.wr(v.gr);u.push(M)}),ct.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dr(On);return n.forEach(l=>{const u=new Ps(l,0),v=new Ps(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([u,v],M=>{s=s.add(M.gr)})}),ct.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;hn.isDocumentKey(u)||(u=u.child(""));const v=new Ps(new hn(u),0);let M=new Dr(On);return this.yr.forEachWhile(F=>{const Y=F.key.path;return!!s.isPrefixOf(Y)&&(Y.length===l&&(M=M.add(F.gr)),!0)},v),ct.resolve(this.br(M))}br(e){const n=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){nn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return ct.forEach(n.mutations,l=>{const u=new Ps(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new Ps(n,0),l=this.yr.firstAfterOrEqual(s);return ct.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return ct.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Wy{constructor(e){this.Cr=e,this.docs=new Ui(hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,v=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:v}),this.size+=v-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ct.resolve(s?s.document.mutableCopy():cs.newInvalidDocument(n))}getEntries(e,n){let s=Io();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():cs.newInvalidDocument(l))}),ct.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=Io();const v=n.path,M=new hn(v.child("")),F=this.docs.getIteratorFrom(M);for(;F.hasNext();){const{key:Y,value:{document:ce}}=F.getNext();if(!v.isPrefixOf(Y.path))break;Y.path.length>v.length+1||Yt(Ce(ce),s)<=0||(l.has(ce.key)||Wu(n,ce))&&(u=u.insert(ce.key,ce.mutableCopy()))}return ct.resolve(u)}getAllFromCollectionGroup(e,n,s,l){xt()}vr(e,n){return ct.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qy(this)}getSize(e){return ct.resolve(this.size)}}class qy extends yg{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),ct.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ig{constructor(e){this.persistence=e,this.Fr=new Ro(n=>dc(n),eu),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Uf,this.targetCount=0,this.Nr=Oc.On()}forEachTarget(e,n){return this.Fr.forEach((s,l)=>n(l)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),ct.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ct.resolve()}updateTargetData(e,n){return this.kn(n),ct.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.Fr.forEach((v,M)=>{M.sequenceNumber<=n&&null===s.get(M.targetId)&&(this.Fr.delete(v),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),ct.waitFor(u).next(()=>l)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return ct.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),ct.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(v=>{u.push(l.markPotentiallyOrphaned(e,v))}),ct.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ct.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return ct.resolve(s)}containsKey(e,n){return ct.resolve(this.Or.containsKey(n))}}class jf{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ao(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ig(this),this.indexManager=new cg,this.remoteDocumentCache=new Wy(s=>this.referenceDelegate.Qr(s)),this.serializer=new __(n),this.Kr=new Hy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Gy(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Mt("MemoryPersistence","Starting transaction:",e);const l=new Yy(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(u=>this.referenceDelegate.Ur(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Wr(e,n){return ct.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class Yy extends sn{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Gr=new Uf,this.zr=null}static jr(e){return new ph(e)}get Hr(){if(this.zr)return this.zr;throw xt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),ct.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),ct.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ct.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.Hr.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Hr,s=>{const l=hn.fromPath(s);return this.Jr(e,l).next(u=>{u||n.removeEntry(l,An.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ct.or([()=>ct.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class xE{constructor(e){this.serializer=e}N(e,n,s,l){const u=new kr("createOrUpgrade",n);var F;s<1&&l>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hp,{unique:!0}),F.createObjectStore("documentMutations"),x_(e),function(F){F.createObjectStore("remoteDocuments")}(e));let v=ct.resolve();return s<3&&l>=3&&(0!==s&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),x_(e)),v=v.next(()=>function(F){const Y=F.store("targetGlobal"),ce={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:An.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ce)}(u))),s<4&&l>=4&&(0!==s&&(v=v.next(()=>function(F,Y){return Y.store("mutations").W().next(ce=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hp,{unique:!0});const xe=Y.store("mutations"),et=ce.map(yt=>xe.put(yt));return ct.waitFor(et)})}(e,u))),v=v.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(v=v.next(()=>this.Zr(u))),s<6&&l>=6&&(v=v.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(u)))),s<7&&l>=7&&(v=v.next(()=>this.ei(u))),s<8&&l>=8&&(v=v.next(()=>this.ti(e,u))),s<9&&l>=9&&(v=v.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(v=v.next(()=>this.ni(u))),s<11&&l>=11&&(v=v.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(v=v.next(()=>{!function(F){const Y=F.createObjectStore("documentOverlays",{keyPath:cf});Y.createIndex("collectionPathOverlayIndex",sc,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Zc,{unique:!1})}(e)})),s<13&&l>=13&&(v=v.next(()=>function(F){const Y=F.createObjectStore("remoteDocumentsV14",{keyPath:Ol});Y.createIndex("documentKeyIndex",Bd),Y.createIndex("collectionGroupIndex",xu)}(e)).next(()=>this.ri(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(v=v.next(()=>this.ii(e,u))),s<15&&l>=15&&(v=v.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Sa}).createIndex("sequenceNumberIndex",Ud,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:ku}).createIndex("documentKeyIndex",Kc,{unique:!1})}(e))),v}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=hg(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>ct.forEach(l,u=>{const v=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",v).next(M=>ct.forEach(M,F=>{nn(F.userId===u.userId);const Y=du(this.serializer,F);return dg(e,u.userId,Y).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return s.Y((v,M)=>{const F=new zr(v),Y=[0,vo(F)];u.push(n.get(Y).next(ce=>ce?ct.resolve():n.put({targetId:0,path:vo(F),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(u))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:zp});const s=n.store("collectionParents"),l=new ug,u=v=>{if(l.add(v)){const M=v.lastSegment(),F=v.popLast();return s.put({collectionId:M,parent:vo(F)})}};return n.store("remoteDocuments").Y({J:!0},(v,M)=>{const F=new zr(v);return u(F.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([v,M,F],Y)=>{const ce=da(M);return u(ce.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,l)=>{const u=ah(l),v=y_(this.serializer,u);return n.put(v)})}ri(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((u,v)=>{const M=n.store("remoteDocumentsV14"),F=(xe=v,xe.document?new hn(zr.fromString(xe.document.name).popFirst(5)):xe.noDocument?hn.fromSegments(xe.noDocument.path):xe.unknownDocument?hn.fromSegments(xe.unknownDocument.path):xt()).path.toArray(),Y={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var xe;l.push(M.put(Y))}).next(()=>ct.waitFor(l))}ii(e,n){const s=n.store("mutations"),l=O_(this.serializer),u=new jf(ph.jr,this.serializer.ut);return s.W().next(v=>{const M=new Map;return v.forEach(F=>{var Y;let ce=null!==(Y=M.get(F.userId))&&void 0!==Y?Y:Ar();du(this.serializer,F).keys().forEach(xe=>ce=ce.add(xe)),M.set(F.userId,ce)}),ct.forEach(M,(F,Y)=>{const ce=new Bn(Y),xe=Nf.ct(this.serializer,ce),et=u.getIndexManager(ce),yt=fg.ct(ce,this.serializer,et,u.referenceDelegate);return new $f(l,yt,xe,et).recalculateAndSaveOverlaysForDocumentKeys(new Qc(n,ao._e),F).next()})})}}function x_(i){i.createObjectStore("targetDocuments",{keyPath:Nu}).createIndex("documentTargetsIndex",$d,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",o_,{unique:!0}),i.createObjectStore("targetGlobal")}const Dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wg{constructor(e,n,s,l,u,v,M,F,Y,ce,xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=u,this.window=v,this.document=M,this.oi=Y,this._i=ce,this.ai=xe,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=et=>Promise.resolve(),!wg.D())throw new kt(mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vg(this,l),this.Ii=n+"main",this.serializer=new __(F),this.Ti=new Kr(this.Ii,this.ai,new xE(this.serializer)),this.qr=new gg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=O_(this.serializer),this.Kr=new Vy,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===ce&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(mt.FAILED_PRECONDITION,Dg);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ao(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,te.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,te.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,te.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(oo(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Hf(e).get("owner").next(n=>ct.resolve(this.wi(n)))}Si(e){return Tg(e).delete(this.clientId)}bi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=gs(s,"clientMetadata");return l.W().next(u=>{const v=e.Ci(u,18e5),M=u.filter(F=>-1===v.indexOf(F));return ct.forEach(M,F=>l.delete(F.clientId)).next(()=>M)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ct.resolve(!0):Hf(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new kt(mt.FAILED_PRECONDITION,Dg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tg(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,te.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Qc(n,ao._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Tg(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return fg.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uy(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Nf.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){Mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",u=15===(F=this.ai)?Fu:14===F?Hd:13===F?jd:12===F?oc:11===F?uf:void xt();var F;let v;return this.Ti.runTransaction(e,l,u,M=>(v=new Qc(M,this.Lr?this.Lr.next():ao._e),"readwrite-primary"===n?this.fi(v).next(F=>!!F||this.gi(v)).next(F=>{if(!F)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new kt(mt.FAILED_PRECONDITION,_t);return s(v)}).next(F=>this.yi(v).next(()=>F)):this.Li(v).next(()=>s(v)))).then(M=>(v.raiseOnCommittedEvent(),M))}Li(e){return Hf(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new kt(mt.FAILED_PRECONDITION,Dg)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hf(e).put("owner",n)}static D(){return Kr.D()}pi(e){const n=Hf(e);return n.get("owner").next(s=>this.wi(s)?(Mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ct.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(Mr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,ve.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Mr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hf(i){return gs(i,"owner")}function Tg(i){return gs(i,"clientMetadata")}function ud(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ag{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=l}static Qi(e,n){let s=Ar(),l=Ar();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ag(e,n.fromCache,s,l)}}class Cg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.zi(e,n).next(v=>{u.result=v}).next(()=>{if(!u.result)return this.ji(e,n,l,s).next(v=>{u.result=v})}).next(()=>{if(u.result)return;const v=new Cg;return this.Hi(e,n,v).next(M=>{if(u.result=M,this.$i)return this.Ji(e,n,v,M.size)})}).next(()=>u.result)}Ji(e,n,s,l){return s.documentReadCount<this.Ui?(Di()<=Le.in.DEBUG&&Mt("QueryEngine","SDK will not create cache indexes for query:",nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ct.resolve()):(Di()<=Le.in.DEBUG&&Mt("QueryEngine","Query:",nu(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(Di()<=Le.in.DEBUG&&Mt("QueryEngine","The SDK decides to create cache indexes for query:",nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Eo(n))):ct.resolve())}zi(e,n){if(eh(n))return ct.resolve(null);let s=Eo(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=th(n,null,"F"),s=Eo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const v=Ar(...u);return this.Gi.getDocuments(e,v).next(M=>this.indexManager.getMinOffset(e,s).next(F=>{const Y=this.Yi(n,M);return this.Zi(n,Y,v,F.readTime)?this.zi(e,th(n,null,"F")):this.Xi(e,Y,n,F)}))})))}ji(e,n,s,l){return eh(n)||l.isEqual(An.min())?ct.resolve(null):this.Gi.getDocuments(e,s).next(u=>{const v=this.Yi(n,u);return this.Zi(n,v,s,l)?ct.resolve(null):(Di()<=Le.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),nu(n)),this.Xi(e,v,n,oe(l,-1)).next(M=>M))})}Yi(e,n){let s=new Dr(Qp(e));return n.forEach((l,u)=>{Wu(e,u)&&(s=s.add(u))}),s}Zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Hi(e,n,s){return Di()<=Le.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",nu(n)),this.Gi.getDocumentsMatchingQuery(e,n,Je.min(),s)}Xi(e,n,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(v=>{u=u.insert(v.key,v)}),u))}}class dd{constructor(e,n,s,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new Ui(On),this.ns=new Ro(u=>dc(u),eu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $f(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function gh(i,e,n,s){return new dd(i,e,n,s)}function mh(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,te.Z)(function*(i,e){const n=zt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const v=[],M=[];let F=Ar();for(const Y of l){v.push(Y.batchId);for(const ce of Y.mutations)F=F.add(ce.key)}for(const Y of u){M.push(Y.batchId);for(const ce of Y.mutations)F=F.add(ce.key)}return n.localDocuments.getDocuments(s,F).next(Y=>({_s:Y,removedBatchIds:v,addedBatchIds:M}))})})}),xc.apply(this,arguments)}function _u(i){const e=zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function vh(i,e,n){let s=Ar(),l=Ar();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let v=Io();return n.forEach((M,F)=>{const Y=u.get(M);F.isFoundDocument()!==Y.isFoundDocument()&&(l=l.add(M)),F.isNoDocument()&&F.version.isEqual(An.min())?(e.removeEntry(M,F.readTime),v=v.insert(M,F)):!Y.isValidDocument()||F.version.compareTo(Y.version)>0||0===F.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(F),v=v.insert(M,F)):Mt("LocalStore","Ignoring outdated watch update for ",M,". Current version:",Y.version," Watch version:",F.version)}),{us:v,cs:l}})}function yh(i,e){const n=zt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Eh(i,e){const n=zt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.qr.getTargetData(s,e).next(u=>u?(l=u,ct.resolve(l)):n.qr.allocateTargetId(s).next(v=>(l=new Wl(e,v,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function Nc(i,e,n){return vu.apply(this,arguments)}function vu(){return vu=(0,te.Z)(function*(i,e,n){const s=zt(i),l=s.ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,v=>s.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!oo(v))throw v;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),vu.apply(this,arguments)}function Gf(i,e,n){const s=zt(i);let l=An.min(),u=Ar();return s.persistence.runTransaction("Execute query","readwrite",v=>function(F,Y,ce){const xe=zt(F),et=xe.ns.get(ce);return void 0!==et?ct.resolve(xe.ts.get(et)):xe.qr.getTargetData(Y,ce)}(s,v,Eo(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(v,M.targetId).next(F=>{u=F})}).next(()=>s.es.getDocumentsMatchingQuery(v,e,n?l:An.min(),n?u:Ar())).next(M=>(k_(s,Zp(e),M),{documents:M,ls:u})))}function Sg(i,e){const n=zt(i),s=zt(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>s._t(u,e).next(v=>v?v.target:null))}function N_(i,e){const n=zt(i),s=n.rs.get(e)||An.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,oe(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(k_(n,e,l),l))}function k_(i,e,n){let s=i.rs.get(e)||An.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.rs.set(e,s)}function Wf(){return Wf=(0,te.Z)(function*(i,e,n,s){const l=zt(i);let u=Ar(),v=Io();for(const Y of n){const ce=e.hs(Y.metadata.name);Y.document&&(u=u.add(ce));const xe=e.Ps(Y);xe.setReadTime(e.Is(Y.metadata.readTime)),v=v.insert(ce,xe)}const M=l.ss.newChangeBuffer({trackRemovals:!0}),F=yield Eh(l,(ce=s,Eo(Bl(zr.fromString(`__bundle__/docs/${ce}`)))));var ce;return l.persistence.runTransaction("Apply bundle documents","readwrite",Y=>vh(Y,M,v).next(ce=>(M.apply(Y),ce)).next(ce=>l.qr.removeMatchingKeysForTargetId(Y,F.targetId).next(()=>l.qr.addMatchingKeys(Y,u,F.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Y,ce.us,ce.cs)).next(()=>ce.us)))}),Wf.apply(this,arguments)}function Ky(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,te.Z)(function*(i,e,n=Ar()){const s=yield Eh(i,Eo(ng(e.bundledQuery))),l=zt(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const v=_s(e.readTime);if(s.snapshotVersion.compareTo(v)>=0)return l.Kr.saveNamedQuery(u,e);const M=s.withResumeToken(ms.EMPTY_BYTE_STRING,v);return l.ts=l.ts.insert(M.targetId,M),l.qr.updateTargetData(u,M).next(()=>l.qr.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>l.qr.addMatchingKeys(u,n,s.targetId)).next(()=>l.Kr.saveNamedQuery(u,e))})}),Pg.apply(this,arguments)}function Zy(i,e){return`firestore_clients_${i}_${e}`}function F_(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function hd(i,e){return`firestore_targets_${i}_${e}`}class fd{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Ts(e,n,s){const l=JSON.parse(s);let u,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(u=new kt(l.error.code,l.error.message))),v?new fd(e,n,l.state,u):(Mr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ih{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let l,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new kt(s.error.code,s.error.message))),u?new Ih(e,s.state,l):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,u=nh();for(let v=0;l&&v<s.activeTargetIds.length;++v)l=ic(s.activeTargetIds[v]),u=u.add(s.activeTargetIds[v]);return l?new Dh(e,u):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wh{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new wh(n.clientId,n.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pd{constructor(){this.activeTargetIds=nh()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mg{constructor(e,n,s,l,u){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ui(On),this.started=!1,this.ps=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ys=Zy(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new pd),this.Ss=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const u=e.getItem(Zy(e.persistenceKey,l));if(u){const v=Dh.Ts(l,u);v&&(e.gs=e.gs.insert(v.clientId,v))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(hd(this.persistenceKey,e));if(s){const l=Ih.Ts(e,s);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hd(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Mt("SharedClientState","READ",e,n),n}setItem(e,n){Mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(Mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,te.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const l=n.Ks(s.key);return n.$s(l,null)}{const l=n.Us(s.key,s.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const l=n.Ws(s.key,s.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.zs(s.key,s.newValue);if(l)return n.js(l)}}else if(s.key===n.Cs){if(null!==s.newValue){const l=n.Ms(s.newValue);if(l)return n.xs(l)}}else if(s.key===n.ws){const l=function(v){let M=ao._e;if(null!=v)try{const F=JSON.parse(v);nn("number"==typeof F),M=F}catch(F){Mr("SharedClientState","Failed to read sequence number from WebStorage",F)}return M}(s.newValue);l!==ao._e&&n.sequenceNumberHandler(l)}else if(s.key===n.vs){const l=n.Hs(s.newValue);yield Promise.all(l.map(u=>n.syncEngine.Js(u)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const l=new fd(this.currentUser,e,n,s),u=F_(this.persistenceKey,this.currentUser,e);this.setItem(u,l.Es())}Bs(e){const n=F_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const l=hd(this.persistenceKey,e),u=new Ih(e,n,s);this.setItem(l,u.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return Dh.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),l=Number(s[1]);return fd.Ts(new Bn(void 0!==s[2]?s[2]:null),l,n)}zs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return Ih.Ts(l,n)}Ms(e){return wh.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,te.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),u=this.Os(s),v=[],M=[];return u.forEach(F=>{l.has(F)||v.push(F)}),l.forEach(F=>{u.has(F)||M.push(F)}),this.syncEngine.Xs(v,M).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=nh();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Og{constructor(){this.eo=new pd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new pd,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qy{ro(e){}shutdown(){}}class xg{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ng=null;function kg(){return null===Ng?Ng=268435456+Math.round(2147483648*Math.random()):Ng++,"0x"+Ng.toString(16)}const Th={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xy{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Hs="WebChannelConnection";class Ah extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${l}/databases/${u}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get yo(){return!1}wo(n,s,l,u,v){const M=kg(),F=this.So(n,s);Mt("RestConnection",`Sending RPC '${n}' ${M}:`,F,l);const Y={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(Y,u,v),this.Do(n,F,Y,l).then(ce=>(Mt("RestConnection",`Received RPC '${n}' ${M}: `,ce),ce),ce=>{throw Yn("RestConnection",`RPC '${n}' ${M} failed with error: `,ce,"url: ",F,"request:",l),ce})}Co(n,s,l,u,v,M){return this.wo(n,s,l,u,v)}bo(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+ir,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,v)=>n[v]=u),l&&l.headers.forEach((u,v)=>n[v]=u)}So(n,s){return`${this.mo}/v1/${s}:${Th[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,l){const u=kg();return new Promise((v,M)=>{const F=new yn;F.setWithCredentials(!0),F.listenOnce(He.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Se.NO_ERROR:const ce=F.getResponseJson();Mt(Hs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ce)),v(ce);break;case Se.TIMEOUT:Mt(Hs,`RPC '${e}' ${u} timed out`),M(new kt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Se.HTTP_ERROR:const xe=F.getStatus();if(Mt(Hs,`RPC '${e}' ${u} failed with status:`,xe,"response text:",F.getResponseText()),xe>0){let et=F.getResponseJson();Array.isArray(et)&&(et=et[0]);const yt=null==et?void 0:et.error;if(yt&&yt.status&&yt.message){const Qt=function(un){const Kn=un.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(Kn)>=0?Kn:mt.UNKNOWN}(yt.status);M(new kt(Qt,yt.message))}else M(new kt(mt.UNKNOWN,"Server responded with status "+F.getStatus()))}else M(new kt(mt.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Mt(Hs,`RPC '${e}' ${u} completed.`)}});const Y=JSON.stringify(l);Mt(Hs,`RPC '${e}' ${u} sending request:`,l),F.send(n,"POST",Y,s,15)})}vo(e,n,s){const l=kg(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=q(),M=ae(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(F.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(F.xmlHttpFactory=new Jt({})),this.bo(F.initMessageHeaders,n,s),F.encodeInitMessageHeaders=!0;const ce=u.join("");Mt(Hs,`Creating RPC '${e}' stream ${l}: ${ce}`,F);const xe=v.createWebChannel(ce,F);let et=!1,yt=!1;const Qt=new Xy({co:un=>{yt?Mt(Hs,`Not sending because RPC '${e}' stream ${l} is closed:`,un):(et||(Mt(Hs,`Opening RPC '${e}' stream ${l} transport.`),xe.open(),et=!0),Mt(Hs,`RPC '${e}' stream ${l} sending:`,un),xe.send(un))},lo:()=>xe.close()}),ln=(un,Kn,dr)=>{un.listen(Kn,nr=>{try{dr(nr)}catch(Br){setTimeout(()=>{throw Br},0)}})};return ln(xe,wt.EventType.OPEN,()=>{yt||Mt(Hs,`RPC '${e}' stream ${l} transport opened.`)}),ln(xe,wt.EventType.CLOSE,()=>{yt||(yt=!0,Mt(Hs,`RPC '${e}' stream ${l} transport closed`),Qt.Ro())}),ln(xe,wt.EventType.ERROR,un=>{yt||(yt=!0,Yn(Hs,`RPC '${e}' stream ${l} transport errored:`,un),Qt.Ro(new kt(mt.UNAVAILABLE,"The operation could not be completed")))}),ln(xe,wt.EventType.MESSAGE,un=>{var Kn;if(!yt){const dr=un.data[0];nn(!!dr);const Br=dr.error||(null===(Kn=dr[0])||void 0===Kn?void 0:Kn.error);if(Br){Mt(Hs,`RPC '${e}' stream ${l} received error:`,Br);const Pi=Br.status;let ni=function(K0){const yy=Rs[K0];if(void 0!==yy)return Sf(yy)}(Pi),uo=Br.message;void 0===ni&&(ni=mt.INTERNAL,uo="Unknown error status: "+Pi+" with message "+Br.message),yt=!0,Qt.Ro(new kt(ni,uo)),xe.close()}else Mt(Hs,`RPC '${e}' stream ${l} received:`,dr),Qt.Vo(dr)}}),ln(M,nt.STAT_EVENT,un=>{un.stat===ht.PROXY?Mt(Hs,`RPC '${e}' stream ${l} detected buffering proxy`):un.stat===ht.NOPROXY&&Mt(Hs,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Qt.Ao()},0),Qt}}function L_(){return typeof window<"u"?window:null}function Ch(){return typeof document<"u"?document:null}function bh(i){return new td(i,!0)}class Fg{constructor(e,n,s=1e3,l=1.5,u=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=l,this.xo=u,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&Mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class V_{constructor(e,n,s,l,u,v,M,F){this.si=e,this.Ko=s,this.$o=l,this.connection=u,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=M,this.listener=F,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Fg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,te.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,te.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,te.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===mt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===n&&this.s_(s,l)},s=>{e(()=>{const l=new kt(mt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,te.Z)(function*(){e.state=0,e.start()}))}o_(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B_ extends V_{constructor(e,n,s,l,u,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,v),this.serializer=u}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function p_(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:xt(),l=e.targetChange.targetIds||[],u=function(Y,ce){return Y.useProto3Json?(nn(void 0===ce||"string"==typeof ce),ms.fromBase64String(ce||"")):(nn(void 0===ce||ce instanceof Uint8Array),ms.fromUint8Array(ce||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,M=v&&function(Y){const ce=void 0===Y.code?mt.UNKNOWN:Sf(Y.code);return new kt(ce,Y.message||"")}(v);n=new Ft(s,l,u,M||null)}else if("documentChange"in e){const s=e.documentChange,l=Po(i,s.document.name),u=_s(s.document.updateTime),v=s.document.createTime?_s(s.document.createTime):An.min(),M=new js({mapValue:{fields:s.document.fields}}),F=cs.newFoundDocument(l,u,v,M);n=new We(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,l=Po(i,s.document),u=s.readTime?_s(s.readTime):An.min(),v=cs.newNoDocument(l,u);n=new We([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,l=Po(i,s.document);n=new We([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return xt();{const s=e.filter,{count:l=0,unchangedNames:u}=s,v=new lu(l,u);n=new ft(s.targetId,v)}}var Y;return n}(this.serializer,e),s=function(u){if(!("targetChange"in u))return An.min();const v=u.targetChange;return v.targetIds&&v.targetIds.length?An.min():v.readTime?_s(v.readTime):An.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=nd(this.serializer),n.addTarget=function(u,v){let M;const F=v.target;if(M=tu(F)?{documents:g_(u,F)}:{query:eg(u,F)},M.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){M.resumeToken=Hl(u,v.resumeToken);const Y=Ac(u,v.expectedCount);null!==Y&&(M.expectedCount=Y)}else if(v.snapshotVersion.compareTo(An.min())>0){M.readTime=_l(u,v.snapshotVersion.toTimestamp());const Y=Ac(u,v.expectedCount);null!==Y&&(M.expectedCount=Y)}return M}(this.serializer,e);const s=function ky(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=nd(this.serializer),n.removeTarget=e,this.e_(n)}}class $_ extends V_{constructor(e,n,s,l,u,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,v),this.serializer=u,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function rd(i,e){return i&&i.length>0?(nn(void 0!==e),i.map(n=>function(l,u){let v=_s(l.updateTime?l.updateTime:u);return v.isEqual(An.min())&&(v=_s(u)),new Ec(v,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=_s(e.commitTime);return this.listener.I_(s,n)}return nn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=nd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Rc(this.serializer,s))};this.e_(n)}}class Lg extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new kt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.wo(e,n,s,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(mt.UNKNOWN,l.toString())})}Co(e,n,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,v])=>this.connection.Co(e,n,s,u,v,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(mt.UNKNOWN,u.toString())})}terminate(){this.d_=!0}}class U_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Mr(n),this.f_=!1):Mt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Jy{constructor(e,n,s,l,u){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=u,this.F_.ro(M=>{s.enqueueAndForget((0,te.Z)(function*(){var F;Dl(v)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,te.Z)(function*(ce){const xe=zt(ce);xe.C_.add(4),yield gd(xe),xe.M_.set("Unknown"),xe.C_.delete(4),yield Rh(xe)}),function Y(ce){return F.apply(this,arguments)})(v))}))}),this.M_=new U_(s,l)}}function Rh(i){return qf.apply(this,arguments)}function qf(){return qf=(0,te.Z)(function*(i){if(Dl(i))for(const e of i.v_)yield e(!0)}),qf.apply(this,arguments)}function gd(i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,te.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Yf.apply(this,arguments)}function Kf(i,e){const n=zt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),va(n)?Zf(n):Fc(n).Ho()&&j_(n,e))}function Ph(i,e){const n=zt(i),s=Fc(n);n.D_.delete(e),s.Ho()&&Vg(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Dl(n)&&n.M_.set("Unknown"))}function j_(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(An.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(i).u_(e)}function Vg(i,e){i.x_.Oe(e),Fc(i).c_(e)}function Zf(i){i.x_=new Nn({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Fc(i).start(),i.M_.g_()}function va(i){return Dl(i)&&!Fc(i).jo()&&i.D_.size>0}function Dl(i){return 0===zt(i).C_.size}function H_(i){i.x_=void 0}function kE(i){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,te.Z)(function*(i){i.D_.forEach((e,n)=>{j_(i,e)})}),Bg.apply(this,arguments)}function $g(i,e){return xa.apply(this,arguments)}function xa(){return xa=(0,te.Z)(function*(i,e){H_(i),va(i)?(i.M_.w_(e),Zf(i)):i.M_.set("Unknown")}),xa.apply(this,arguments)}function z_(i,e,n){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,te.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Ft&&2===e.state&&e.cause)try{yield(s=(0,te.Z)(function*(u,v){const M=v.cause;for(const F of v.targetIds)u.D_.has(F)&&(yield u.remoteSyncer.rejectListen(F,M),u.D_.delete(F),u.x_.removeTarget(F))}),function l(u,v){return s.apply(this,arguments)})(i,e)}catch(s){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield jg(i,s)}else if(e instanceof We?i.x_.$e(e):e instanceof ft?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(An.min()))try{const s=yield _u(i.localStore);n.compareTo(s)>=0&&(yield function(u,v){const M=u.x_.it(v);return M.targetChanges.forEach((F,Y)=>{if(F.resumeToken.approximateByteSize()>0){const ce=u.D_.get(Y);ce&&u.D_.set(Y,ce.withResumeToken(F.resumeToken,v))}}),M.targetMismatches.forEach((F,Y)=>{const ce=u.D_.get(F);if(!ce)return;u.D_.set(F,ce.withResumeToken(ms.EMPTY_BYTE_STRING,ce.snapshotVersion)),Vg(u,F);const xe=new Wl(ce.target,F,Y,ce.sequenceNumber);j_(u,xe)}),u.remoteSyncer.applyRemoteEvent(M)}(i,n))}catch(s){Mt("RemoteStore","Failed to raise snapshot:",s),yield jg(i,s)}var s}),Ug.apply(this,arguments)}function jg(i,e,n){return eo.apply(this,arguments)}function eo(){return eo=(0,te.Z)(function*(i,e,n){if(!oo(e))throw e;i.C_.add(1),yield gd(i),i.M_.set("Offline"),n||(n=()=>_u(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Rh(i)}))}),eo.apply(this,arguments)}function G_(i,e){return e().catch(n=>jg(i,n,e))}function kc(i){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,te.Z)(function*(i){const e=zt(i),n=Na(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;e0(e);)try{const l=yield yh(e.localStore,s);if(null===l){0===e.b_.length&&n.Zo();break}s=l.batchId,zg(e,l)}catch(l){yield jg(e,l)}Gg(e)&&Wg(e)}),Hg.apply(this,arguments)}function e0(i){return Dl(i)&&i.b_.length<10}function zg(i,e){i.b_.push(e);const n=Na(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Gg(i){return Dl(i)&&!Na(i).jo()&&i.b_.length>0}function Wg(i){Na(i).start()}function t0(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,te.Z)(function*(i){Na(i).E_()}),Qf.apply(this,arguments)}function W_(i){return qg.apply(this,arguments)}function qg(){return qg=(0,te.Z)(function*(i){const e=Na(i);for(const n of i.b_)e.P_(n.mutations)}),qg.apply(this,arguments)}function n0(i,e,n){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,te.Z)(function*(i,e,n){const s=i.b_.shift(),l=Tc.from(s,e,n);yield G_(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield kc(i)}),Xf.apply(this,arguments)}function md(i,e){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,te.Z)(function*(i,e){var n;e&&Na(i).h_&&(yield(n=(0,te.Z)(function*(l,u){if(Ju(M=u.code)&&M!==mt.ABORTED){const v=l.b_.shift();Na(l).Yo(),yield G_(l,()=>l.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield kc(l)}var M}),function s(l,u){return n.apply(this,arguments)})(i,e)),Gg(i)&&Wg(i)}),Ka.apply(this,arguments)}function yu(i,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,te.Z)(function*(i,e){const n=zt(i);n.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const s=Dl(n);n.C_.add(3),yield gd(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Rh(n)}),Yg.apply(this,arguments)}function Kg(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,te.Z)(function*(i,e){const n=zt(i);e?(n.C_.delete(2),yield Rh(n)):e||(n.C_.add(2),yield gd(n),n.M_.set("Unknown"))}),Jf.apply(this,arguments)}function Fc(i){return i.O_||(i.O_=function(n,s,l){const u=zt(n);return u.A_(),new B_(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{ho:kE.bind(null,i),Io:$g.bind(null,i),a_:z_.bind(null,i)}),i.v_.push(function(){var e=(0,te.Z)(function*(n){n?(i.O_.Yo(),va(i)?Zf(i):i.M_.set("Unknown")):(yield i.O_.stop(),H_(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Na(i){return i.N_||(i.N_=function(n,s,l){const u=zt(n);return u.A_(),new $_(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{ho:t0.bind(null,i),Io:md.bind(null,i),T_:W_.bind(null,i),I_:n0.bind(null,i)}),i.v_.push(function(){var e=(0,te.Z)(function*(n){n?(i.N_.Yo(),yield kc(i)):(yield i.N_.stop(),i.b_.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class ep{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const v=Date.now()+s,M=new ep(e,n,v,l,u);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mh(i,e){if(Mr("AsyncQueue",`${e}: ${i}`),oo(i))return new kt(mt.UNAVAILABLE,`${e}: ${i}`);throw i}class Lc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||hn.comparator(n.key,s.key):(n,s)=>hn.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new Ui(this.comparator)}static emptySet(e){return new Lc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Lc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Eu{constructor(){this.B_=new Ui(hn.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):xt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Yl{constructor(e,n,s,l,u,v,M,F,Y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=v,this.syncStateChanged=M,this.excludesMetadataChanges=F,this.hasCachedResults=Y}static fromInitialDocuments(e,n,s,l,u){const v=[];return n.forEach(M=>{v.push({type:0,doc:M})}),new Yl(e,n,Lc.emptySet(n),v,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class q_{constructor(){this.k_=void 0,this.listeners=[]}}class Y_{constructor(){this.queries=new Ro(e=>Kp(e),qa),this.onlineState="Unknown",this.q_=new Set}}function Zg(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,te.Z)(function*(i,e){const n=zt(i),s=e.query;let l=!1,u=n.queries.get(s);if(u||(l=!0,u=new q_),l)try{u.k_=yield n.onListen(s)}catch(v){const M=Mh(v,`Initialization of query '${nu(e.query)}' failed`);return void e.onError(M)}n.queries.set(s,u),u.listeners.push(e),e.Q_(n.onlineState),u.k_&&e.K_(u.k_)&&em(n)}),Qg.apply(this,arguments)}function Xg(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,te.Z)(function*(i,e){const n=zt(i),s=e.query;let l=!1;const u=n.queries.get(s);if(u){const v=u.listeners.indexOf(e);v>=0&&(u.listeners.splice(v,1),l=0===u.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),Jg.apply(this,arguments)}function K_(i,e){const n=zt(i);let s=!1;for(const l of e){const v=n.queries.get(l.query);if(v){for(const M of v.listeners)M.K_(l)&&(s=!0);v.k_=l}}s&&em(n)}function FE(i,e,n){const s=zt(i),l=s.queries.get(e);if(l)for(const u of l.listeners)u.onError(n);s.queries.delete(e)}function em(i){i.q_.forEach(e=>{e.next()})}class Z_{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class LE{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class tm{constructor(e){this.serializer=e}hs(e){return Po(this.serializer,e)}Ps(e){return e.metadata.exists?h_(this.serializer,e.document,!1):cs.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _s(e)}}class Q_{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=r0(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=zr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new tm(this.serializer);for(const l of e)if(l.metadata.queries){const u=s.hs(l.metadata.name);for(const v of l.metadata.queries){const M=(n.get(v)||Ar()).add(u);n.set(v,M)}}return n}complete(){var e=this;return(0,te.Z)(function*(){const n=yield function Rg(i,e,n,s){return Wf.apply(this,arguments)}(e.localStore,new tm(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield Ky(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function r0(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class nm{constructor(e){this.key=e}}class _d{constructor(e){this.key=e}}class rm{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ar(),this.mutatedKeys=Ar(),this._a=Qp(e),this.aa=new Lc(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new Eu,l=n?n.aa:this.aa;let u=n?n.mutatedKeys:this.mutatedKeys,v=l,M=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Y="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ce,xe)=>{const et=l.get(ce),yt=Wu(this.query,xe)?xe:null,Qt=!!et&&this.mutatedKeys.has(et.key),ln=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let un=!1;et&&yt?et.data.isEqual(yt.data)?Qt!==ln&&(s.track({type:3,doc:yt}),un=!0):this.ha(et,yt)||(s.track({type:2,doc:yt}),un=!0,(F&&this._a(yt,F)>0||Y&&this._a(yt,Y)<0)&&(M=!0)):!et&&yt?(s.track({type:0,doc:yt}),un=!0):et&&!yt&&(s.track({type:1,doc:et}),un=!0,(F||Y)&&(M=!0)),un&&(yt?(v=v.add(yt),u=ln?u.add(ce):u.delete(ce)):(v=v.delete(ce),u=u.delete(ce)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ce="F"===this.query.limitType?v.last():v.first();v=v.delete(ce.key),u=u.delete(ce.key),s.track({type:1,doc:ce})}return{aa:v,la:s,Zi:M,mutatedKeys:u}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const u=e.la.L_();u.sort((Y,ce)=>function(et,yt){const Qt=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return Qt(et)-Qt(yt)}(Y.type,ce.type)||this._a(Y.doc,ce.doc)),this.Pa(s);const v=n?this.Ia():[],M=0===this.oa.size&&this.current?1:0,F=M!==this.sa;return this.sa=M,0!==u.length||F?{snapshot:new Yl(this.query,e.aa,l,u,e.mutatedKeys,0===M,F,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:v}:{Ta:v}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Eu,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ar(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new _d(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new nm(s))}),n}da(e){this.ia=e.ls,this.oa=Ar();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Yl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class X_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class J_{constructor(e){this.key=e,this.Ra=!1}}class Rr{constructor(e,n,s,l,u,v){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=v,this.Va={},this.ma=new Ro(M=>Kp(M),qa),this.fa=new Map,this.ga=new Set,this.pa=new Ui(hn.comparator),this.ya=new Map,this.wa=new Uf,this.Sa={},this.ba=new Map,this.Da=Oc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function ev(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,te.Z)(function*(i,e){const n=gm(i);let s,l;const u=n.ma.get(e);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),l=u.view.Aa();else{const v=yield Eh(n.localStore,Eo(e)),M=n.sharedClientState.addLocalQueryTarget(v.targetId);s=v.targetId,l=yield Vc(n,e,s,"current"===M,v.resumeToken),n.isPrimaryClient&&Kf(n.remoteStore,v)}return l}),tp.apply(this,arguments)}function Vc(i,e,n,s,l){return np.apply(this,arguments)}function np(){return np=(0,te.Z)(function*(i,e,n,s,l){i.va=(xe,et,yt)=>{return(Qt=(0,te.Z)(function*(un,Kn,dr,nr){let Br=Kn.view.ca(dr);Br.Zi&&(Br=yield Gf(un.localStore,Kn.query,!1).then(({documents:uo})=>Kn.view.ca(uo,Br)));const Pi=nr&&nr.targetChanges.get(Kn.targetId),ni=Kn.view.applyChanges(Br,un.isPrimaryClient,Pi);return op(un,Kn.targetId,ni.Ta),ni.snapshot}),function ln(un,Kn,dr,nr){return Qt.apply(this,arguments)})(i,xe,et,yt);var Qt};const u=yield Gf(i.localStore,e,!0),v=new rm(e,u.ls),M=v.ca(u.documents),F=le.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),Y=v.applyChanges(M,i.isPrimaryClient,F);op(i,n,Y.Ta);const ce=new X_(e,n,v);return i.ma.set(e,ce),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),Y.snapshot}),np.apply(this,arguments)}function s0(i,e){return vd.apply(this,arguments)}function vd(){return vd=(0,te.Z)(function*(i,e){const n=zt(i),s=n.ma.get(e),l=n.fa.get(s.targetId);if(l.length>1)return n.fa.set(s.targetId,l.filter(u=>!qa(u,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Nc(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Ph(n.remoteStore,s.targetId),Id(n,s.targetId)}).catch(Un))):(Id(n,s.targetId),yield Nc(n.localStore,s.targetId,!0))}),vd.apply(this,arguments)}function Oh(){return Oh=(0,te.Z)(function*(i,e,n){const s=up(i);try{const l=yield function(v,M){const F=zt(v),Y=hi.now(),ce=M.reduce((yt,Qt)=>yt.add(Qt.key),Ar());let xe,et;return F.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Qt=Io(),ln=Ar();return F.ss.getEntries(yt,ce).next(un=>{Qt=un,Qt.forEach((Kn,dr)=>{dr.isValidDocument()||(ln=ln.add(Kn))})}).next(()=>F.localDocuments.getOverlayedDocuments(yt,Qt)).next(un=>{xe=un;const Kn=[];for(const dr of M){const nr=ih(dr,xe.get(dr.key).overlayedDocument);null!=nr&&Kn.push(new Bo(dr.key,nr,Ll(nr.value.mapValue),ts.exists(!0)))}return F.mutationQueue.addMutationBatch(yt,Y,Kn,M)}).next(un=>{et=un;const Kn=un.applyToLocalDocumentSet(xe,ln);return F.documentOverlayCache.saveOverlays(yt,un.batchId,Kn)})}).then(()=>({batchId:et.batchId,changes:$l(xe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(v,M,F){let Y=v.Sa[v.currentUser.toKey()];Y||(Y=new Ui(On)),Y=Y.insert(M,F),v.Sa[v.currentUser.toKey()]=Y}(s,l.batchId,n),yield Kl(s,l.changes),yield kc(s.remoteStore)}catch(l){const u=Mh(l,"Failed to persist write");n.reject(u)}}),Oh.apply(this,arguments)}function Ed(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,te.Z)(function*(i,e){const n=zt(i);try{const s=yield function bg(i,e){const n=zt(i),s=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const v=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const M=[];e.targetChanges.forEach((ce,xe)=>{const et=l.get(xe);if(!et)return;M.push(n.qr.removeMatchingKeys(u,ce.removedDocuments,xe).next(()=>n.qr.addMatchingKeys(u,ce.addedDocuments,xe)));let yt=et.withSequenceNumber(u.currentSequenceNumber);var ln,un,Kn;null!==e.targetMismatches.get(xe)?yt=yt.withResumeToken(ms.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):ce.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ce.resumeToken,s)),l=l.insert(xe,yt),un=yt,Kn=ce,(0===(ln=et).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-ln.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&M.push(n.qr.updateTargetData(u,yt))});let F=Io(),Y=Ar();if(e.documentUpdates.forEach(ce=>{e.resolvedLimboDocuments.has(ce)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(u,ce))}),M.push(vh(u,v,e.documentUpdates).next(ce=>{F=ce.us,Y=ce.cs})),!s.isEqual(An.min())){const ce=n.qr.getLastRemoteSnapshotVersion(u).next(xe=>n.qr.setTargetsMetadata(u,u.currentSequenceNumber,s));M.push(ce)}return ct.waitFor(M).next(()=>v.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,F,Y)).next(()=>F)}).then(u=>(n.ts=l,u))}(n.localStore,e);e.targetChanges.forEach((l,u)=>{const v=n.ya.get(u);v&&(nn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Ra=!0:l.modifiedDocuments.size>0?nn(v.Ra):l.removedDocuments.size>0&&(nn(v.Ra),v.Ra=!1))}),yield Kl(n,s,e)}catch(s){yield Un(s)}}),rp.apply(this,arguments)}function ip(i,e,n){const s=zt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ma.forEach((u,v)=>{const M=v.view.Q_(e);M.snapshot&&l.push(M.snapshot)}),function(v,M){const F=zt(v);F.onlineState=M;let Y=!1;F.queries.forEach((ce,xe)=>{for(const et of xe.listeners)et.Q_(M)&&(Y=!0)}),Y&&em(F)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function im(i,e,n){return xh.apply(this,arguments)}function xh(){return xh=(0,te.Z)(function*(i,e,n){const s=zt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.ya.get(e),u=l&&l.key;if(u){let v=new Ui(hn.comparator);v=v.insert(u,cs.newNoDocument(u,An.min()));const M=Ar().add(u),F=new G(An.min(),new Map,new Ui(On),v,M);yield Ed(s,F),s.pa=s.pa.remove(u),s.ya.delete(e),lm(s)}else yield Nc(s.localStore,e,!1).then(()=>Id(s,e,n)).catch(Un)}),xh.apply(this,arguments)}function tv(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,te.Z)(function*(i,e){const n=zt(i),s=e.batch.batchId;try{const l=yield function _h(i,e){const n=zt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.ss.newChangeBuffer({trackRemovals:!0});return function(M,F,Y,ce){const xe=Y.batch,et=xe.keys();let yt=ct.resolve();return et.forEach(Qt=>{yt=yt.next(()=>ce.getEntry(F,Qt)).next(ln=>{const un=Y.docVersions.get(Qt);nn(null!==un),ln.version.compareTo(un)<0&&(xe.applyToRemoteDocument(ln,Y),ln.isValidDocument()&&(ln.setReadTime(Y.commitVersion),ce.addEntry(ln)))})}),yt.next(()=>M.mutationQueue.removeMutationBatch(F,xe))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(M){let F=Ar();for(let Y=0;Y<M.mutationResults.length;++Y)M.mutationResults[Y].transformResults.length>0&&(F=F.add(M.batch.mutations[Y].key));return F}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);am(n,s,null),om(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Kl(n,l)}catch(l){yield Un(l)}}),Nh.apply(this,arguments)}function o0(i,e,n){return sm.apply(this,arguments)}function sm(){return sm=(0,te.Z)(function*(i,e,n){const s=zt(i);try{const l=yield function(v,M){const F=zt(v);return F.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ce;return F.mutationQueue.lookupMutationBatch(Y,M).next(xe=>(nn(null!==xe),ce=xe.keys(),F.mutationQueue.removeMutationBatch(Y,xe))).next(()=>F.mutationQueue.performConsistencyCheck(Y)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(Y,ce,M)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ce)).next(()=>F.localDocuments.getDocuments(Y,ce))})}(s.localStore,e);am(s,e,n),om(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Kl(s,l)}catch(l){yield Un(l)}}),sm.apply(this,arguments)}function sp(){return sp=(0,te.Z)(function*(i,e){const n=zt(i);Dl(n.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const M=zt(v);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>M.mutationQueue.getHighestUnacknowledgedBatchId(F))}(n.localStore);if(-1===s)return void e.resolve();const l=n.ba.get(s)||[];l.push(e),n.ba.set(s,l)}catch(s){const l=Mh(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),sp.apply(this,arguments)}function om(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function am(i,e,n){const s=zt(i);let l=s.Sa[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function Id(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||nv(i,s)})}function nv(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Ph(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),lm(i))}function op(i,e,n){for(const s of n)s instanceof nm?(i.wa.addReference(s.key,e),rv(i,s)):s instanceof _d?(Mt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||nv(i,s.key)):xt()}function rv(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(Mt("SyncEngine","New document in limbo: "+n),i.ga.add(s),lm(i))}function lm(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new hn(zr.fromString(e)),s=i.Da.next();i.ya.set(s,new J_(n)),i.pa=i.pa.insert(n,s),Kf(i.remoteStore,new Wl(Eo(Bl(n.path)),s,"TargetPurposeLimboResolution",ao._e))}}function Kl(i,e,n){return jo.apply(this,arguments)}function jo(){return jo=(0,te.Z)(function*(i,e,n){const s=zt(i),l=[],u=[],v=[];var M;s.ma.isEmpty()||(s.ma.forEach((M,F)=>{v.push(s.va(F,e,n).then(Y=>{if((Y||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,null!=Y&&Y.fromCache?"not-current":"current"),Y){l.push(Y);const ce=Ag.Qi(F.targetId,Y);u.push(ce)}}))}),yield Promise.all(v),s.Va.a_(l),yield(M=(0,te.Z)(function*(Y,ce){const xe=zt(Y);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>ct.forEach(ce,yt=>ct.forEach(yt.ki,Qt=>xe.persistence.referenceDelegate.addReference(et,yt.targetId,Qt)).next(()=>ct.forEach(yt.qi,Qt=>xe.persistence.referenceDelegate.removeReference(et,yt.targetId,Qt)))))}catch(et){if(!oo(et))throw et;Mt("LocalStore","Failed to update sequence numbers: "+et)}for(const et of ce){const yt=et.targetId;if(!et.fromCache){const Qt=xe.ts.get(yt),un=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);xe.ts=xe.ts.insert(yt,un)}}}),function F(Y,ce){return M.apply(this,arguments)})(s.localStore,u))}),jo.apply(this,arguments)}function l0(i,e){return cm.apply(this,arguments)}function cm(){return cm=(0,te.Z)(function*(i,e){const n=zt(i);if(!n.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const s=yield mh(n.localStore,e);n.currentUser=e,(u=n).ba.forEach(M=>{M.forEach(F=>{F.reject(new kt(mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Kl(n,s._s)}var u}),cm.apply(this,arguments)}function VE(i,e){const n=zt(i),s=n.ya.get(e);if(s&&s.Ra)return Ar().add(s.key);{let l=Ar();const u=n.fa.get(e);if(!u)return l;for(const v of u){const M=n.ma.get(v);l=l.unionWith(M.view.ua)}return l}}function um(i,e){return ap.apply(this,arguments)}function ap(){return ap=(0,te.Z)(function*(i,e){const n=zt(i),s=yield Gf(n.localStore,e.query,!0),l=e.view.da(s);return n.isPrimaryClient&&op(n,e.targetId,l.Ta),l}),ap.apply(this,arguments)}function c0(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,te.Z)(function*(i,e){const n=zt(i);return N_(n.localStore,e).then(s=>Kl(n,s))}),dm.apply(this,arguments)}function u0(i,e,n,s){return lp.apply(this,arguments)}function lp(){return lp=(0,te.Z)(function*(i,e,n,s){const l=zt(i),u=yield function(M,F){const Y=zt(M),ce=zt(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",xe=>ce.Cn(xe,F).next(et=>et?Y.localDocuments.getDocuments(xe,et):ct.resolve(null)))}(l.localStore,e);var F;null!==u?("pending"===n?yield kc(l.remoteStore):"acknowledged"===n||"rejected"===n?(am(l,e,s||null),om(l,e),F=e,zt(zt(l.localStore).mutationQueue).Fn(F)):xt(),yield Kl(l,u)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),lp.apply(this,arguments)}function hm(){return hm=(0,te.Z)(function*(i,e){const n=zt(i);if(gm(n),up(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield cp(n,s.toArray());n.Ca=!0,yield Kg(n.remoteStore,!0);for(const u of l)Kf(n.remoteStore,u)}else if(!1===e&&!1!==n.Ca){const s=[];let l=Promise.resolve();n.fa.forEach((u,v)=>{n.sharedClientState.isLocalQueryTarget(v)?s.push(v):l=l.then(()=>(Id(n,v),Nc(n.localStore,v,!0))),Ph(n.remoteStore,v)}),yield l,yield cp(n,s),function(v){const M=zt(v);M.ya.forEach((F,Y)=>{Ph(M.remoteStore,Y)}),M.wa.Vr(),M.ya=new Map,M.pa=new Ui(hn.comparator)}(n),n.Ca=!1,yield Kg(n.remoteStore,!1)}}),hm.apply(this,arguments)}function cp(i,e,n){return fm.apply(this,arguments)}function fm(){return fm=(0,te.Z)(function*(i,e,n){const s=zt(i),l=[],u=[];for(const v of e){let M;const F=s.fa.get(v);if(F&&0!==F.length){M=yield Eh(s.localStore,Eo(F[0]));for(const Y of F){const ce=s.ma.get(Y),xe=yield um(s,ce);xe.snapshot&&u.push(xe.snapshot)}}else{const Y=yield Sg(s.localStore,v);M=yield Eh(s.localStore,Y),yield Vc(s,iv(Y),v,!1,M.resumeToken)}l.push(M)}return s.Va.a_(u),l}),fm.apply(this,arguments)}function iv(i){return Jd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function h0(i){return n=zt(i).localStore,zt(zt(n).persistence).Bi();var n}function f0(i,e,n,s){return pm.apply(this,arguments)}function pm(){return pm=(0,te.Z)(function*(i,e,n,s){const l=zt(i);if(l.Ca)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const u=l.fa.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const v=yield N_(l.localStore,Zp(u[0])),M=G.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ms.EMPTY_BYTE_STRING);yield Kl(l,v,M);break}case"rejected":yield Nc(l.localStore,e,!0),Id(l,e,s);break;default:xt()}}),pm.apply(this,arguments)}function wl(i,e,n){return kh.apply(this,arguments)}function kh(){return kh=(0,te.Z)(function*(i,e,n){const s=gm(i);if(s.Ca){for(const l of e){if(s.fa.has(l)){Mt("SyncEngine","Adding an already active target "+l);continue}const u=yield Sg(s.localStore,l),v=yield Eh(s.localStore,u);yield Vc(s,iv(u),v.targetId,!1,v.resumeToken),Kf(s.remoteStore,v)}for(const l of n)s.fa.has(l)&&(yield Nc(s.localStore,l,!1).then(()=>{Ph(s.remoteStore,l),Id(s,l)}).catch(Un))}}),kh.apply(this,arguments)}function gm(i){const e=zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ed.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=im.bind(null,e),e.Va.a_=K_.bind(null,e.eventManager),e.Va.Fa=FE.bind(null,e.eventManager),e}function up(i){const e=zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o0.bind(null,e),e}class Dd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,te.Z)(function*(){n.serializer=bh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gh(this.persistence,new zf,e.initialUser,this.serializer)}createPersistence(e){return new jf(ph.jr,this.serializer)}createSharedClientState(e){return new Og}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wd extends Dd{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield up(s.xa.syncEngine),yield kc(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gh(this.persistence,new zf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new jy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new al(n,this.persistence);return new jp(e.asyncQueue,s)}createPersistence(e){const n=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new wg(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,L_(),Ch(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Og}}class dp extends wd{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield n().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof Mg&&(s.sharedClientState.syncEngine={Ys:u0.bind(null,l),Zs:f0.bind(null,l),Xs:wl.bind(null,l),Bi:h0.bind(null,l),Js:c0.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var u=(0,te.Z)(function*(v){yield function d0(i,e){return hm.apply(this,arguments)}(s.xa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=L_();if(!Mg.D(n))throw new kt(mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mg(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fh{initialize(e,n){var s=this;return(0,te.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>ip(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=l0.bind(null,s.syncEngine),yield Kg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Y_}createDatastore(e){const n=bh(e.databaseInfo.databaseId),s=new Ah(e.databaseInfo);return new Lg(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,u=e.asyncQueue,v=n=>ip(this.syncEngine,n,0),M=xg.D()?new xg:new Qy,new Jy(s,l,u,v,M);var s,l,u,v,M}createSyncEngine(e,n){return function(l,u,v,M,F,Y,ce){const xe=new Rr(l,u,v,M,F,Y);return ce&&(xe.Ca=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,te.Z)(function*(s){const l=zt(s);Mt("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield gd(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function mm(i,e=10240){let n=0;return{read:()=>(0,te.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Lh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ov{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new lr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,te.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const u=yield e.Ka(l);return new LE(JSON.parse(u),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,te.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,te.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,te.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class av{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,te.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new kt(mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,te.Z)(function*(v,M){const F=zt(v),Y=nd(F.serializer)+"/documents",ce={documents:M.map(Qt=>Sc(F.serializer,Qt))},xe=yield F.Co("BatchGetDocuments",Y,ce,M.length),et=new Map;xe.forEach(Qt=>{const ln=function f_(i,e){return"found"in e?function(s,l){nn(!!l.found);const u=Po(s,l.found.name),v=_s(l.found.updateTime),M=l.found.createTime?_s(l.found.createTime):An.min(),F=new js({mapValue:{fields:l.found.fields}});return cs.newFoundDocument(u,v,M,F)}(i,e):"missing"in e?function(s,l){nn(!!l.missing),nn(!!l.readTime);const u=Po(s,l.missing),v=_s(l.readTime);return cs.newNoDocument(u,v)}(i,e):xt()}(F.serializer,Qt);et.set(ln.key.toString(),ln)});const yt=[];return M.forEach(Qt=>{const ln=et.get(Qt.toString());nn(!!ln),yt.push(ln)}),yt}),function u(v,M){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ns(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const u=hn.fromPath(l);e.mutations.push(new wc(u,e.precondition(u)))}),yield(s=(0,te.Z)(function*(u,v){const M=zt(u),F=nd(M.serializer)+"/documents",Y={writes:v.map(ce=>Rc(M.serializer,ce))};yield M.wo("Commit",F,Y)}),function l(u,v){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xt();n=An.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new kt(mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(An.min())?ts.exists(!1):ts.updateTime(n):ts.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(An.min()))throw new kt(mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ts.updateTime(n)}return ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _m{constructor(e,n,s,l,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.Wa=s.maxAttempts,this.zo=new Fg(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,te.Z)(function*(){const n=new av(e.datastore),s=e.za(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.ja(u)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!Pl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Ju(n)}return!1}}class Zl{constructor(e,n,s,l){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=il.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,te.Z)(function*(M){Mt("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(Mt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=Mh(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function hp(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,te.Z)(function*(u){s.isEqual(u)||(yield mh(e.localStore,u),s=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),vm.apply(this,arguments)}function Vh(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Im(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(l=>yu(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,u)=>yu(e.remoteStore,u)),i._onlineComponents=e}),ym.apply(this,arguments)}function Em(i){return"FirebaseError"===i.name?i.code===mt.FAILED_PRECONDITION||i.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Im(i){return Td.apply(this,arguments)}function Td(){return Td=(0,te.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Em(n))throw n;Yn("Error using user provided cache. Falling back to memory cache: "+n),yield hp(i,new Dd)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield hp(i,new Dd);return i._offlineComponents}),Td.apply(this,arguments)}function Bc(i){return fp.apply(this,arguments)}function fp(){return fp=(0,te.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vh(i,i._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Vh(i,new Fh))),i._onlineComponents}),fp.apply(this,arguments)}function Bh(i){return Im(i).then(e=>e.persistence)}function $h(i){return Im(i).then(e=>e.localStore)}function lv(i){return Bc(i).then(e=>e.remoteStore)}function pp(i){return Bc(i).then(e=>e.syncEngine)}function Ad(i){return wm.apply(this,arguments)}function wm(){return wm=(0,te.Z)(function*(i){const e=yield Bc(i),n=e.eventManager;return n.onListen=ev.bind(null,e.syncEngine),n.onUnlisten=s0.bind(null,e.syncEngine),n}),wm.apply(this,arguments)}function dv(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(u,v,M,F,Y){const ce=new Lh({next:et=>{v.enqueueAndForget(()=>Xg(u,xe));const yt=et.docs.has(M);!yt&&et.fromCache?Y.reject(new kt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&et.fromCache&&F&&"server"===F.source?Y.reject(new kt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(et)},error:et=>Y.reject(et)}),xe=new Z_(Bl(M.path),ce,{includeMetadataChanges:!0,J_:!0});return Zg(u,xe)}(yield Ad(i),i.asyncQueue,e,n,s)})),s.promise}function Tm(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(u,v,M,F,Y){const ce=new Lh({next:et=>{v.enqueueAndForget(()=>Xg(u,xe)),et.fromCache&&"server"===F.source?Y.reject(new kt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(et)},error:et=>Y.reject(et)}),xe=new Z_(M,ce,{includeMetadataChanges:!0,J_:!0});return Zg(u,xe)}(yield Ad(i),i.asyncQueue,e,n,s)})),s.promise}function fv(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const pv=new Map;function Am(i,e,n){if(!n)throw new kt(mt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gv(i,e,n,s){if(!0===e&&!0===s)throw new kt(mt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mv(i){if(!hn.isDocumentKey(i))throw new kt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cm(i){if(hn.isDocumentKey(i))throw new kt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":xt()}function ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new kt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(i);throw new kt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Hh(i,e){if(e<=0)throw new kt(mt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class _v{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fv(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new kt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new kt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new kt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Rn;switch(s.type){case"firstParty":return new wi(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new kt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pv.get(n);s&&(Mt("ComponentProvider","Removing Datastore"),pv.delete(n),s.terminate())}(this),Promise.resolve()}}class Do{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class vs{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vs(this.firestore,e,this._key)}}class Tl extends Do{constructor(e,n,s){super(e,n,Bl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vs(this.firestore,null,new hn(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function yv(i,e,...n){if(i=(0,ve.m9)(i),Am("collection","path",e),i instanceof zh){const s=zr.fromString(e,...n);return Cm(s),new Tl(i,null,s)}{if(!(i instanceof vs||i instanceof Tl))throw new kt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(zr.fromString(e,...n));return Cm(s),new Tl(i.firestore,null,s)}}function Gh(i,e,...n){if(i=(0,ve.m9)(i),1===arguments.length&&(e=il.newId()),Am("doc","path",e),i instanceof zh){const s=zr.fromString(e,...n);return mv(s),new vs(i,null,new hn(s))}{if(!(i instanceof vs||i instanceof Tl))throw new kt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(zr.fromString(e,...n));return mv(s),new vs(i.firestore,i instanceof Tl?i.converter:null,new hn(s))}}function Iv(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),(i instanceof vs||i instanceof Tl)&&(e instanceof vs||e instanceof Tl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dv(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),i instanceof Do&&e instanceof Do&&i.firestore===e.firestore&&qa(i._query,e._query)&&i.converter===e.converter}class wv{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Fg(this,"async_queue_retry"),this.iu=()=>{const n=Ch();n&&Mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ch();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,te.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!oo(n))throw n;Mt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(v){let M=v.message||"";return v.stack&&(M=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),M}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=ep.createAndSchedule(this,e,n,s,u=>this.au(u));return this.Xa.push(l),l}su(){this.eu&&xt()}verifyOperationInProgress(){}uu(){var e=this;return(0,te.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function gp(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const u of["next","error","complete"])if(u in l&&"function"==typeof l[u])return!0;return!1}(i)}class BE{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class us extends zh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new wv,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Za(this),this._firestoreClient.terminate()}}function ks(i){return i._firestoreClient||Za(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Za(i){var e,n,s;const l=i._freezeSettings(),u=(F=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new pf(i._databaseId,F,i._persistenceKey,(ce=l).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,fv(ce.experimentalLongPollingOptions),ce.useFetchStreams));var F,ce;i._firestoreClient=new Zl(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function $c(i,e,n){const s=new lr;return i.asyncQueue.enqueue((0,te.Z)(function*(){try{yield hp(i,n),yield Vh(i,e),s.resolve()}catch(l){const u=l;if(!Em(u))throw u;Yn("Error enabling indexeddb cache. Falling back to memory cache: "+u),s.reject(u)}})).then(()=>s.promise)}function Iu(i){if(i._initialized||i._terminated)throw new kt(mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(ms.fromBase64String(e))}catch(n){throw new kt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(ms.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class na{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new kt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uc{constructor(e){this._methodName=e}}class Yh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new kt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new kt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}const Av=/^__.*__$/;class Cv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}class Sm{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Rm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Kh{constructor(e,n,s,l,u,v){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===u&&this.Pu(),this.fieldTransforms=u||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Qh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Rm(this.Iu)&&Av.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bv{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||bh(e)}pu(e,n,s,l=!1){return new Kh({Iu:e,methodName:n,gu:s,path:$i.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ql(i){const e=i._freezeSettings(),n=bh(i._databaseId);return new bv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vp(i,e,n,s,l,u={}){const v=i.pu(u.merge||u.mergeFields?2:0,e,n,l);Zh("Data must be an object, but it was:",v,s);const M=Ep(s,v);let F,Y;if(u.merge)F=new Js(v.fieldMask),Y=v.fieldTransforms;else if(u.mergeFields){const ce=[];for(const xe of u.mergeFields){const et=jc(e,xe,n);if(!v.contains(et))throw new kt(mt.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);Mv(ce,et)||ce.push(et)}F=new Js(ce),Y=v.fieldTransforms.filter(xe=>F.covers(xe.field))}else F=null,Y=v.fieldTransforms;return new Cv(new js(M),F,Y)}class yp extends Uc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}function I0(i,e,n){return new Kh({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pm extends Uc{_toFieldTransform(e){return new yc(e.path,new mc)}isEqual(e){return e instanceof Pm}}class D0 extends Uc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=I0(this,e,!0),s=this.yu.map(u=>Du(u,n)),l=new xs(s);return new yc(e.path,l)}isEqual(e){return this===e}}class UE extends Uc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=I0(this,e,!0),s=this.yu.map(u=>Du(u,n)),l=new Pa(s);return new yc(e.path,l)}isEqual(e){return this===e}}class w0 extends Uc{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new As(e.serializer,gc(e.serializer,this.wu));return new yc(e.path,n)}isEqual(e){return this===e}}function Sv(i,e,n,s){const l=i.pu(1,e,n);Zh("Data must be an object, but it was:",l,s);const u=[],v=js.empty();Ra(s,(F,Y)=>{const ce=Hc(e,F,n);Y=(0,ve.m9)(Y);const xe=l.Ru(ce);if(Y instanceof yp)u.push(ce);else{const et=Du(Y,xe);null!=et&&(u.push(ce),v.set(ce,et))}});const M=new Js(u);return new Sm(v,M,l.fieldTransforms)}function Mm(i,e,n,s,l,u){const v=i.pu(1,e,n),M=[jc(e,s,n)],F=[l];if(u.length%2!=0)throw new kt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<u.length;et+=2)M.push(jc(e,u[et])),F.push(u[et+1]);const Y=[],ce=js.empty();for(let et=M.length-1;et>=0;--et)if(!Mv(Y,M[et])){const yt=M[et];let Qt=F[et];Qt=(0,ve.m9)(Qt);const ln=v.Ru(yt);if(Qt instanceof yp)Y.push(yt);else{const un=Du(Qt,ln);null!=un&&(Y.push(yt),ce.set(yt,un))}}const xe=new Js(Y);return new Sm(ce,xe,v.fieldTransforms)}function Rv(i,e,n,s=!1){return Du(n,i.pu(s?4:3,e))}function Du(i,e){if(Md(i=(0,ve.m9)(i)))return Zh("Unsupported field value:",e,i),Ep(i,e);if(i instanceof Uc)return function(s,l){if(!Rm(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const u=[];let v=0;for(const M of s){let F=Du(M,l.Vu(v));null==F&&(F={nullValue:"NULL_VALUE"}),u.push(F),v++}return{arrayValue:{values:u}}}(i,e)}return function(s,l){if(null===(s=(0,ve.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return gc(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const u=hi.fromDate(s);return{timestampValue:_l(l.serializer,u)}}if(s instanceof hi){const u=new hi(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_l(l.serializer,u)}}if(s instanceof Yh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ho)return{bytesValue:Hl(l.serializer,s._byteString)};if(s instanceof vs){const u=l.databaseId,v=s.firestore._databaseId;if(!v.isEqual(u))throw l.mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zl(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${Cd(s)}`)}(i,e)}function Ep(i,e){const n={};return Lu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(i,(s,l)=>{const u=Du(l,e.Eu(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function Md(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hi||i instanceof Yh||i instanceof Ho||i instanceof vs||i instanceof Uc)}function Zh(i,e,n){if(!Md(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Cd(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var l}function jc(i,e,n){if((e=(0,ve.m9)(e))instanceof na)return e._internalPath;if("string"==typeof e)return Hc(i,e);throw Qh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Pv=new RegExp("[~\\*/\\[\\]]");function Hc(i,e,n){if(e.search(Pv)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new na(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qh(i,e,n,s,l){const u=s&&!s.isEmpty(),v=void 0!==l;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let F="";return(u||v)&&(F+=" (found",u&&(F+=` in field ${s}`),v&&(F+=` in document ${l}`),F+=")"),new kt(mt.INVALID_ARGUMENT,M+i+F)}function Mv(i,e){return i.some(n=>n.isEqual(e))}class Xl{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new T0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ip("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class T0 extends Xl{data(){return super.data()}}function Ip(i,e){return"string"==typeof e?Hc(i,e):e instanceof na?e._internalPath:e._delegate._internalPath}function Ov(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new kt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class wu extends Om{}function Qa(i,e,...n){let s=[];e instanceof Om&&s.push(e),s=s.concat(n),function(u){const v=u.filter(F=>F instanceof Od).length,M=u.filter(F=>F instanceof zc).length;if(v>1||v>0&&M>0)throw new kt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class zc extends wu{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zc(e,n,s)}_apply(e){const n=this._parse(e);return Jh(e._query,n),new Do(e.firestore,e.converter,If(e._query,n))}_parse(e){const n=Ql(e.firestore);return function(u,v,M,F,Y,ce,xe){let et;if(Y.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new kt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){Lv(xe,ce);const yt=[];for(const Qt of xe)yt.push(Ap(F,u,Qt));et={arrayValue:{values:yt}}}else et=Ap(F,u,xe)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||Lv(xe,ce),et=Rv(M,"where",xe,"in"===ce||"not-in"===ce);return Zr.create(Y,ce,et)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Od extends Om{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Od(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,u){let v=l;const M=u.getFlattenedFilters();for(const F of M)Jh(v,F),v=If(v,F)}(e._query,n),new Do(e.firestore,e.converter,If(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xm extends wu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xm(e,n)}_apply(e){const n=function(l,u,v){if(null!==l.startAt)throw new kt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new kt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(u,v)}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(l,u){const v=l.explicitOrderBy.concat([u]);return new Wa(l.path,l.collectionGroup,v,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class Dp extends wu{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Dp(e,n,s)}_apply(e){return new Do(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}class Xh extends wu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Xh(e,n,s)}_apply(e){const n=Tp(e,this.type,this._docOrFields,this._inclusive);return new Do(e.firestore,e.converter,(u=n,new Wa((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,u,l.endAt)));var l,u}}class wp extends wu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new wp(e,n,s)}_apply(e){const n=Tp(e,this.type,this._docOrFields,this._inclusive);return new Do(e.firestore,e.converter,(u=n,new Wa((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,u)));var l,u}}function Tp(i,e,n,s){if(n[0]=(0,ve.m9)(n[0]),n[0]instanceof Xl)return function(u,v,M,F,Y){if(!F)throw new kt(mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const ce=[];for(const xe of hc(u))if(xe.field.isKeyField())ce.push(ea(v,F.key));else{const et=F.data.field(xe.field);if(Nl(et))throw new kt(mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const yt=xe.field.canonicalString();throw new kt(mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}ce.push(et)}return new Ha(ce,Y)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=Ql(i.firestore);return function(v,M,F,Y,ce,xe){const et=v.explicitOrderBy;if(ce.length>et.length)throw new kt(mt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Qt=0;Qt<ce.length;Qt++){const ln=ce[Qt];if(et[Qt].field.isKeyField()){if("string"!=typeof ln)throw new kt(mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof ln}`);if(!Gu(v)&&-1!==ln.indexOf("/"))throw new kt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${ln}' contains a slash.`);const un=v.path.child(zr.fromString(ln));if(!hn.isDocumentKey(un))throw new kt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const Kn=new hn(un);yt.push(ea(M,Kn))}else{const un=Rv(F,Y,ln);yt.push(un)}}return new Ha(yt,xe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function Ap(i,e,n){if("string"==typeof(n=(0,ve.m9)(n))){if(""===n)throw new kt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gu(e)&&-1!==n.indexOf("/"))throw new kt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(zr.fromString(n));if(!hn.isDocumentKey(s))throw new kt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ea(i,new hn(s))}if(n instanceof vs)return ea(i,n._key);throw new kt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function Lv(i,e){if(!Array.isArray(i)||0===i.length)throw new kt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jh(i,e){const n=function(l,u){for(const v of l)for(const M of v.getFlattenedFilters())if(u.indexOf(M.op)>=0)return M.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new kt(mt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tf{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertGeoPoint(e){return new Yh(Ri(e.latitude),Ri(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ha(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=yo(e);return new hi(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=zr.fromString(e);nn(Pc(s));const l=new dl(s.get(1),s.get(3)),u=new hn(s.popFirst(5));return l.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function nf(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class R0 extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,n)}}class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends Xl{constructor(e,n,s,l,u,v){super(e,n,s,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ip("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rf extends Jl{data(e={}){return super.data(e)}}class ec{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Gc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rf(this._firestore,this._userDataWriter,s.key,s,new Gc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new kt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map(M=>({type:"added",doc:new rf(l._firestore,l._userDataWriter,M.doc.key,M.doc,new Gc(l._snapshot.mutatedKeys.has(M.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:v++}))}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(M=>u||3!==M.type).map(M=>{const F=new rf(l._firestore,l._userDataWriter,M.doc.key,M.doc,new Gc(l._snapshot.mutatedKeys.has(M.doc.key),l._snapshot.fromCache),l.query.converter);let Y=-1,ce=-1;return 0!==M.type&&(Y=v.indexOf(M.doc.key),v=v.delete(M.doc.key)),1!==M.type&&(v=v.add(M.doc),ce=v.indexOf(M.doc.key)),{type:km(M.type),doc:F,oldIndex:Y,newIndex:ce}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function km(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function Fm(i,e){return i instanceof Jl&&e instanceof Jl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ec&&e instanceof ec&&i._firestore===e._firestore&&Dv(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class tc extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,n)}}function zv(i,e,n){i=ti(i,vs);const s=ti(i.firestore,us),l=nf(i.converter,e,n);return Tu(s,[vp(Ql(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,ts.none())])}function Vm(i,e,n,...s){i=ti(i,vs);const l=ti(i.firestore,us),u=Ql(l);let v;return v="string"==typeof(e=(0,ve.m9)(e))||e instanceof na?Mm(u,"updateDoc",i._key,e,n,s):Sv(u,"updateDoc",i._key,e),Tu(l,[v.toMutation(i._key,ts.exists(!0))])}function Cp(i,...e){var n,s,l;i=(0,ve.m9)(i);let u={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||gp(e[v])||(u=e[v],v++);const M={includeMetadataChanges:u.includeMetadataChanges};if(gp(e[v])){const xe=e[v];e[v]=null===(n=xe.next)||void 0===n?void 0:n.bind(xe),e[v+1]=null===(s=xe.error)||void 0===s?void 0:s.bind(xe),e[v+2]=null===(l=xe.complete)||void 0===l?void 0:l.bind(xe)}let F,Y,ce;if(i instanceof vs)Y=ti(i.firestore,us),ce=Bl(i._key.path),F={next:xe=>{e[v]&&e[v](bp(Y,i,xe))},error:e[v+1],complete:e[v+2]};else{const xe=ti(i,Do);Y=ti(xe.firestore,us),ce=xe._query;const et=new tc(Y);F={next:yt=>{e[v]&&e[v](new ec(Y,et,xe,yt))},error:e[v+1],complete:e[v+2]},Ov(i._query)}return function(et,yt,Qt,ln){const un=new Lh(ln),Kn=new Z_(yt,un,Qt);return et.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Zg(yield Ad(et),Kn)})),()=>{un.Na(),et.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Xg(yield Ad(et),Kn)}))}}(ks(Y),ce,M,F)}function Tu(i,e){return function(s,l){const u=new lr;return s.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function yd(i,e,n){return Oh.apply(this,arguments)}(yield pp(s),l,u)})),u.promise}(ks(i),e)}function bp(i,e,n){const s=n.docs.get(e._key),l=new tc(i);return new Jl(i,l,e._key,s,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}const YE={maxAttempts:5};class x0{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ql(e)}set(e,n,s){this._verifyNotCommitted();const l=Wc(e,this._firestore),u=nf(l.converter,n,s),v=vp(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,s);return this._mutations.push(v.toMutation(l._key,ts.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const u=Wc(e,this._firestore);let v;return v="string"==typeof(n=(0,ve.m9)(n))||n instanceof na?Mm(this._dataReader,"WriteBatch.update",u._key,n,s,l):Sv(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(v.toMutation(u._key,ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wc(e,this._firestore);return this._mutations=this._mutations.concat(new Ns(n._key,ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wc(i,e){if((i=(0,ve.m9)(i)).firestore!==e)throw new kt(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class N0 extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=Ql(n)}get(n){const s=Wc(n,this._firestore),l=new R0(this._firestore);return this._transaction.lookup([s._key]).then(u=>{if(!u||1!==u.length)return xt();const v=u[0];if(v.isFoundDocument())return new Xl(this._firestore,l,v.key,v,s.converter);if(v.isNoDocument())return new Xl(this._firestore,l,s._key,null,s.converter);throw xt()})}set(n,s,l){const u=Wc(n,this._firestore),v=nf(u.converter,s,l),M=vp(this._dataReader,"Transaction.set",u._key,v,null!==u.converter,l);return this._transaction.set(u._key,M),this}update(n,s,l,...u){const v=Wc(n,this._firestore);let M;return M="string"==typeof(s=(0,ve.m9)(s))||s instanceof na?Mm(this._dataReader,"Transaction.update",v._key,s,l,u):Sv(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,M),this}delete(n){const s=Wc(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wc(e,this._firestore),s=new tc(this._firestore);return super.get(e).then(l=>new Jl(this._firestore,s,n._key,l._document,new Gc(!1,!1),n.converter))}}function Pp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Xa(){if(typeof Uint8Array>"u")throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function Fa(){if(!function ff(){return typeof atob<"u"}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ir=ye.SDK_VERSION,(0,ye._registerComponent)(new Oe.wA("firestore",(s,{instanceIdentifier:l,options:u})=>{const v=s.getProvider("app").getImmediate(),M=new us(new vr(s.getProvider("auth-internal")),new so(s.getProvider("app-check-internal")),function(Y,ce){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new kt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(Y.options.projectId,ce)}(v,l),v);return u=Object.assign({useFetchStreams:n},u),M._setSettings(u),M},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(Ln,"4.3.2",e),(0,ye.registerVersion)(Ln,"4.3.2","esm2017")}();class zo{constructor(e){this._delegate=e}static fromBase64String(e){return Fa(),new zo(Ho.fromBase64String(e))}static fromUint8Array(e){return Xa(),new zo(Ho.fromUint8Array(e))}toBase64(){return Fa(),this._delegate.toBase64()}toUint8Array(){return Xa(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mp(i){return function iy(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class U0{enableIndexedDbPersistence(e,n){return function Wh(i,e){Iu(i=ti(i,us));const n=ks(i);if(n._uninitializedComponentsProvider)throw new kt(mt.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Fh;return $c(n,l,new wd(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Oo(i){Iu(i=ti(i,us));const e=ks(i);if(e._uninitializedComponentsProvider)throw new kt(mt.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new Fh;return $c(e,s,new dp(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _p(i){if(i._initialized&&!i._terminated)throw new kt(mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(n=(0,te.Z)(function*(l){if(!Kr.D())return Promise.resolve();const u=l+"main";yield Kr.delete(u)}),function s(l){return n.apply(this,arguments)})(ud(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class sy{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof dl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Yn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function vv(i,e,n,s={}){var l;const u=(i=ti(i,zh))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==v&&Yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:v,ssl:!1})),s.mockUserToken){let M,F;if("string"==typeof s.mockUserToken)M=s.mockUserToken,F=Bn.MOCK_USER;else{M=(0,ve.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new kt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Bn(Y)}i._authCredentials=new $n(new wn(M,F))}}(this._delegate,e,n,s)}enableNetwork(){return function bm(i){return function cv(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Bh(i),n=yield lv(i);return e.setNetworkEnabled(!0),function(l){const u=zt(l);return u.C_.delete(0),Rh(u)}(n)}))}(ks(i=ti(i,us)))}(this._delegate)}disableNetwork(){return function bd(i){return function uv(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Bh(i),n=yield lv(i);return e.setNetworkEnabled(!1),(s=(0,te.Z)(function*(u){const v=zt(u);v.C_.add(0),yield gd(v),v.M_.set("Offline")}),function l(u){return s.apply(this,arguments)})(n);var s}))}(ks(i=ti(i,us)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,gv("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ka(i){return function(n){const s=new lr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function a0(i,e){return sp.apply(this,arguments)}(yield pp(n),s)})),s.promise}(ks(i=ti(i,us)))}(this._delegate)}onSnapshotsInSync(e){return function qv(i,e){return function g0(i,e){const n=new Lh(e);return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return l=yield Ad(i),u=n,zt(l).q_.add(u),void u.next();var l,u})),()=>{n.Na(),i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return l=yield Ad(i),u=n,void zt(l).q_.delete(u);var l,u}))}}(ks(i=ti(i,us)),gp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Su(this,yv(this._delegate,e))}catch(n){throw Go(n,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,Gh(this._delegate,e))}catch(n){throw Go(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wo(this,function Ev(i,e){if(i=ti(i,zh),Am("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(i,null,(s=e,new Wa(zr.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw Go(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ey(i,e,n){i=ti(i,us);const s=Object.assign(Object.assign({},YE),n);return function(u){if(u.maxAttempts<1)throw new kt(mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,v,M){const F=new lr;return u.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const Y=yield function Dm(i){return Bc(i).then(e=>e.datastore)}(u);new _m(u.asyncQueue,Y,M,v,F).run()})),F.promise}(ks(i),l=>e(new N0(i,l)),s)}(this._delegate,n=>e(new xp(this,n)))}batch(){return ks(this._delegate),new Nd(new x0(this._delegate,e=>Tu(this._delegate,e)))}loadBundle(e){return function Sd(i,e){const n=ks(i=ti(i,us)),s=new BE;return function m0(i,e,n,s){const l=function(v,M){let F;return F="string"==typeof v?Rf().encode(v):v,ce=function(ce,xe){if(ce instanceof Uint8Array)return mm(ce,void 0);if(ce instanceof ArrayBuffer)return mm(new Uint8Array(ce),void 0);if(ce instanceof ReadableStream)return ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new ov(ce,M);var ce}(n,bh(e));i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function p0(i,e,n){const s=zt(i);var l;(l=(0,te.Z)(function*(v,M,F){try{const Y=yield M.getMetadata();if(yield function(Qt,ln){const un=zt(Qt),Kn=_s(ln.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",dr=>un.Kr.getBundleMetadata(dr,ln.id)).then(dr=>!!dr&&dr.createTime.compareTo(Kn)>=0)}(v.localStore,Y))return yield M.close(),F._completeWith({taskState:"Success",documentsLoaded:(Qt=Y).totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}),Promise.resolve(new Set);F._updateProgress(r0(Y));const ce=new Q_(Y,v.localStore,M.serializer);let xe=yield M.Ma();for(;xe;){const yt=yield ce.ea(xe);yt&&F._updateProgress(yt),xe=yield M.Ma()}const et=yield ce.complete();return yield Kl(v,et.ra,void 0),yield function(Qt,ln){const un=zt(Qt);return un.persistence.runTransaction("Save bundle","readwrite",Kn=>un.Kr.saveBundleMetadata(Kn,ln))}(v.localStore,Y),F._completeWith(et.progress),Promise.resolve(et.na)}catch(Y){return Yn("SyncEngine",`Loading bundle failed with ${Y}`),F._failWith(Y),Promise.resolve(new Set)}var Qt}),function u(v,M,F){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield pp(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Rd(i,e){return function jh(i,e){return i.asyncQueue.enqueue((0,te.Z)(function*(){return function(s,l){const u=zt(s);return u.persistence.runTransaction("Get named query","readonly",v=>u.Kr.getNamedQuery(v,l))}(yield $h(i),e)}))}(ks(i=ti(i,us)),e).then(n=>n?new Do(i,null,n.query):null)}(this._delegate,e).then(n=>n?new Wo(this,n):null)}}class Op extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(new Ho(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(n,this.firestore,null)}}class xp{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Op(e)}get(e){const n=Ru(e);return this._delegate.get(n).then(s=>new kd(this._firestore,new Jl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=Ru(e);return s?(Pp("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const u=Ru(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(e){const n=Ru(e);return this._delegate.delete(n),this}}class Nd{constructor(e){this._delegate=e}set(e,n,s){const l=Ru(e);return s?(Pp("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const u=Ru(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(e){const n=Ru(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class bu{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new rf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qc(this._firestore,s),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=bu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let u=l.get(n);return u||(u=new bu(e,new Op(e),n),l.set(n,u)),u}}bu.INSTANCES=new WeakMap;class ya{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Op(e)}static forPath(e,n,s){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(n,new vs(n._delegate,s,new hn(e)))}static forKey(e,n,s){return new ya(n,new vs(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Su(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Su(this.firestore,yv(this._delegate,e))}catch(n){throw Go(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ve.m9)(e))instanceof vs&&Iv(this._delegate,e)}set(e,n){n=Pp("DocumentReference.set",n);try{return n?zv(this._delegate,e,n):zv(this._delegate,e)}catch(s){throw Go(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?Vm(this._delegate,e):Vm(this._delegate,e,n,...s)}catch(l){throw Go(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Gv(i){return Tu(ti(i.firestore,us),[new Ns(i._key,ts.none())])}(this._delegate)}onSnapshot(...e){const n=oy(e),s=jm(e,l=>new kd(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Cp(this._delegate,n,s)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function P0(i){i=ti(i,vs);const e=ti(i.firestore,us),n=ks(e),s=new tc(e);return function Uh(i,e){const n=new lr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(u,v,M){try{const F=yield function(ce,xe){const et=zt(ce);return et.persistence.runTransaction("read document","readonly",yt=>et.localDocuments.getDocument(yt,xe))}(u,v);F.isFoundDocument()?M.resolve(F):F.isNoDocument()?M.resolve(null):M.reject(new kt(mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const Y=Mh(F,`Failed to get document '${v} from cache`);M.reject(Y)}}),function l(u,v,M){return s.apply(this,arguments)})(yield $h(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Jl(e,s,i._key,l,new Gc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function $v(i){i=ti(i,vs);const e=ti(i.firestore,us);return dv(ks(e),i._key,{source:"server"}).then(n=>bp(e,i,n))}(this._delegate):function Lm(i){i=ti(i,vs);const e=ti(i.firestore,us);return dv(ks(e),i._key).then(n=>bp(e,i,n))}(this._delegate),n.then(s=>new kd(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}function Go(i,e,n){return i.message=i.message.replace(e,n),i}function oy(i){for(const e of i)if("object"==typeof e&&!Mp(e))return e;return{}}function jm(i,e){var n,s;let l;return l=Mp(i[0])?i[0]:Mp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class kd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Fm(this._delegate,e._delegate)}}class qc extends kd{data(e){const n=this._delegate.data(e);return function Xs(i,e){i||xt()}(void 0!==n),n}}class Wo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Op(e)}where(e,n,s){try{return new Wo(this.firestore,Qa(this._delegate,function jE(i,e,n){const s=e,l=Ip("where",i);return zc._create(l,s,n)}(e,n,s)))}catch(l){throw Go(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Wo(this.firestore,Qa(this._delegate,function Nv(i,e="asc"){const n=e,s=Ip("orderBy",i);return xm._create(s,n)}(e,n)))}catch(s){throw Go(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,Qa(this._delegate,function A0(i){return Hh("limit",i),Dp._create("limit",i,"F")}(e)))}catch(n){throw Go(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,Qa(this._delegate,function kv(i){return Hh("limitToLast",i),Dp._create("limitToLast",i,"L")}(e)))}catch(n){throw Go(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,Qa(this._delegate,function Fv(...i){return Xh._create("startAt",i,!0)}(...e)))}catch(n){throw Go(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,Qa(this._delegate,function C0(...i){return Xh._create("startAfter",i,!1)}(...e)))}catch(n){throw Go(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,Qa(this._delegate,function b0(...i){return wp._create("endBefore",i,!1)}(...e)))}catch(n){throw Go(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,Qa(this._delegate,function S0(...i){return wp._create("endAt",i,!0)}(...e)))}catch(n){throw Go(n,"endAt()","Query.endAt()")}}isEqual(e){return Dv(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function jv(i){i=ti(i,Do);const e=ti(i.firestore,us),n=ks(e),s=new tc(e);return function hv(i,e){const n=new lr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(u,v,M){try{const F=yield Gf(u,v,!0),Y=new rm(v,F.ls),ce=Y.ca(F.documents),xe=Y.applyChanges(ce,!1);M.resolve(xe.snapshot)}catch(F){const Y=Mh(F,`Failed to execute query '${v} against cache`);M.reject(Y)}}),function l(u,v,M){return s.apply(this,arguments)})(yield $h(i),e,n);var s})),n.promise}(n,i._query).then(l=>new ec(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hv(i){i=ti(i,Do);const e=ti(i.firestore,us),n=ks(e),s=new tc(e);return Tm(n,i._query,{source:"server"}).then(l=>new ec(e,s,i,l))}(this._delegate):function Uv(i){i=ti(i,Do);const e=ti(i.firestore,us),n=ks(e),s=new tc(e);return Ov(i._query),Tm(n,i._query).then(l=>new ec(e,s,i,l))}(this._delegate),n.then(s=>new Np(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=oy(e),s=jm(e,l=>new Np(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Cp(this._delegate,n,s)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}class ay{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new qc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Np{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new ay(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new qc(this._firestore,s))})}isEqual(e){return Fm(this._delegate,e._delegate)}}class Su extends Wo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?Gh(this._delegate):Gh(this._delegate,e))}catch(n){throw Go(n,"doc()","CollectionReference.doc()")}}add(e){return function Wv(i,e){const n=ti(i.firestore,us),s=Gh(i),l=nf(i.converter,e);return Tu(n,[vp(Ql(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,ts.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new ya(this.firestore,n))}isEqual(e){return Iv(this._delegate,e._delegate)}withConverter(e){return new Su(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}function Ru(i){return ti(i,vs)}class Hm{constructor(...e){this._delegate=new na(...e)}static documentId(){return new Hm($i.keyField().canonicalString())}isEqual(e){return(e=(0,ve.m9)(e))instanceof na&&this._delegate._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function co(){return new Pm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nc(e)}static delete(){const e=function k0(){return new yp("deleteField")}();return e._methodName="FieldValue.delete",new nc(e)}static arrayUnion(...e){const n=function ty(...i){return new D0("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new nc(n)}static arrayRemove(...e){const n=function F0(...i){return new UE("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new nc(n)}static increment(e){const n=function L0(i){return new w0("increment",i)}(e);return n._methodName="FieldValue.increment",new nc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zm={Firestore:sy,GeoPoint:Yh,Timestamp:hi,Blob:zo,Transaction:xp,WriteBatch:Nd,DocumentReference:ya,DocumentSnapshot:kd,Query:Wo,QueryDocumentSnapshot:qc,QuerySnapshot:Np,CollectionReference:Su,FieldPath:Hm,FieldValue:nc,setLogLevel:function j0(i){!function mr(i){Nr.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function ly(i){(function Gm(i,e){i.INTERNAL.registerComponent(new Oe.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},zm)))})(i,(e,n)=>new sy(e,n,new U0)),i.registerVersion("@firebase/firestore-compat","0.3.21")}(ze.Z);var cy=P(7142);function Wm(i,e){return function uy(i,e=Z.z){return new ne.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(i,e)}function kp(i,e){return Wm(i,e).pipe((0,Pe.U)(n=>({payload:n,type:"query"})))}class qm{constructor(e,n){(0,g.Z)(this,"ref",void 0),(0,g.Z)(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:u}=_y(s,n);return new py(l,u,this.afs)}snapshotChanges(){return function dy(i,e){return Wm(i,e).pipe((0,W.O)(void 0),De(),(0,Pe.U)(n=>{const[s,l]=n;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pe.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,Ie.D)(this.ref.get(e)).pipe(U.iC)}}function Fp(i,e){return kp(i,e).pipe((0,W.O)(void 0),De(),(0,Pe.U)(n=>{const[s,l]=n,u=l.payload.docChanges(),v=u.map(M=>({type:M.type,payload:M}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((M,F)=>{const Y=u.find(xe=>xe.doc.ref.isEqual(M.ref)),ce=null==s?void 0:s.payload.docs.find(xe=>xe.ref.isEqual(M.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(M.metadata)||!Y&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(M.metadata)||v.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:M}})}),v}))}function hy(i,e,n){return Fp(i,n).pipe((0,Qe.R)((s,l)=>function H0(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function z0(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ym(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ym(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ym(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(u=>u.payload),e),[]),(0,ge.x)(),(0,Pe.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Ym(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function fy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class py{constructor(e,n,s){(0,g.Z)(this,"ref",void 0),(0,g.Z)(this,"query",void 0),(0,g.Z)(this,"afs",void 0),this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=Fp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Pe.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,W.O)(void 0),De(),(0,Ae.h)(([s,l])=>l.length>0||!s),(0,Pe.U)(([,s])=>s),U.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=fy(e);return hy(this.query,n,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),U.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(U.iC)}add(e){return this.ref.add(e)}doc(e){return new qm(this.ref.doc(e),this.afs)}}class G0{constructor(e,n){(0,g.Z)(this,"query",void 0),(0,g.Z)(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Fp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,Ae.h)(n=>n.length>0),U.iC):Fp(this.query,this.afs.schedulers.outsideAngular).pipe(U.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=fy(e);return hy(this.query,n,this.afs.schedulers.outsideAngular).pipe(U.iC)}valueChanges(e={}){return kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),U.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(U.iC)}}const gy=new V.OlP("angularfire2.enableFirestorePersistence"),my=new V.OlP("angularfire2.firestore.persistenceSettings"),W0=new V.OlP("angularfire2.firestore.settings"),q0=new V.OlP("angularfire2.firestore.use-emulator");function _y(i,e=(n=>n)){return{query:e(i),ref:i}}let vy=(()=>{var i;class e{constructor(s,l,u,v,M,F,Y,ce,xe,et,yt,Qt,ln,un,Kn,dr,nr){(0,g.Z)(this,"schedulers",void 0),(0,g.Z)(this,"firestore",void 0),(0,g.Z)(this,"persistenceEnabled$",void 0),this.schedulers=Y;const Br=(0,Q.on)(s,F,l),Pi=xe;et&&(0,K.nw)(Br,F,yt,ln,un,Kn,Qt,dr),[this.firestore,this.persistenceEnabled$]=(0,Q.cc)(`${Br.name}.firestore`,"AngularFirestore",Br.name,()=>{const ni=F.runOutsideAngular(()=>Br.firestore());if(v&&ni.settings(v),Pi&&ni.useEmulator(...Pi),u&&!(0,f.PM)(M)){const uo=()=>{try{return(0,Ie.D)(ni.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(wo){return typeof console<"u"&&console.warn(wo),(0,se.of)(!1)}};return[ni,F.runOutsideAngular(uo)]}return[ni,(0,se.of)(!1)]},[v,Pi,u])}collection(s,l){let u;u="string"==typeof s?this.firestore.collection(s):s;const{ref:v,query:M}=_y(u,l),F=this.schedulers.ngZone.run(()=>v);return new py(F,M,this)}collectionGroup(s,l){const u=l||(M=>M),v=this.firestore.collectionGroup(s);return new G0(u(v),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const u=this.schedulers.ngZone.run(()=>l);return new qm(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,g.Z)(e,"\u0275fac",function(s){return new(s||i)(V.LFG(Q.Dh),V.LFG(Q.xv,8),V.LFG(gy,8),V.LFG(W0,8),V.LFG(V.Lbi),V.LFG(V.R0b),V.LFG(U.HU),V.LFG(my,8),V.LFG(q0,8),V.LFG(K.zQ,8),V.LFG(K.Qv,8),V.LFG(K.L6,8),V.LFG(K._Q,8),V.LFG(K.rT,8),V.LFG(K.lh,8),V.LFG(K.f7,8),V.LFG(U.Rf,8))}),(0,g.Z)(e,"\u0275prov",V.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),Y0=(()=>{var i;class e{constructor(){cy.Z.registerVersion("angularfire",U.q4.full,"fst-compat")}static enablePersistence(s){return{ngModule:e,providers:[{provide:gy,useValue:!0},{provide:my,useValue:s}]}}}return i=e,(0,g.Z)(e,"\u0275fac",function(s){return new(s||i)}),(0,g.Z)(e,"\u0275mod",V.oAB({type:i})),(0,g.Z)(e,"\u0275inj",V.cJS({providers:[vy]})),e})()},7217:(Ct,me,P)=>{"use strict";P.d(me,{Dh:()=>Ie,GT:()=>Z,cc:()=>Pe,hO:()=>De,on:()=>W,pX:()=>K,xv:()=>se});var g=P(1180),f=P(5879),V=P(8326),U=P(7142);const Q=["ngOnDestroy"],K=(je,ze,te,ye={})=>new Proxy(je,{get:(Oe,Le)=>te.runOutsideAngular(()=>{var ve;if(je[Le])return null!=ye&&null!==(ve=ye.spy)&&void 0!==ve&&ve.get&&ye.spy.get(Le,je[Le]),je[Le];if(Q.indexOf(Le)>-1)return()=>{};const ke=ze.toPromise().then(Me=>{const Te=null==Me?void 0:Me[Le];return"function"==typeof Te?Te.bind(Me):null!=Te&&Te.then?Te.then(qe=>te.run(()=>qe)):te.run(()=>Te)});return new Proxy(()=>{},{get:(Me,Te)=>ke[Te],apply:(Me,Te,qe)=>ke.then($e=>{var rt;const $t=null==$e?void 0:$e(...qe);return null!=ye&&null!==(rt=ye.spy)&&void 0!==rt&&rt.apply&&ye.spy.apply(Le,qe,$t),$t})})})}),Z=(je,ze)=>{ze.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(ye=>{Object.defineProperty(je.prototype,ye,Object.getOwnPropertyDescriptor(te.prototype||te,ye))})})};class ne{constructor(ze){return ze}}const Ie=new f.OlP("angularfire2.app.options"),se=new f.OlP("angularfire2.app.name");function W(je,ze,te){const Oe="object"==typeof te&&te||{};Oe.name=Oe.name||"string"==typeof te&&te||"[DEFAULT]";const ve=U.Z.apps.filter(ke=>ke&&ke.name===Oe.name)[0]||ze.runOutsideAngular(()=>U.Z.initializeApp(je,Oe));try{if(JSON.stringify(je)!==JSON.stringify(ve.options)){const ke=!!module.hot;fe("error",`${ve.name} Firebase App already initialized with different options${ke?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ne(ve)}const fe=(je,...ze)=>{(0,f.X6Q)()&&typeof console<"u"&&console[je](...ze)},pe={provide:ne,useFactory:W,deps:[Ie,f.R0b,[new f.FiY,se]]};let De=(()=>{var je;class ze{static initializeApp(ye,Oe){return{ngModule:ze,providers:[{provide:Ie,useValue:ye},{provide:se,useValue:Oe}]}}constructor(ye){U.Z.registerVersion("angularfire",V.q4.full,"core"),U.Z.registerVersion("angularfire",V.q4.full,"app-compat"),U.Z.registerVersion("angular",f.q4F.full,ye.toString())}}return je=ze,(0,g.Z)(ze,"\u0275fac",function(ye){return new(ye||je)(f.LFG(f.Lbi))}),(0,g.Z)(ze,"\u0275mod",f.oAB({type:je})),(0,g.Z)(ze,"\u0275inj",f.cJS({providers:[pe]})),ze})();function Pe(je,ze,te,ye,Oe){const[,Le,ve]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===je)||[];if(Le)return function Qe(je,ze){try{return je.toString()===ze.toString()}catch{return je===ze}}(Oe,ve)||(Ae("error",`${ze} was already initialized on the ${te} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:Oe,was:ve})),Le;{const ke=ye();return globalThis.\u0275AngularfireInstanceCache.push([je,ke,Oe]),ke}}const ge=typeof module<"u"&&!!module.hot,Ae=(je,...ze)=>{(0,f.X6Q)()&&typeof console<"u"&&console[je](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8326:(Ct,me,P)=>{"use strict";P.d(me,{q4:()=>Qe,iC:()=>rt,HU:()=>ve,Rf:()=>ze});var g=P(1180),f=P(5879),V=P(534);(0,V.registerVersion)("firebase","10.5.2","app");var K=P(1954),ne=P(2631);const se=new class Ie extends ne.v{}(class Z extends K.o{constructor(he,we){super(he,we),this.scheduler=he,this.work=we}schedule(he,we=0){return we>0?super.schedule(he,we):(this.delay=we,this.state=he,this.scheduler.flush(this),this)}execute(he,we){return we>0||this.closed?super.execute(he,we):this._execute(he,we)}requestAsyncId(he,we,be=0){return null!=be&&be>0||null==be&&this.delay>0?super.requestAsyncId(he,we,be):(he.flush(this),0)}});var fe=P(6321),pe=P(9397),De=P(5137),Pe=P(3093);const Qe=new f.GfV("ANGULARFIRE2_VERSION");class ze{constructor(){return((tt,he)=>{const we=(0,V.getApps)(),be=[];return we.forEach(Ye=>{Ye.container.getProvider(tt).instances.forEach(Xe=>{be.includes(Xe)||be.push(Xe)})}),be})(te)}}const te="app-check";function ye(){}class Oe{constructor(he,we=se){(0,g.Z)(this,"zone",void 0),(0,g.Z)(this,"delegate",void 0),this.zone=he,this.delegate=we}now(){return this.delegate.now()}schedule(he,we,be){const Ye=this.zone;return this.delegate.schedule(function(Xe){Ye.runGuarded(()=>{he.apply(this,[Xe])})},we,be)}}class Le{constructor(he){(0,g.Z)(this,"zone",void 0),(0,g.Z)(this,"task",null),this.zone=he}call(he,we){const be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)),we.pipe((0,pe.b)({next:be,complete:be,error:be})).subscribe(he).add(be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ve=(()=>{var tt;class he{constructor(be){(0,g.Z)(this,"ngZone",void 0),(0,g.Z)(this,"outsideAngular",void 0),(0,g.Z)(this,"insideAngular",void 0),this.ngZone=be,this.outsideAngular=be.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=be.run(()=>new Oe(Zone.current,fe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return tt=he,(0,g.Z)(he,"\u0275fac",function(be){return new(be||tt)(f.LFG(f.R0b))}),(0,g.Z)(he,"\u0275prov",f.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})),he})();function rt(tt){return function $t(tt){return function(we){return(we=we.lift(new Le(tt.ngZone))).pipe((0,De.R)(tt.outsideAngular),(0,Pe.Q)(tt.insideAngular))}}(function ke(){const tt=globalThis.\u0275AngularFireScheduler;if(!tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return tt}())(tt)}},6223:(Ct,me,P)=>{"use strict";P.d(me,{Cf:()=>ge,F:()=>ai,Fd:()=>_r,JJ:()=>qt,JL:()=>sr,JU:()=>ne,On:()=>bt,UX:()=>qo,_Y:()=>Bt,a5:()=>Wt,kI:()=>ze,qQ:()=>Ds,qu:()=>ls,sg:()=>ki,u:()=>en,u5:()=>Ba});var g=P(5879),f=P(6814),V=P(2459),U=P(9315),Q=P(7398);let K=(()=>{var z;class d{constructor(p,w){this._renderer=p,this._elementRef=w,this.onChange=J=>{},this.onTouched=()=>{}}setProperty(p,w){this._renderer.setProperty(this._elementRef.nativeElement,p,w)}registerOnTouched(p){this.onTouched=p}registerOnChange(p){this.onChange=p}setDisabledState(p){this.setProperty("disabled",p)}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(g.Qsj),g.Y36(g.SBq))},z.\u0275dir=g.lG2({type:z}),d})(),Z=(()=>{var z;class d extends K{}return(z=d).\u0275fac=function(){let T;return function(w){return(T||(T=g.n5z(z)))(w||z)}}(),z.\u0275dir=g.lG2({type:z,features:[g.qOj]}),d})();const ne=new g.OlP("NgValueAccessor"),W={provide:ne,useExisting:(0,g.Gpc)(()=>De),multi:!0},pe=new g.OlP("CompositionEventMode");let De=(()=>{var z;class d extends K{constructor(p,w,J){super(p,w),this._compositionMode=J,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const z=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(p){this.setProperty("value",null==p?"":p)}_handleInput(p){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(p)}_compositionStart(){this._composing=!0}_compositionEnd(p){this._composing=!1,this._compositionMode&&this.onChange(p)}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(pe,8))},z.\u0275dir=g.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(p,w){1&p&&g.NdJ("input",function(st){return w._handleInput(st.target.value)})("blur",function(){return w.onTouched()})("compositionstart",function(){return w._compositionStart()})("compositionend",function(st){return w._compositionEnd(st.target.value)})},features:[g._Bn([W]),g.qOj]}),d})();function Pe(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Qe(z){return null!=z&&"number"==typeof z.length}const ge=new g.OlP("NgValidators"),Ae=new g.OlP("NgAsyncValidators"),je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(d){return te(d)}static max(d){return ye(d)}static required(d){return function Oe(z){return Pe(z.value)?{required:!0}:null}(d)}static requiredTrue(d){return function Le(z){return!0===z.value?null:{required:!0}}(d)}static email(d){return function ve(z){return Pe(z.value)||je.test(z.value)?null:{email:!0}}(d)}static minLength(d){return function ke(z){return d=>Pe(d.value)||!Qe(d.value)?null:d.value.length<z?{minlength:{requiredLength:z,actualLength:d.value.length}}:null}(d)}static maxLength(d){return function Me(z){return d=>Qe(d.value)&&d.value.length>z?{maxlength:{requiredLength:z,actualLength:d.value.length}}:null}(d)}static pattern(d){return function Te(z){if(!z)return qe;let d,T;return"string"==typeof z?(T="","^"!==z.charAt(0)&&(T+="^"),T+=z,"$"!==z.charAt(z.length-1)&&(T+="$"),d=new RegExp(T)):(T=z.toString(),d=z),p=>{if(Pe(p.value))return null;const w=p.value;return d.test(w)?null:{pattern:{requiredPattern:T,actualValue:w}}}}(d)}static nullValidator(d){return null}static compose(d){return he(d)}static composeAsync(d){return be(d)}}function te(z){return d=>{if(Pe(d.value)||Pe(z))return null;const T=parseFloat(d.value);return!isNaN(T)&&T<z?{min:{min:z,actual:d.value}}:null}}function ye(z){return d=>{if(Pe(d.value)||Pe(z))return null;const T=parseFloat(d.value);return!isNaN(T)&&T>z?{max:{max:z,actual:d.value}}:null}}function qe(z){return null}function $e(z){return null!=z}function rt(z){return(0,g.QGY)(z)?(0,V.D)(z):z}function $t(z){let d={};return z.forEach(T=>{d=null!=T?{...d,...T}:d}),0===Object.keys(d).length?null:d}function Et(z,d){return d.map(T=>T(z))}function tt(z){return z.map(d=>function In(z){return!z.validate}(d)?d:T=>d.validate(T))}function he(z){if(!z)return null;const d=z.filter($e);return 0==d.length?null:function(T){return $t(Et(T,d))}}function we(z){return null!=z?he(tt(z)):null}function be(z){if(!z)return null;const d=z.filter($e);return 0==d.length?null:function(T){const p=Et(T,d).map(rt);return(0,U.D)(p).pipe((0,Q.U)($t))}}function Ye(z){return null!=z?be(tt(z)):null}function Ze(z,d){return null===z?[d]:Array.isArray(z)?[...z,d]:[z,d]}function Xe(z){return z._rawValidators}function Lt(z){return z._rawAsyncValidators}function Ut(z){return z?Array.isArray(z)?z:[z]:[]}function it(z,d){return Array.isArray(z)?z.includes(d):z===d}function ut(z,d){const T=Ut(d);return Ut(z).forEach(w=>{it(T,w)||T.push(w)}),T}function dt(z,d){return Ut(d).filter(T=>!it(z,T))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(d){this._rawValidators=d||[],this._composedValidatorFn=we(this._rawValidators)}_setAsyncValidators(d){this._rawAsyncValidators=d||[],this._composedAsyncValidatorFn=Ye(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(d){this._onDestroyCallbacks.push(d)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(d=>d()),this._onDestroyCallbacks=[]}reset(d=void 0){this.control&&this.control.reset(d)}hasError(d,T){return!!this.control&&this.control.hasError(d,T)}getError(d,T){return this.control?this.control.getError(d,T):null}}class It extends vt{get formDirective(){return null}get path(){return null}}class Wt extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt{constructor(d){this._cd=d}get isTouched(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.touched)}get isUntouched(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.untouched)}get isPristine(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.pristine)}get isDirty(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.dirty)}get isValid(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.valid)}get isInvalid(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.invalid)}get isPending(){var d;return!(null===(d=this._cd)||void 0===d||null===(d=d.control)||void 0===d||!d.pending)}get isSubmitted(){var d;return!(null===(d=this._cd)||void 0===d||!d.submitted)}}let qt=(()=>{var z;class d extends Xt{constructor(p){super(p)}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(Wt,2))},z.\u0275dir=g.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(p,w){2&p&&g.ekj("ng-untouched",w.isUntouched)("ng-touched",w.isTouched)("ng-pristine",w.isPristine)("ng-dirty",w.isDirty)("ng-valid",w.isValid)("ng-invalid",w.isInvalid)("ng-pending",w.isPending)},features:[g.qOj]}),d})(),sr=(()=>{var z;class d extends Xt{constructor(p){super(p)}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(It,10))},z.\u0275dir=g.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(p,w){2&p&&g.ekj("ng-untouched",w.isUntouched)("ng-touched",w.isTouched)("ng-pristine",w.isPristine)("ng-dirty",w.isDirty)("ng-valid",w.isValid)("ng-invalid",w.isInvalid)("ng-pending",w.isPending)("ng-submitted",w.isSubmitted)},features:[g.qOj]}),d})();const Or="VALID",jr="INVALID",_i="PENDING",pi="DISABLED";function Fr(z){return(gi(z)?z.validators:z)||null}function Wr(z,d){return(gi(d)?d.asyncValidators:z)||null}function gi(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function vi(z,d,T){const p=z.controls;if(!(d?Object.keys(p):p).length)throw new g.vHH(1e3,"");if(!p[T])throw new g.vHH(1001,"")}function Lr(z,d,T){z._forEachChild((p,w)=>{if(void 0===T[w])throw new g.vHH(1002,"")})}class Ge{constructor(d,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(d),this._assignAsyncValidators(T)}get validator(){return this._composedValidatorFn}set validator(d){this._rawValidators=this._composedValidatorFn=d}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(d){this._rawAsyncValidators=this._composedAsyncValidatorFn=d}get parent(){return this._parent}get valid(){return this.status===Or}get invalid(){return this.status===jr}get pending(){return this.status==_i}get disabled(){return this.status===pi}get enabled(){return this.status!==pi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(d){this._assignValidators(d)}setAsyncValidators(d){this._assignAsyncValidators(d)}addValidators(d){this.setValidators(ut(d,this._rawValidators))}addAsyncValidators(d){this.setAsyncValidators(ut(d,this._rawAsyncValidators))}removeValidators(d){this.setValidators(dt(d,this._rawValidators))}removeAsyncValidators(d){this.setAsyncValidators(dt(d,this._rawAsyncValidators))}hasValidator(d){return it(this._rawValidators,d)}hasAsyncValidator(d){return it(this._rawAsyncValidators,d)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(d={}){this.touched=!0,this._parent&&!d.onlySelf&&this._parent.markAsTouched(d)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(d=>d.markAllAsTouched())}markAsUntouched(d={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}markAsDirty(d={}){this.pristine=!1,this._parent&&!d.onlySelf&&this._parent.markAsDirty(d)}markAsPristine(d={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}markAsPending(d={}){this.status=_i,!1!==d.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!d.onlySelf&&this._parent.markAsPending(d)}disable(d={}){const T=this._parentMarkedDirty(d.onlySelf);this.status=pi,this.errors=null,this._forEachChild(p=>{p.disable({...d,onlySelf:!0})}),this._updateValue(),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...d,skipPristineCheck:T}),this._onDisabledChange.forEach(p=>p(!0))}enable(d={}){const T=this._parentMarkedDirty(d.onlySelf);this.status=Or,this._forEachChild(p=>{p.enable({...d,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent}),this._updateAncestors({...d,skipPristineCheck:T}),this._onDisabledChange.forEach(p=>p(!1))}_updateAncestors(d){this._parent&&!d.onlySelf&&(this._parent.updateValueAndValidity(d),d.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(d){this._parent=d}getRawValue(){return this.value}updateValueAndValidity(d={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Or||this.status===_i)&&this._runAsyncValidator(d.emitEvent)),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!d.onlySelf&&this._parent.updateValueAndValidity(d)}_updateTreeValidity(d={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(d)),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pi:Or}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(d){if(this.asyncValidator){this.status=_i,this._hasOwnPendingAsyncValidator=!0;const T=rt(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(p=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(p,{emitEvent:d})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(d,T={}){this.errors=d,this._updateControlsErrors(!1!==T.emitEvent)}get(d){let T=d;return null==T||(Array.isArray(T)||(T=T.split(".")),0===T.length)?null:T.reduce((p,w)=>p&&p._find(w),this)}getError(d,T){const p=T?this.get(T):this;return p&&p.errors?p.errors[d]:null}hasError(d,T){return!!this.getError(d,T)}get root(){let d=this;for(;d._parent;)d=d._parent;return d}_updateControlsErrors(d){this.status=this._calculateStatus(),d&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(d)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?pi:this.errors?jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_i)?_i:this._anyControlsHaveStatus(jr)?jr:Or}_anyControlsHaveStatus(d){return this._anyControls(T=>T.status===d)}_anyControlsDirty(){return this._anyControls(d=>d.dirty)}_anyControlsTouched(){return this._anyControls(d=>d.touched)}_updatePristine(d={}){this.pristine=!this._anyControlsDirty(),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}_updateTouched(d={}){this.touched=this._anyControlsTouched(),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}_registerOnCollectionChange(d){this._onCollectionChange=d}_setUpdateStrategy(d){gi(d)&&null!=d.updateOn&&(this._updateOn=d.updateOn)}_parentMarkedDirty(d){return!d&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(d){return null}_assignValidators(d){this._rawValidators=Array.isArray(d)?d.slice():d,this._composedValidatorFn=function Ai(z){return Array.isArray(z)?we(z):z||null}(this._rawValidators)}_assignAsyncValidators(d){this._rawAsyncValidators=Array.isArray(d)?d.slice():d,this._composedAsyncValidatorFn=function Xi(z){return Array.isArray(z)?Ye(z):z||null}(this._rawAsyncValidators)}}class ie extends Ge{constructor(d,T,p){super(Fr(T),Wr(p,T)),this.controls=d,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(d,T){return this.controls[d]?this.controls[d]:(this.controls[d]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(d,T,p={}){this.registerControl(d,T),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}removeControl(d,T={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(d,T,p={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],T&&this.registerControl(d,T),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}contains(d){return this.controls.hasOwnProperty(d)&&this.controls[d].enabled}setValue(d,T={}){Lr(this,0,d),Object.keys(d).forEach(p=>{vi(this,!0,p),this.controls[p].setValue(d[p],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(d,T={}){null!=d&&(Object.keys(d).forEach(p=>{const w=this.controls[p];w&&w.patchValue(d[p],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(d={},T={}){this._forEachChild((p,w)=>{p.reset(d[w],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(d,T,p)=>(d[p]=T.getRawValue(),d))}_syncPendingControls(){let d=this._reduceChildren(!1,(T,p)=>!!p._syncPendingControls()||T);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){Object.keys(this.controls).forEach(T=>{const p=this.controls[T];p&&d(p,T)})}_setUpControls(){this._forEachChild(d=>{d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(d){for(const[T,p]of Object.entries(this.controls))if(this.contains(T)&&d(p))return!0;return!1}_reduceValue(){return this._reduceChildren({},(T,p,w)=>((p.enabled||this.disabled)&&(T[w]=p.value),T))}_reduceChildren(d,T){let p=d;return this._forEachChild((w,J)=>{p=T(p,w,J)}),p}_allControlsDisabled(){for(const d of Object.keys(this.controls))if(this.controls[d].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(d){return this.controls.hasOwnProperty(d)?this.controls[d]:null}}class ue extends ie{}const gt=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Vt}),Vt="always";function Zt(z,d){return[...d.path,z]}function vn(z,d,T=Vt){var p,w;Vr(z,d),d.valueAccessor.writeValue(z.value),(z.disabled||"always"===T)&&(null===(p=(w=d.valueAccessor).setDisabledState)||void 0===p||p.call(w,z.disabled)),function si(z,d){d.valueAccessor.registerOnChange(T=>{z._pendingValue=T,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&at(z,d)})}(z,d),function Nt(z,d){const T=(p,w)=>{d.valueAccessor.writeValue(p),w&&d.viewToModelUpdate(p)};z.registerOnChange(T),d._registerOnDestroy(()=>{z._unregisterOnChange(T)})}(z,d),function Dt(z,d){d.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&at(z,d),"submit"!==z.updateOn&&z.markAsTouched()})}(z,d),function Vn(z,d){if(d.valueAccessor.setDisabledState){const T=p=>{d.valueAccessor.setDisabledState(p)};z.registerOnDisabledChange(T),d._registerOnDestroy(()=>{z._unregisterOnDisabledChange(T)})}}(z,d)}function pn(z,d,T=!0){const p=()=>{};d.valueAccessor&&(d.valueAccessor.registerOnChange(p),d.valueAccessor.registerOnTouched(p)),Li(z,d),z&&(d._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function on(z,d){z.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(d)})}function Vr(z,d){const T=Xe(z);null!==d.validator?z.setValidators(Ze(T,d.validator)):"function"==typeof T&&z.setValidators([T]);const p=Lt(z);null!==d.asyncValidator?z.setAsyncValidators(Ze(p,d.asyncValidator)):"function"==typeof p&&z.setAsyncValidators([p]);const w=()=>z.updateValueAndValidity();on(d._rawValidators,w),on(d._rawAsyncValidators,w)}function Li(z,d){let T=!1;if(null!==z){if(null!==d.validator){const w=Xe(z);if(Array.isArray(w)&&w.length>0){const J=w.filter(st=>st!==d.validator);J.length!==w.length&&(T=!0,z.setValidators(J))}}if(null!==d.asyncValidator){const w=Lt(z);if(Array.isArray(w)&&w.length>0){const J=w.filter(st=>st!==d.asyncValidator);J.length!==w.length&&(T=!0,z.setAsyncValidators(J))}}}const p=()=>{};return on(d._rawValidators,p),on(d._rawAsyncValidators,p),T}function at(z,d){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),d.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function gn(z,d){Vr(z,d)}function Xr(z,d){if(!z.hasOwnProperty("model"))return!1;const T=z.model;return!!T.isFirstChange()||!Object.is(d,T.currentValue)}function Jn(z,d){z._syncPendingControls(),d.forEach(T=>{const p=T.control;"submit"===p.updateOn&&p._pendingChange&&(T.viewToModelUpdate(p._pendingValue),p._pendingChange=!1)})}function ns(z,d){if(!d)return null;let T,p,w;return Array.isArray(d),d.forEach(J=>{J.constructor===De?T=J:function or(z){return Object.getPrototypeOf(z.constructor)===Z}(J)?p=J:w=J}),w||p||T||null}const Zi={provide:It,useExisting:(0,g.Gpc)(()=>ai)},yi=(()=>Promise.resolve())();let ai=(()=>{var z;class d extends It{constructor(p,w,J){super(),this.callSetDisabledState=J,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new ie({},we(p),Ye(w))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(p){yi.then(()=>{const w=this._findContainer(p.path);p.control=w.registerControl(p.name,p.control),vn(p.control,p,this.callSetDisabledState),p.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(p)})}getControl(p){return this.form.get(p.path)}removeControl(p){yi.then(()=>{const w=this._findContainer(p.path);w&&w.removeControl(p.name),this._directives.delete(p)})}addFormGroup(p){yi.then(()=>{const w=this._findContainer(p.path),J=new ie({});gn(J,p),w.registerControl(p.name,J),J.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(p){yi.then(()=>{const w=this._findContainer(p.path);w&&w.removeControl(p.name)})}getFormGroup(p){return this.form.get(p.path)}updateModel(p,w){yi.then(()=>{this.form.get(p.path).setValue(w)})}setValue(p){this.control.setValue(p)}onSubmit(p){var w;return this.submitted=!0,Jn(this.form,this._directives),this.ngSubmit.emit(p),"dialog"===(null==p||null===(w=p.target)||void 0===w?void 0:w.method)}onReset(){this.resetForm()}resetForm(p=void 0){this.form.reset(p),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(p){return p.pop(),p.length?this.form.get(p):this.form}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(ge,10),g.Y36(Ae,10),g.Y36(gt,8))},z.\u0275dir=g.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(p,w){1&p&&g.NdJ("submit",function(st){return w.onSubmit(st)})("reset",function(){return w.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Zi]),g.qOj]}),d})();function ds(z,d){const T=z.indexOf(d);T>-1&&z.splice(T,1)}function Oi(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Vi=class extends Ge{constructor(d=null,T,p){super(Fr(T),Wr(p,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(d),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gi(T)&&(T.nonNullable||T.initialValueIsDefault)&&(this.defaultValue=Oi(d)?d.value:d)}setValue(d,T={}){this.value=this._pendingValue=d,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(p=>p(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(d,T={}){this.setValue(d,T)}reset(d=this.defaultValue,T={}){this._applyFormState(d),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(d){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(d){this._onChange.push(d)}_unregisterOnChange(d){ds(this._onChange,d)}registerOnDisabledChange(d){this._onDisabledChange.push(d)}_unregisterOnDisabledChange(d){ds(this._onDisabledChange,d)}_forEachChild(d){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(d){Oi(d)?(this.value=this._pendingValue=d.value,d.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=d}},At={provide:Wt,useExisting:(0,g.Gpc)(()=>bt)},Pt=(()=>Promise.resolve())();let bt=(()=>{var z;class d extends Wt{constructor(p,w,J,st,Gt,cn){super(),this._changeDetectorRef=Gt,this.callSetDisabledState=cn,this.control=new Vi,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=p,this._setValidators(w),this._setAsyncValidators(J),this.valueAccessor=ns(0,st)}ngOnChanges(p){if(this._checkForErrors(),!this._registered||"name"in p){if(this._registered&&(this._checkName(),this.formDirective)){const w=p.name.previousValue;this.formDirective.removeControl({name:w,path:this._getPath(w)})}this._setUpControl()}"isDisabled"in p&&this._updateDisabled(p),Xr(p,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(p){this.viewModel=p,this.update.emit(p)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(p){Pt.then(()=>{var w;this.control.setValue(p,{emitViewToModelChange:!1}),null===(w=this._changeDetectorRef)||void 0===w||w.markForCheck()})}_updateDisabled(p){const w=p.isDisabled.currentValue,J=0!==w&&(0,g.VuI)(w);Pt.then(()=>{var st;J&&!this.control.disabled?this.control.disable():!J&&this.control.disabled&&this.control.enable(),null===(st=this._changeDetectorRef)||void 0===st||st.markForCheck()})}_getPath(p){return this._parent?Zt(p,this._parent):[p]}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(It,9),g.Y36(ge,10),g.Y36(Ae,10),g.Y36(ne,10),g.Y36(g.sBO,8),g.Y36(gt,8))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([At]),g.qOj,g.TTD]}),d})(),Bt=(()=>{var z;class d{}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275dir=g.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),d})(),xi=(()=>{var z;class d{}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({}),d})();const zn=new g.OlP("NgModelWithFormControlWarning"),rs={provide:It,useExisting:(0,g.Gpc)(()=>ki)};let ki=(()=>{var z;class d extends It{constructor(p,w,J){super(),this.callSetDisabledState=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(p),this._setAsyncValidators(w)}ngOnChanges(p){this._checkFormPresent(),p.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Li(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(p){const w=this.form.get(p.path);return vn(w,p,this.callSetDisabledState),w.updateValueAndValidity({emitEvent:!1}),this.directives.push(p),w}getControl(p){return this.form.get(p.path)}removeControl(p){pn(p.control||null,p,!1),function Fs(z,d){const T=z.indexOf(d);T>-1&&z.splice(T,1)}(this.directives,p)}addFormGroup(p){this._setUpFormContainer(p)}removeFormGroup(p){this._cleanUpFormContainer(p)}getFormGroup(p){return this.form.get(p.path)}addFormArray(p){this._setUpFormContainer(p)}removeFormArray(p){this._cleanUpFormContainer(p)}getFormArray(p){return this.form.get(p.path)}updateModel(p,w){this.form.get(p.path).setValue(w)}onSubmit(p){var w;return this.submitted=!0,Jn(this.form,this.directives),this.ngSubmit.emit(p),"dialog"===(null==p||null===(w=p.target)||void 0===w?void 0:w.method)}onReset(){this.resetForm()}resetForm(p=void 0){this.form.reset(p),this.submitted=!1}_updateDomValue(){this.directives.forEach(p=>{const w=p.control,J=this.form.get(p.path);w!==J&&(pn(w||null,p),(z=>z instanceof Vi)(J)&&(vn(J,p,this.callSetDisabledState),p.control=J))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(p){const w=this.form.get(p.path);gn(w,p),w.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(p){if(this.form){const w=this.form.get(p.path);w&&function Pn(z,d){return Li(z,d)}(w,p)&&w.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vr(this.form,this),this._oldForm&&Li(this._oldForm,this)}_checkFormPresent(){}}return(z=d).\u0275fac=function(p){return new(p||z)(g.Y36(ge,10),g.Y36(Ae,10),g.Y36(gt,8))},z.\u0275dir=g.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(p,w){1&p&&g.NdJ("submit",function(st){return w.onSubmit(st)})("reset",function(){return w.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([rs]),g.qOj,g.TTD]}),d})();const ui={provide:Wt,useExisting:(0,g.Gpc)(()=>en)};let en=(()=>{var z;class d extends Wt{set isDisabled(p){}constructor(p,w,J,st,Gt){super(),this._ngModelWarningConfig=Gt,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=p,this._setValidators(w),this._setAsyncValidators(J),this.valueAccessor=ns(0,st)}ngOnChanges(p){this._added||this._setUpControl(),Xr(p,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(p){this.viewModel=p,this.update.emit(p)}get path(){return Zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(z=d)._ngModelWarningSentOnce=!1,z.\u0275fac=function(p){return new(p||z)(g.Y36(It,13),g.Y36(ge,10),g.Y36(Ae,10),g.Y36(ne,10),g.Y36(zn,8))},z.\u0275dir=g.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([ui]),g.qOj,g.TTD]}),d})();function Ei(z){return"number"==typeof z?z:parseFloat(z)}let br=(()=>{var z;class d{constructor(){this._validator=qe}ngOnChanges(p){if(this.inputName in p){const w=this.normalizeInput(p[this.inputName].currentValue);this._enabled=this.enabled(w),this._validator=this._enabled?this.createValidator(w):qe,this._onChange&&this._onChange()}}validate(p){return this._validator(p)}registerOnValidatorChange(p){this._onChange=p}enabled(p){return null!=p}}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275dir=g.lG2({type:z,features:[g.TTD]}),d})();const Is={provide:ge,useExisting:(0,g.Gpc)(()=>_r),multi:!0};let _r=(()=>{var z;class d extends br{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=p=>Ei(p),this.createValidator=p=>ye(p)}}return(z=d).\u0275fac=function(){let T;return function(w){return(T||(T=g.n5z(z)))(w||z)}}(),z.\u0275dir=g.lG2({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(p,w){2&p&&g.uIk("max",w._enabled?w.max:null)},inputs:{max:"max"},features:[g._Bn([Is]),g.qOj]}),d})();const ss={provide:ge,useExisting:(0,g.Gpc)(()=>Ds),multi:!0};let Ds=(()=>{var z;class d extends br{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=p=>Ei(p),this.createValidator=p=>te(p)}}return(z=d).\u0275fac=function(){let T;return function(w){return(T||(T=g.n5z(z)))(w||z)}}(),z.\u0275dir=g.lG2({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(p,w){2&p&&g.uIk("min",w._enabled?w.min:null)},inputs:{min:"min"},features:[g._Bn([ss]),g.qOj]}),d})(),ei=(()=>{var z;class d{}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[xi]}),d})();class Yi extends Ge{constructor(d,T,p){super(Fr(T),Wr(p,T)),this.controls=d,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(d){return this.controls[this._adjustIndex(d)]}push(d,T={}){this.controls.push(d),this._registerControl(d),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(d,T,p={}){this.controls.splice(d,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:p.emitEvent})}removeAt(d,T={}){let p=this._adjustIndex(d);p<0&&(p=0),this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),this.controls.splice(p,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(d,T,p={}){let w=this._adjustIndex(d);w<0&&(w=0),this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),T&&(this.controls.splice(w,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(d,T={}){Lr(this,0,d),d.forEach((p,w)=>{vi(this,!1,w),this.at(w).setValue(p,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(d,T={}){null!=d&&(d.forEach((p,w)=>{this.at(w)&&this.at(w).patchValue(p,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(d=[],T={}){this._forEachChild((p,w)=>{p.reset(d[w],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(d=>d.getRawValue())}clear(d={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:d.emitEvent}))}_adjustIndex(d){return d<0?d+this.length:d}_syncPendingControls(){let d=this.controls.reduce((T,p)=>!!p._syncPendingControls()||T,!1);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){this.controls.forEach((T,p)=>{d(T,p)})}_updateValue(){this.value=this.controls.filter(d=>d.enabled||this.disabled).map(d=>d.value)}_anyControls(d){return this.controls.some(T=>T.enabled&&d(T))}_setUpControls(){this._forEachChild(d=>this._registerControl(d))}_allControlsDisabled(){for(const d of this.controls)if(d.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(d){d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)}_find(d){var T;return null!==(T=this.at(d))&&void 0!==T?T:null}}function Ci(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let ls=(()=>{var z;class d{constructor(){this.useNonNullable=!1}get nonNullable(){const p=new d;return p.useNonNullable=!0,p}group(p,w=null){const J=this._reduceControls(p);let st={};return Ci(w)?st=w:null!==w&&(st.validators=w.validator,st.asyncValidators=w.asyncValidator),new ie(J,st)}record(p,w=null){const J=this._reduceControls(p);return new ue(J,w)}control(p,w,J){let st={};return this.useNonNullable?(Ci(w)?st=w:(st.validators=w,st.asyncValidators=J),new Vi(p,{...st,nonNullable:!0})):new Vi(p,w,J)}array(p,w,J){const st=p.map(Gt=>this._createControl(Gt));return new Yi(st,w,J)}_reduceControls(p){const w={};return Object.keys(p).forEach(J=>{w[J]=this._createControl(p[J])}),w}_createControl(p){return p instanceof Vi||p instanceof Ge?p:Array.isArray(p)?this.control(p[0],p.length>1?p[1]:null,p.length>2?p[2]:null):this.control(p)}}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275prov=g.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),d})(),Ba=(()=>{var z;class d{static withConfig(p){var w;return{ngModule:d,providers:[{provide:gt,useValue:null!==(w=p.callSetDisabledState)&&void 0!==w?w:Vt}]}}}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[ei]}),d})(),qo=(()=>{var z;class d{static withConfig(p){var w,J;return{ngModule:d,providers:[{provide:zn,useValue:null!==(w=p.warnOnNgModelWithFormControl)&&void 0!==w?w:"always"},{provide:gt,useValue:null!==(J=p.callSetDisabledState)&&void 0!==J?J:Vt}]}}}return(z=d).\u0275fac=function(p){return new(p||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[ei]}),d})()},6593:(Ct,me,P)=>{"use strict";P.d(me,{Dx:()=>Qn,H7:()=>jr,b2:()=>dn,q6:()=>vt,se:()=>ke});var g=P(5879),f=P(6814);class V extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class U extends V{static makeCurrent(){(0,f.HT)(new U)}onAndCancel(re,Fe,ue){return re.addEventListener(Fe,ue),()=>{re.removeEventListener(Fe,ue)}}dispatchEvent(re,Fe){re.dispatchEvent(Fe)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,Fe){return(Fe=Fe||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,Fe){return"window"===Fe?window:"document"===Fe?re:"body"===Fe?re.body:null}getBaseHref(re){const Fe=function K(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==Fe?null:function ne(ie){Z=Z||document.createElement("a"),Z.setAttribute("href",ie);const re=Z.pathname;return"/"===re.charAt(0)?re:`/${re}`}(Fe)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,f.Mx)(document.cookie,re)}}let Z,Q=null,se=(()=>{var ie;class re{build(){return new XMLHttpRequest}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();const W=new g.OlP("EventManagerPlugins");let fe=(()=>{var ie;class re{constructor(ue,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,ue.forEach(gt=>{gt.manager=this}),this._plugins=ue.slice().reverse()}addEventListener(ue,Ue,gt){return this._findPluginFor(Ue).addEventListener(ue,Ue,gt)}getZone(){return this._zone}_findPluginFor(ue){let Ue=this._eventNameToPlugin.get(ue);if(Ue)return Ue;if(Ue=this._plugins.find(Vt=>Vt.supports(ue)),!Ue)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(ue,Ue),Ue}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(W),g.LFG(g.R0b))},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();class pe{constructor(re){this._doc=re}}const De="ng-app-id";let Pe=(()=>{var ie;class re{constructor(ue,Ue,gt,Vt={}){this.doc=ue,this.appId=Ue,this.nonce=gt,this.platformId=Vt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,f.PM)(Vt),this.resetHostNodes()}addStyles(ue){for(const Ue of ue)1===this.changeUsageCount(Ue,1)&&this.onStyleAdded(Ue)}removeStyles(ue){for(const Ue of ue)this.changeUsageCount(Ue,-1)<=0&&this.onStyleRemoved(Ue)}ngOnDestroy(){const ue=this.styleNodesInDOM;ue&&(ue.forEach(Ue=>Ue.remove()),ue.clear());for(const Ue of this.getAllStyles())this.onStyleRemoved(Ue);this.resetHostNodes()}addHost(ue){this.hostNodes.add(ue);for(const Ue of this.getAllStyles())this.addStyleToHost(ue,Ue)}removeHost(ue){this.hostNodes.delete(ue)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ue){for(const Ue of this.hostNodes)this.addStyleToHost(Ue,ue)}onStyleRemoved(ue){var Ue;const gt=this.styleRef;null===(Ue=gt.get(ue))||void 0===Ue||null===(Ue=Ue.elements)||void 0===Ue||Ue.forEach(Vt=>Vt.remove()),gt.delete(ue)}collectServerRenderedStyles(){var ue;const Ue=null===(ue=this.doc.head)||void 0===ue?void 0:ue.querySelectorAll(`style[${De}="${this.appId}"]`);if(null!=Ue&&Ue.length){const gt=new Map;return Ue.forEach(Vt=>{null!=Vt.textContent&&gt.set(Vt.textContent,Vt)}),gt}return null}changeUsageCount(ue,Ue){const gt=this.styleRef;if(gt.has(ue)){const Vt=gt.get(ue);return Vt.usage+=Ue,Vt.usage}return gt.set(ue,{usage:Ue,elements:[]}),Ue}getStyleElement(ue,Ue){const gt=this.styleNodesInDOM,Vt=null==gt?void 0:gt.get(Ue);if((null==Vt?void 0:Vt.parentNode)===ue)return gt.delete(Ue),Vt.removeAttribute(De),Vt;{const Zt=this.doc.createElement("style");return this.nonce&&Zt.setAttribute("nonce",this.nonce),Zt.textContent=Ue,this.platformIsServer&&Zt.setAttribute(De,this.appId),Zt}}addStyleToHost(ue,Ue){var gt;const Vt=this.getStyleElement(ue,Ue);ue.appendChild(Vt);const Zt=this.styleRef,vn=null===(gt=Zt.get(Ue))||void 0===gt?void 0:gt.elements;vn?vn.push(Vt):Zt.set(Ue,{elements:[Vt],usage:1})}resetHostNodes(){const ue=this.hostNodes;ue.clear(),ue.add(this.doc.head)}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(f.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g,ye=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ve(ie,re){return re.map(Fe=>Fe.replace(ge,ie))}let ke=(()=>{var ie;class re{constructor(ue,Ue,gt,Vt,Zt,vn,pn,on=null){this.eventManager=ue,this.sharedStylesHost=Ue,this.appId=gt,this.removeStylesOnCompDestroy=Vt,this.doc=Zt,this.platformId=vn,this.ngZone=pn,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,f.PM)(vn),this.defaultRenderer=new Me(ue,Zt,pn,this.platformIsServer)}createRenderer(ue,Ue){if(!ue||!Ue)return this.defaultRenderer;this.platformIsServer&&Ue.encapsulation===g.ifc.ShadowDom&&(Ue={...Ue,encapsulation:g.ifc.Emulated});const gt=this.getOrCreateRenderer(ue,Ue);return gt instanceof Et?gt.applyToHost(ue):gt instanceof $t&&gt.applyStyles(),gt}getOrCreateRenderer(ue,Ue){const gt=this.rendererByCompId;let Vt=gt.get(Ue.id);if(!Vt){const Zt=this.doc,vn=this.ngZone,pn=this.eventManager,on=this.sharedStylesHost,Vn=this.removeStylesOnCompDestroy,Vr=this.platformIsServer;switch(Ue.encapsulation){case g.ifc.Emulated:Vt=new Et(pn,on,Ue,this.appId,Vn,Zt,vn,Vr);break;case g.ifc.ShadowDom:return new rt(pn,on,ue,Ue,Zt,vn,this.nonce,Vr);default:Vt=new $t(pn,on,Ue,Vn,Zt,vn,Vr)}gt.set(Ue.id,Vt)}return Vt}ngOnDestroy(){this.rendererByCompId.clear()}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(fe),g.LFG(Pe),g.LFG(g.AFp),g.LFG(ye),g.LFG(f.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();class Me{constructor(re,Fe,ue,Ue){this.eventManager=re,this.doc=Fe,this.ngZone=ue,this.platformIsServer=Ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,Fe){return Fe?this.doc.createElementNS(Qe[Fe]||Fe,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,Fe){($e(re)?re.content:re).appendChild(Fe)}insertBefore(re,Fe,ue){re&&($e(re)?re.content:re).insertBefore(Fe,ue)}removeChild(re,Fe){re&&re.removeChild(Fe)}selectRootElement(re,Fe){let ue="string"==typeof re?this.doc.querySelector(re):re;if(!ue)throw new g.vHH(-5104,!1);return Fe||(ue.textContent=""),ue}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,Fe,ue,Ue){if(Ue){Fe=Ue+":"+Fe;const gt=Qe[Ue];gt?re.setAttributeNS(gt,Fe,ue):re.setAttribute(Fe,ue)}else re.setAttribute(Fe,ue)}removeAttribute(re,Fe,ue){if(ue){const Ue=Qe[ue];Ue?re.removeAttributeNS(Ue,Fe):re.removeAttribute(`${ue}:${Fe}`)}else re.removeAttribute(Fe)}addClass(re,Fe){re.classList.add(Fe)}removeClass(re,Fe){re.classList.remove(Fe)}setStyle(re,Fe,ue,Ue){Ue&(g.JOm.DashCase|g.JOm.Important)?re.style.setProperty(Fe,ue,Ue&g.JOm.Important?"important":""):re.style[Fe]=ue}removeStyle(re,Fe,ue){ue&g.JOm.DashCase?re.style.removeProperty(Fe):re.style[Fe]=""}setProperty(re,Fe,ue){re[Fe]=ue}setValue(re,Fe){re.nodeValue=Fe}listen(re,Fe,ue){if("string"==typeof re&&!(re=(0,f.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${Fe}`);return this.eventManager.addEventListener(re,Fe,this.decoratePreventDefault(ue))}decoratePreventDefault(re){return Fe=>{if("__ngUnwrap__"===Fe)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(Fe)):re(Fe))&&Fe.preventDefault()}}}function $e(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class rt extends Me{constructor(re,Fe,ue,Ue,gt,Vt,Zt,vn){super(re,gt,Vt,vn),this.sharedStylesHost=Fe,this.hostEl=ue,this.shadowRoot=ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=ve(Ue.id,Ue.styles);for(const on of pn){const Vn=document.createElement("style");Zt&&Vn.setAttribute("nonce",Zt),Vn.textContent=on,this.shadowRoot.appendChild(Vn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,Fe){return super.appendChild(this.nodeOrShadowRoot(re),Fe)}insertBefore(re,Fe,ue){return super.insertBefore(this.nodeOrShadowRoot(re),Fe,ue)}removeChild(re,Fe){return super.removeChild(this.nodeOrShadowRoot(re),Fe)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $t extends Me{constructor(re,Fe,ue,Ue,gt,Vt,Zt,vn){super(re,gt,Vt,Zt),this.sharedStylesHost=Fe,this.removeStylesOnCompDestroy=Ue,this.styles=vn?ve(vn,ue.styles):ue.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Et extends $t{constructor(re,Fe,ue,Ue,gt,Vt,Zt,vn){const pn=Ue+"-"+ue.id;super(re,Fe,ue,gt,Vt,Zt,vn,pn),this.contentAttr=function Oe(ie){return"_ngcontent-%COMP%".replace(ge,ie)}(pn),this.hostAttr=function Le(ie){return"_nghost-%COMP%".replace(ge,ie)}(pn)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,Fe){const ue=super.createElement(re,Fe);return super.setAttribute(ue,this.contentAttr,""),ue}}let In=(()=>{var ie;class re extends pe{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,Ue,gt){return ue.addEventListener(Ue,gt,!1),()=>this.removeEventListener(ue,Ue,gt)}removeEventListener(ue,Ue,gt){return ue.removeEventListener(Ue,gt)}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(f.K0))},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();const tt=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let be=(()=>{var ie;class re extends pe{constructor(ue){super(ue)}supports(ue){return null!=re.parseEventName(ue)}addEventListener(ue,Ue,gt){const Vt=re.parseEventName(Ue),Zt=re.eventCallback(Vt.fullKey,gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ue,Vt.domEventName,Zt))}static parseEventName(ue){const Ue=ue.toLowerCase().split("."),gt=Ue.shift();if(0===Ue.length||"keydown"!==gt&&"keyup"!==gt)return null;const Vt=re._normalizeKey(Ue.pop());let Zt="",vn=Ue.indexOf("code");if(vn>-1&&(Ue.splice(vn,1),Zt="code."),tt.forEach(on=>{const Vn=Ue.indexOf(on);Vn>-1&&(Ue.splice(Vn,1),Zt+=on+".")}),Zt+=Vt,0!=Ue.length||0===Vt.length)return null;const pn={};return pn.domEventName=gt,pn.fullKey=Zt,pn}static matchEventFullKeyCode(ue,Ue){let gt=he[ue.key]||ue.key,Vt="";return Ue.indexOf("code.")>-1&&(gt=ue.code,Vt="code."),!(null==gt||!gt)&&(gt=gt.toLowerCase()," "===gt?gt="space":"."===gt&&(gt="dot"),tt.forEach(Zt=>{Zt!==gt&&(0,we[Zt])(ue)&&(Vt+=Zt+".")}),Vt+=gt,Vt===Ue)}static eventCallback(ue,Ue,gt){return Vt=>{re.matchEventFullKeyCode(Vt,ue)&&gt.runGuarded(()=>Ue(Vt))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(f.K0))},ie.\u0275prov=g.Yz7({token:ie,factory:ie.\u0275fac}),re})();const vt=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:f.bD},{provide:g.g9A,useValue:function Ut(){U.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function ut(){return(0,g.RDi)(document),document},deps:[]}]),It=new g.OlP(""),Wt=[{provide:g.rWj,useClass:class Ie{addToWindow(re){g.dqk.getAngularTestability=(ue,Ue=!0)=>{const gt=re.findTestabilityInTree(ue,Ue);if(null==gt)throw new g.vHH(5103,!1);return gt},g.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(ue=>{const Ue=g.dqk.getAllAngularTestabilities();let gt=Ue.length,Vt=!1;const Zt=function(vn){Vt=Vt||vn,gt--,0==gt&&ue(Vt)};Ue.forEach(vn=>{vn.whenStable(Zt)})})}findTestabilityInTree(re,Fe,ue){if(null==Fe)return null;const Ue=re.getTestability(Fe);return null!=Ue?Ue:ue?(0,f.q)().isShadowRoot(Fe)?this.findTestabilityInTree(re,Fe.host,!0):this.findTestabilityInTree(re,Fe.parentElement,!0):null}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Xt=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function it(){return new g.qLn},deps:[]},{provide:W,useClass:In,multi:!0,deps:[f.K0,g.R0b,g.Lbi]},{provide:W,useClass:be,multi:!0,deps:[f.K0]},ke,Pe,fe,{provide:g.FYo,useExisting:ke},{provide:f.JF,useClass:se,deps:[]},[]];let dn=(()=>{var ie;class re{constructor(ue){}static withServerTransition(ue){return{ngModule:re,providers:[{provide:g.AFp,useValue:ue.appId}]}}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(It,12))},ie.\u0275mod=g.oAB({type:ie}),ie.\u0275inj=g.cJS({providers:[...Xt,...Wt],imports:[f.ez,g.hGG]}),re})(),Qn=(()=>{var ie;class re{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(f.K0))},ie.\u0275prov=g.Yz7({token:ie,factory:function(ue){let Ue=null;return Ue=ue?new ue:function Tt(){return new Qn((0,g.LFG)(f.K0))}(),Ue},providedIn:"root"}),re})();typeof window<"u"&&window;let jr=(()=>{var ie;class re{}return(ie=re).\u0275fac=function(ue){return new(ue||ie)},ie.\u0275prov=g.Yz7({token:ie,factory:function(ue){let Ue=null;return Ue=ue?new(ue||ie):g.LFG(pi),Ue},providedIn:"root"}),re})(),pi=(()=>{var ie;class re extends jr{constructor(ue){super(),this._doc=ue}sanitize(ue,Ue){if(null==Ue)return null;switch(ue){case g.q3G.NONE:return Ue;case g.q3G.HTML:return(0,g.qzn)(Ue,"HTML")?(0,g.z3N)(Ue):(0,g.EiD)(this._doc,String(Ue)).toString();case g.q3G.STYLE:return(0,g.qzn)(Ue,"Style")?(0,g.z3N)(Ue):Ue;case g.q3G.SCRIPT:if((0,g.qzn)(Ue,"Script"))return(0,g.z3N)(Ue);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(Ue,"URL")?(0,g.z3N)(Ue):(0,g.mCW)(String(Ue));case g.q3G.RESOURCE_URL:if((0,g.qzn)(Ue,"ResourceURL"))return(0,g.z3N)(Ue);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(ue){return(0,g.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,g.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,g.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,g.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,g.pB0)(ue)}}return(ie=re).\u0275fac=function(ue){return new(ue||ie)(g.LFG(f.K0))},ie.\u0275prov=g.Yz7({token:ie,factory:function(ue){let Ue=null;return Ue=ue?new ue:function _i(ie){return new pi(ie.get(f.K0))}(g.LFG(g.zs3)),Ue},providedIn:"root"}),re})()},3914:(Ct,me,P)=>{"use strict";P.d(me,{gz:()=>Es,y6:()=>li,OD:()=>ds,eC:()=>it,wm:()=>Sn,wN:()=>gr,F0:()=>Se,rH:()=>ht,Bz:()=>Ts,Hx:()=>ii});var g=P(5879),f=P(5592),V=P(4674),Q=P(2459),K=P(2096),Z=P(5619),ne=P(2572),Ie=P(6973),se=P(5211),W=P(4829);function fe(C){return new f.y(O=>{(0,W.Xf)(C()).subscribe(O)})}var pe=P(8407),De=P(8504),Pe=P(6232),Qe=P(7394),ge=P(9360),Ae=P(8251);function je(){return(0,ge.e)((C,O)=>{let k=null;C._refCount++;const S=(0,Ae.x)(O,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(k=null);const B=C._connection,oe=k;k=null,B&&(!oe||B===oe)&&B.unsubscribe(),O.unsubscribe()});C.subscribe(S),S.closed||(k=C.connect())})}class ze extends f.y{constructor(O,k){super(),this.source=O,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Qe.w0;const k=this.getSubject();O.add(this.source.subscribe((0,Ae.x)(k,void 0,()=>{this._teardown(),k.complete()},S=>{this._teardown(),k.error(S)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Qe.w0.EMPTY)}return O}refCount(){return je()(this)}}var te=P(8645),ye=P(6814),Oe=P(7398),Le=P(4664),ve=P(8180),ke=P(7921),Me=P(2181),Te=P(1631),qe=P(1374),$e=P(6328),rt=P(9397),$t=P(6306),Et=P(6699),In=P(3572);function tt(C){return C<=0?()=>Pe.E:(0,ge.e)((O,k)=>{let S=[];O.subscribe((0,Ae.x)(k,B=>{S.push(B),C<S.length&&S.shift()},()=>{for(const B of S)k.next(B);k.complete()},void 0,()=>{S=null}))})}var he=P(3026),we=P(2737),Ze=P(4716),Xe=P(9773),Lt=P(7537),Ut=P(6593);const it="primary",ut=Symbol("RouteTitle");class dt{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const k=this.params[O];return Array.isArray(k)?k[0]:k}return null}getAll(O){if(this.has(O)){const k=this.params[O];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function vt(C){return new dt(C)}function It(C,O,k){const S=k.path.split("/");if(S.length>C.length||"full"===k.pathMatch&&(O.hasChildren()||S.length<C.length))return null;const B={};for(let oe=0;oe<S.length;oe++){const Ce=S[oe],Je=C[oe];if(Ce.startsWith(":"))B[Ce.substring(1)]=Je;else if(Ce!==Je.path)return null}return{consumed:C.slice(0,S.length),posParams:B}}function Xt(C,O){const k=C?Object.keys(C):void 0,S=O?Object.keys(O):void 0;if(!k||!S||k.length!=S.length)return!1;let B;for(let oe=0;oe<k.length;oe++)if(B=k[oe],!dn(C[B],O[B]))return!1;return!0}function dn(C,O){if(Array.isArray(C)&&Array.isArray(O)){if(C.length!==O.length)return!1;const k=[...C].sort(),S=[...O].sort();return k.every((B,oe)=>S[oe]===B)}return C===O}function fn(C){return C.length>0?C[C.length-1]:null}function qt(C){return function U(C){return!!C&&(C instanceof f.y||(0,V.m)(C.lift)&&(0,V.m)(C.subscribe))}(C)?C:(0,g.QGY)(C)?(0,Q.D)(Promise.resolve(C)):(0,K.of)(C)}const sr={exact:function fr(C,O,k){if(!Cr(C.segments,O.segments)||!Gr(C.segments,O.segments,k)||C.numberOfChildren!==O.numberOfChildren)return!1;for(const S in O.children)if(!C.children[S]||!fr(C.children[S],O.children[S],k))return!1;return!0},subset:tn},Tt={exact:function hr(C,O){return Xt(C,O)},subset:function $r(C,O){return Object.keys(O).length<=Object.keys(C).length&&Object.keys(O).every(k=>dn(C[k],O[k]))},ignored:()=>!0};function Qn(C,O,k){return sr[k.paths](C.root,O.root,k.matrixParams)&&Tt[k.queryParams](C.queryParams,O.queryParams)&&!("exact"===k.fragment&&C.fragment!==O.fragment)}function tn(C,O,k){return Fn(C,O,O.segments,k)}function Fn(C,O,k,S){if(C.segments.length>k.length){const B=C.segments.slice(0,k.length);return!(!Cr(B,k)||O.hasChildren()||!Gr(B,k,S))}if(C.segments.length===k.length){if(!Cr(C.segments,k)||!Gr(C.segments,k,S))return!1;for(const B in O.children)if(!C.children[B]||!tn(C.children[B],O.children[B],S))return!1;return!0}{const B=k.slice(0,C.segments.length),oe=k.slice(C.segments.length);return!!(Cr(C.segments,B)&&Gr(C.segments,B,S)&&C.children[it])&&Fn(C.children[it],O,oe,S)}}function Gr(C,O,k){return O.every((S,B)=>Tt[k](C[B].parameters,S.parameters))}class cr{constructor(O=new Hn([],{}),k={},S=null){this.root=O,this.queryParams=k,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class Hn{constructor(O,k){this.segments=O,this.children=k,this.parent=null,Object.values(k).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Or(this)}}class Ur{constructor(O,k){this.path=O,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=vt(this.parameters)),this._parameterMap}toString(){return gi(this)}}function Cr(C,O){return C.length===O.length&&C.every((k,S)=>k.path===O[S].path)}let ii=(()=>{var C;class O{}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return new Gn},providedIn:"root"}),O})();class Gn{parse(O){const k=new Zt(O);return new cr(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(O){const k=`/${jr(O.root,!0)}`,S=function Lr(C){const O=Object.keys(C).map(k=>{const S=C[k];return Array.isArray(S)?S.map(B=>`${pi(k)}=${pi(B)}`).join("&"):`${pi(k)}=${pi(S)}`}).filter(k=>!!k);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${k}${S}${"string"==typeof O.fragment?`#${function Fr(C){return encodeURI(C)}(O.fragment)}`:""}`}}const Ti=new Gn;function Or(C){return C.segments.map(O=>gi(O)).join("/")}function jr(C,O){if(!C.hasChildren())return Or(C);if(O){const k=C.children[it]?jr(C.children[it],!1):"",S=[];return Object.entries(C.children).forEach(([B,oe])=>{B!==it&&S.push(`${B}:${jr(oe,!1)}`)}),S.length>0?`${k}(${S.join("//")})`:k}{const k=function pr(C,O){let k=[];return Object.entries(C.children).forEach(([S,B])=>{S===it&&(k=k.concat(O(B,S)))}),Object.entries(C.children).forEach(([S,B])=>{S!==it&&(k=k.concat(O(B,S)))}),k}(C,(S,B)=>B===it?[jr(C.children[it],!1)]:[`${B}:${jr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[it]?`${Or(C)}/${k[0]}`:`${Or(C)}/(${k.join("//")})`}}function _i(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pi(C){return _i(C).replace(/%3B/gi,";")}function Ai(C){return _i(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wr(C){return decodeURIComponent(C)}function Xi(C){return Wr(C.replace(/\+/g,"%20"))}function gi(C){return`${Ai(C.path)}${function vi(C){return Object.keys(C).map(O=>`;${Ai(O)}=${Ai(C[O])}`).join("")}(C.parameters)}`}const Ge=/^[^\/()?;#]+/;function ie(C){const O=C.match(Ge);return O?O[0]:""}const re=/^[^\/()?;=#]+/,ue=/^[^=?&#]+/,gt=/^[^&#]+/;class Zt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(O.length>0||Object.keys(k).length>0)&&(S[it]=new Hn(O,k)),S}parseSegment(){const O=ie(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(O),new Ur(Wr(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const k=function Fe(C){const O=C.match(re);return O?O[0]:""}(this.remaining);if(!k)return;this.capture(k);let S="";if(this.consumeOptional("=")){const B=ie(this.remaining);B&&(S=B,this.capture(S))}O[Wr(k)]=Wr(S)}parseQueryParam(O){const k=function Ue(C){const O=C.match(ue);return O?O[0]:""}(this.remaining);if(!k)return;this.capture(k);let S="";if(this.consumeOptional("=")){const Ce=function Vt(C){const O=C.match(gt);return O?O[0]:""}(this.remaining);Ce&&(S=Ce,this.capture(S))}const B=Xi(k),oe=Xi(S);if(O.hasOwnProperty(B)){let Ce=O[B];Array.isArray(Ce)||(Ce=[Ce],O[B]=Ce),Ce.push(oe)}else O[B]=oe}parseParens(O){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=ie(this.remaining),B=this.remaining[S.length];if("/"!==B&&")"!==B&&";"!==B)throw new g.vHH(4010,!1);let oe;S.indexOf(":")>-1?(oe=S.slice(0,S.indexOf(":")),this.capture(oe),this.capture(":")):O&&(oe=it);const Ce=this.parseChildren();k[oe]=1===Object.keys(Ce).length?Ce[it]:new Hn([],Ce),this.consumeOptional("//")}return k}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new g.vHH(4011,!1)}}function vn(C){return C.segments.length>0?new Hn([],{[it]:C}):C}function pn(C){const O={};for(const S of Object.keys(C.children)){const oe=pn(C.children[S]);if(S===it&&0===oe.segments.length&&oe.hasChildren())for(const[Ce,Je]of Object.entries(oe.children))O[Ce]=Je;else(oe.segments.length>0||oe.hasChildren())&&(O[S]=oe)}return function on(C){if(1===C.numberOfChildren&&C.children[it]){const O=C.children[it];return new Hn(C.segments.concat(O.segments),O.children)}return C}(new Hn(C.segments,O))}function Vn(C){return C instanceof cr}function Li(C){var O;let k;const oe=vn(function S(Ce){const Je={};for(const _t of Ce.children){const sn=S(_t);Je[_t.outlet]=sn}const Yt=new Hn(Ce.url,Je);return Ce===C&&(k=Yt),Yt}(C.root));return null!==(O=k)&&void 0!==O?O:oe}function si(C,O,k,S){let B=C;for(;B.parent;)B=B.parent;if(0===O.length)return Nt(B,B,B,k,S);const oe=function rn(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Pn(!0,0,C);let O=0,k=!1;const S=C.reduce((B,oe,Ce)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Je={};return Object.entries(oe.outlets).forEach(([Yt,_t])=>{Je[Yt]="string"==typeof _t?_t.split("/"):_t}),[...B,{outlets:Je}]}if(oe.segmentPath)return[...B,oe.segmentPath]}return"string"!=typeof oe?[...B,oe]:0===Ce?(oe.split("/").forEach((Je,Yt)=>{0==Yt&&"."===Je||(0==Yt&&""===Je?k=!0:".."===Je?O++:""!=Je&&B.push(Je))}),B):[...B,oe]},[]);return new Pn(k,O,S)}(O);if(oe.toRoot())return Nt(B,B,new Hn([],{}),k,S);const Ce=function wr(C,O,k){if(C.isAbsolute)return new Wn(O,!0,0);if(!k)return new Wn(O,!1,NaN);if(null===k.parent)return new Wn(k,!0,0);const S=Dt(C.commands[0])?0:1;return function Pr(C,O,k){let S=C,B=O,oe=k;for(;oe>B;){if(oe-=B,S=S.parent,!S)throw new g.vHH(4005,!1);B=S.segments.length}return new Wn(S,!1,B-oe)}(k,k.segments.length-1+S,C.numberOfDoubleDots)}(oe,B,C),Je=Ce.processChildren?or(Ce.segmentGroup,Ce.index,oe.commands):Xr(Ce.segmentGroup,Ce.index,oe.commands);return Nt(B,Ce.segmentGroup,Je,k,S)}function Dt(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function at(C){return"object"==typeof C&&null!=C&&C.outlets}function Nt(C,O,k,S,B){let Ce,oe={};S&&Object.entries(S).forEach(([Yt,_t])=>{oe[Yt]=Array.isArray(_t)?_t.map(sn=>`${sn}`):`${_t}`}),Ce=C===O?k:gn(C,O,k);const Je=vn(pn(Ce));return new cr(Je,oe,B)}function gn(C,O,k){const S={};return Object.entries(C.children).forEach(([B,oe])=>{S[B]=oe===O?k:gn(oe,O,k)}),new Hn(C.segments,S)}class Pn{constructor(O,k,S){if(this.isAbsolute=O,this.numberOfDoubleDots=k,this.commands=S,O&&S.length>0&&Dt(S[0]))throw new g.vHH(4003,!1);const B=S.find(at);if(B&&B!==fn(S))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(O,k,S){this.segmentGroup=O,this.processChildren=k,this.index=S}}function Xr(C,O,k){if(C||(C=new Hn([],{})),0===C.segments.length&&C.hasChildren())return or(C,O,k);const S=function Jn(C,O,k){let S=0,B=O;const oe={match:!1,pathIndex:0,commandIndex:0};for(;B<C.segments.length;){if(S>=k.length)return oe;const Ce=C.segments[B],Je=k[S];if(at(Je))break;const Yt=`${Je}`,_t=S<k.length-1?k[S+1]:null;if(B>0&&void 0===Yt)break;if(Yt&&_t&&"object"==typeof _t&&void 0===_t.outlets){if(!Zi(Yt,_t,Ce))return oe;S+=2}else{if(!Zi(Yt,{},Ce))return oe;S++}B++}return{match:!0,pathIndex:B,commandIndex:S}}(C,O,k),B=k.slice(S.commandIndex);if(S.match&&S.pathIndex<C.segments.length){const oe=new Hn(C.segments.slice(0,S.pathIndex),{});return oe.children[it]=new Hn(C.segments.slice(S.pathIndex),C.children),or(oe,0,B)}return S.match&&0===B.length?new Hn(C.segments,{}):S.match&&!C.hasChildren()?ns(C,O,k):S.match?or(C,0,B):ns(C,O,k)}function or(C,O,k){if(0===k.length)return new Hn(C.segments,{});{const S=function oi(C){return at(C[0])?C[0].outlets:{[it]:C}}(k),B={};if(Object.keys(S).some(oe=>oe!==it)&&C.children[it]&&1===C.numberOfChildren&&0===C.children[it].segments.length){const oe=or(C.children[it],O,k);return new Hn(C.segments,oe.children)}return Object.entries(S).forEach(([oe,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(B[oe]=Xr(C.children[oe],O,Ce))}),Object.entries(C.children).forEach(([oe,Ce])=>{void 0===S[oe]&&(B[oe]=Ce)}),new Hn(C.segments,B)}}function ns(C,O,k){const S=C.segments.slice(0,O);let B=0;for(;B<k.length;){const oe=k[B];if(at(oe)){const Yt=Fs(oe.outlets);return new Hn(S,Yt)}if(0===B&&Dt(k[0])){S.push(new Ur(C.segments[O].path,xr(k[0]))),B++;continue}const Ce=at(oe)?oe.outlets[it]:`${oe}`,Je=B<k.length-1?k[B+1]:null;Ce&&Je&&Dt(Je)?(S.push(new Ur(Ce,xr(Je))),B+=2):(S.push(new Ur(Ce,{})),B++)}return new Hn(S,{})}function Fs(C){const O={};return Object.entries(C).forEach(([k,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(O[k]=ns(new Hn([],{}),0,S))}),O}function xr(C){const O={};return Object.entries(C).forEach(([k,S])=>O[k]=`${S}`),O}function Zi(C,O,k){return C==k.path&&Xt(O,k.parameters)}const yi="imperative";class ai{constructor(O,k){this.id=O,this.url=k}}class ds extends ai{constructor(O,k,S="imperative",B=null){super(O,k),this.type=0,this.navigationTrigger=S,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oi extends ai{constructor(O,k,S){super(O,k),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vi extends ai{constructor(O,k,S,B){super(O,k),this.reason=S,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ys extends ai{constructor(O,k,S,B){super(O,k),this.reason=S,this.code=B,this.type=16}}class ji extends ai{constructor(O,k,S,B){super(O,k),this.error=S,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qr extends ai{constructor(O,k,S,B){super(O,k),this.urlAfterRedirects=S,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class de extends ai{constructor(O,k,S,B){super(O,k),this.urlAfterRedirects=S,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends ai{constructor(O,k,S,B,oe){super(O,k),this.urlAfterRedirects=S,this.state=B,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends ai{constructor(O,k,S,B){super(O,k),this.urlAfterRedirects=S,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends ai{constructor(O,k,S,B){super(O,k),this.urlAfterRedirects=S,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lt{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class At{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pt{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(O,k,S){this.routerEvent=O,this.position=k,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xn{}class Mn{constructor(O){this.url=O}}class xi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new li,this.attachRef=null}}let li=(()=>{var C;class O{constructor(){this.contexts=new Map}onChildOutletCreated(S,B){const oe=this.getOrCreateContext(S);oe.outlet=B,this.contexts.set(S,oe)}onChildOutletDestroyed(S){const B=this.getContext(S);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let B=this.getContext(S);return B||(B=new xi,this.contexts.set(S,B)),B}getContext(S){return this.contexts.get(S)||null}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();class Ni{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const k=this.pathFromRoot(O);return k.length>1?k[k.length-2]:null}children(O){const k=ci(O,this._root);return k?k.children.map(S=>S.value):[]}firstChild(O){const k=ci(O,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(O){const k=hs(O,this._root);return k.length<2?[]:k[k.length-2].children.map(B=>B.value).filter(B=>B!==O)}pathFromRoot(O){return hs(O,this._root).map(k=>k.value)}}function ci(C,O){if(C===O.value)return O;for(const k of O.children){const S=ci(C,k);if(S)return S}return null}function hs(C,O){if(C===O.value)return[O];for(const k of O.children){const S=hs(C,k);if(S.length)return S.unshift(O),S}return[]}class zn{constructor(O,k){this.value=O,this.children=k}toString(){return`TreeNode(${this.value})`}}function Er(C){const O={};return C&&C.children.forEach(k=>O[k.value.outlet]=k),O}class mi extends Ni{constructor(O,k){super(O),this.snapshot=k,ui(this,O)}toString(){return this.snapshot.toString()}}function rs(C,O){const k=function ki(C,O){const Ce=new Gs([],{},{},"",{},it,O,null,{});return new no("",new zn(Ce,[]))}(0,O),S=new Z.X([new Ur("",{})]),B=new Z.X({}),oe=new Z.X({}),Ce=new Z.X({}),Je=new Z.X(""),Yt=new Es(S,B,Ce,Je,oe,it,O,k.root);return Yt.snapshot=k.root,new mi(new zn(Yt,[]),k)}class Es{constructor(O,k,S,B,oe,Ce,Je,Yt){var _t,sn;this.urlSubject=O,this.paramsSubject=k,this.queryParamsSubject=S,this.fragmentSubject=B,this.dataSubject=oe,this.outlet=Ce,this.component=Je,this._futureSnapshot=Yt,this.title=null!==(_t=null===(sn=this.dataSubject)||void 0===sn?void 0:sn.pipe((0,Oe.U)(Un=>Un[ut])))&&void 0!==_t?_t:(0,K.of)(void 0),this.url=O,this.params=k,this.queryParams=S,this.fragment=B,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(O=>vt(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(O=>vt(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(C,O="emptyOnly"){const k=C.pathFromRoot;let S=0;if("always"!==O)for(S=k.length-1;S>=1;){const B=k[S],oe=k[S-1];if(B.routeConfig&&""===B.routeConfig.path)S--;else{if(oe.component)break;S--}}return function zs(C){return C.reduce((O,k)=>{var S;return{params:{...O.params,...k.params},data:{...O.data,...k.data},resolve:{...k.data,...O.resolve,...null===(S=k.routeConfig)||void 0===S?void 0:S.data,...k._resolvedData}}},{params:{},data:{},resolve:{}})}(k.slice(S))}class Gs{get title(){var O;return null===(O=this.data)||void 0===O?void 0:O[ut]}constructor(O,k,S,B,oe,Ce,Je,Yt,_t){this.url=O,this.params=k,this.queryParams=S,this.fragment=B,this.data=oe,this.outlet=Ce,this.component=Je,this.routeConfig=Yt,this._resolve=_t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class no extends Ni{constructor(O,k){super(k),this.url=O,ui(this,k)}toString(){return en(this._root)}}function ui(C,O){O.value._routerState=C,O.children.forEach(k=>ui(C,k))}function en(C){const O=C.children.length>0?` { ${C.children.map(en).join(", ")} } `:"";return`${C.value}${O}`}function qn(C){if(C.snapshot){const O=C.snapshot,k=C._futureSnapshot;C.snapshot=k,Xt(O.queryParams,k.queryParams)||C.queryParamsSubject.next(k.queryParams),O.fragment!==k.fragment&&C.fragmentSubject.next(k.fragment),Xt(O.params,k.params)||C.paramsSubject.next(k.params),function Wt(C,O){if(C.length!==O.length)return!1;for(let k=0;k<C.length;++k)if(!Xt(C[k],O[k]))return!1;return!0}(O.url,k.url)||C.urlSubject.next(k.url),Xt(O.data,k.data)||C.dataSubject.next(k.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Ir(C,O){const k=Xt(C.params,O.params)&&function Xn(C,O){return Cr(C,O)&&C.every((k,S)=>Xt(k.parameters,O[S].parameters))}(C.url,O.url);return k&&!(!C.parent!=!O.parent)&&(!C.parent||Ir(C.parent,O.parent))}let Bi=(()=>{var C;class O{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(li),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Jr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:B,previousValue:oe}=S.name;if(B)return;this.isTrackedInParentContexts(oe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(oe)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var B;return(null===(B=this.parentContexts.getContext(S))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,B){var oe;this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){var oe;if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=S;const Ce=this.location,Yt=S.snapshot.component,_t=this.parentContexts.getOrCreateContext(this.name).children,sn=new Hi(S,_t,Ce.injector);this.activated=Ce.createComponent(Yt,{index:Ce.length,injector:sn,environmentInjector:null!=B?B:this.environmentInjector}),this.changeDetector.markForCheck(),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275dir=g.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),O})();class Hi{constructor(O,k,S){this.route=O,this.childContexts=k,this.parent=S}get(O,k){return O===Es?this.route:O===li?this.childContexts:this.parent.get(O,k)}}const Jr=new g.OlP("");let zi=(()=>{var C;class O{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var B;null===(B=this.outletDataSubscriptions.get(S))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:B}=S,oe=(0,ne.a)([B.queryParams,B.params,B.data]).pipe((0,Le.w)(([Ce,Je,Yt],_t)=>(Yt={...Ce,...Je,...Yt},0===_t?(0,K.of)(Yt):Promise.resolve(Yt)))).subscribe(Ce=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(S);const Je=(0,g.qFp)(B.component);if(Je)for(const{templateName:Yt}of Je.inputs)S.activatedComponentRef.setInput(Yt,Ce[Yt]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,oe)}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),O})();function is(C,O,k){if(k&&C.shouldReuseRoute(O.value,k.value.snapshot)){const S=k.value;S._futureSnapshot=O.value;const B=function Ji(C,O,k){return O.children.map(S=>{for(const B of k.children)if(C.shouldReuseRoute(S.value,B.value.snapshot))return is(C,S,B);return is(C,S)})}(C,O,k);return new zn(S,B)}{if(C.shouldAttach(O.value)){const oe=C.retrieve(O.value);if(null!==oe){const Ce=oe.route;return Ce.value._futureSnapshot=O.value,Ce.children=O.children.map(Je=>is(C,Je)),Ce}}const S=function Zn(C){return new Es(new Z.X(C.url),new Z.X(C.params),new Z.X(C.queryParams),new Z.X(C.fragment),new Z.X(C.data),C.outlet,C.component,C)}(O.value),B=O.children.map(oe=>is(C,oe));return new zn(S,B)}}const Gi="ngNavigationCancelingError";function Qi(C,O){const{redirectTo:k,navigationBehaviorOptions:S}=Vn(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,B=Ei(!1,0,O);return B.url=k,B.navigationBehaviorOptions=S,B}function Ei(C,O,k){const S=new Error("NavigationCancelingError: "+(C||""));return S[Gi]=!0,S.cancellationCode=O,k&&(S.url=k),S}function Is(C){return C&&C[Gi]}let _r=(()=>{var C;class O{}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275cmp=g.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(S,B){1&S&&g._UZ(0,"router-outlet")},dependencies:[Bi],encapsulation:2}),O})();function Wi(C){const O=C.children&&C.children.map(Wi),k=O?{...C,children:O}:{...C};return!k.component&&!k.loadComponent&&(O||k.loadChildren)&&k.outlet&&k.outlet!==it&&(k.component=_r),k}function rr(C){return C.outlet||it}function Vs(C){var O;if(!C)return null;if(null!==(O=C.routeConfig)&&void 0!==O&&O._injector)return C.routeConfig._injector;for(let k=C.parent;k;k=k.parent){const S=k.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class Fi{constructor(O,k,S,B,oe){this.routeReuseStrategy=O,this.futureState=k,this.currState=S,this.forwardEvent=B,this.inputBindingEnabled=oe}activate(O){const k=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,S,O),qn(this.futureState.root),this.activateChildRoutes(k,S,O)}deactivateChildRoutes(O,k,S){const B=Er(k);O.children.forEach(oe=>{const Ce=oe.value.outlet;this.deactivateRoutes(oe,B[Ce],S),delete B[Ce]}),Object.values(B).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,S)})}deactivateRoutes(O,k,S){const B=O.value,oe=k?k.value:null;if(B===oe)if(B.component){const Ce=S.getContext(B.outlet);Ce&&this.deactivateChildRoutes(O,k,Ce.children)}else this.deactivateChildRoutes(O,k,S);else oe&&this.deactivateRouteAndItsChildren(k,S)}deactivateRouteAndItsChildren(O,k){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,k):this.deactivateRouteAndOutlet(O,k)}detachAndStoreRouteSubtree(O,k){const S=k.getContext(O.value.outlet),B=S&&O.value.component?S.children:k,oe=Er(O);for(const Ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Ce],B);if(S&&S.outlet){const Ce=S.outlet.detach(),Je=S.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ce,route:O,contexts:Je})}}deactivateRouteAndOutlet(O,k){const S=k.getContext(O.value.outlet),B=S&&O.value.component?S.children:k,oe=Er(O);for(const Ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Ce],B);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(O,k,S){const B=Er(k);O.children.forEach(oe=>{this.activateRoutes(oe,B[oe.value.outlet],S),this.forwardEvent(new Bt(oe.value.snapshot))}),O.children.length&&this.forwardEvent(new Pt(O.value.snapshot))}activateRoutes(O,k,S){const B=O.value,oe=k?k.value:null;if(qn(B),B===oe)if(B.component){const Ce=S.getOrCreateContext(B.outlet);this.activateChildRoutes(O,k,Ce.children)}else this.activateChildRoutes(O,k,S);else if(B.component){const Ce=S.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Je=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ce.children.onOutletReAttached(Je.contexts),Ce.attachRef=Je.componentRef,Ce.route=Je.route.value,Ce.outlet&&Ce.outlet.attach(Je.componentRef,Je.route.value),qn(Je.route.value),this.activateChildRoutes(O,null,Ce.children)}else{const Je=Vs(B.snapshot);Ce.attachRef=null,Ce.route=B,Ce.injector=Je,Ce.outlet&&Ce.outlet.activateWith(B,Ce.injector),this.activateChildRoutes(O,null,Ce.children)}}else this.activateChildRoutes(O,null,S)}}class Ia{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ei{constructor(O,k){this.component=O,this.route=k}}function Yi(C,O,k){const S=C._root;return Ci(S,O?O._root:null,k,[S.value])}function as(C,O){const k=Symbol(),S=O.get(C,k);return S===k?"function"!=typeof C||(0,g.Z0I)(C)?O.get(C):C:S}function Ci(C,O,k,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Er(O);return C.children.forEach(Ce=>{(function ls(C,O,k,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const oe=C.value,Ce=O?O.value:null,Je=k?k.getContext(C.value.outlet):null;if(Ce&&oe.routeConfig===Ce.routeConfig){const Yt=function No(C,O,k){if("function"==typeof k)return k(C,O);switch(k){case"pathParamsChange":return!Cr(C.url,O.url);case"pathParamsOrQueryParamsChange":return!Cr(C.url,O.url)||!Xt(C.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ir(C,O)||!Xt(C.queryParams,O.queryParams);default:return!Ir(C,O)}}(Ce,oe,oe.routeConfig.runGuardsAndResolvers);Yt?B.canActivateChecks.push(new Ia(S)):(oe.data=Ce.data,oe._resolvedData=Ce._resolvedData),Ci(C,O,oe.component?Je?Je.children:null:k,S,B),Yt&&Je&&Je.outlet&&Je.outlet.isActivated&&B.canDeactivateChecks.push(new ei(Je.outlet.component,Ce))}else Ce&&qs(O,Je,B),B.canActivateChecks.push(new Ia(S)),Ci(C,null,oe.component?Je?Je.children:null:k,S,B)})(Ce,oe[Ce.value.outlet],k,S.concat([Ce.value]),B),delete oe[Ce.value.outlet]}),Object.entries(oe).forEach(([Ce,Je])=>qs(Je,k.getContext(Ce),B)),B}function qs(C,O,k){const S=Er(C),B=C.value;Object.entries(S).forEach(([oe,Ce])=>{qs(Ce,B.component?O?O.children.getContext(oe):null:O,k)}),k.canDeactivateChecks.push(new ei(B.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,B))}function mo(C){return"function"==typeof C}function st(C){return C instanceof Ie.K||"EmptyError"===(null==C?void 0:C.name)}const Gt=Symbol("INITIAL_VALUE");function cn(){return(0,Le.w)(C=>(0,ne.a)(C.map(O=>O.pipe((0,ve.q)(1),(0,ke.O)(Gt)))).pipe((0,Oe.U)(O=>{for(const k of O)if(!0!==k){if(k===Gt)return Gt;if(!1===k||k instanceof cr)return k}return!0}),(0,Me.h)(O=>O!==Gt),(0,ve.q)(1)))}function _o(C){return(0,pe.z)((0,rt.b)(O=>{if(Vn(O))throw Qi(0,O)}),(0,Oe.U)(O=>!0===O))}class Zs{constructor(O){this.segmentGroup=O||null}}class Zo{constructor(O){this.urlTree=O}}function To(C){return(0,De._)(new Zs(C))}function ko(C){return(0,De._)(new Zo(C))}class sa{constructor(O,k){this.urlSerializer=O,this.urlTree=k}noMatchError(O){return new g.vHH(4002,!1)}lineralizeSegments(O,k){let S=[],B=k.root;for(;;){if(S=S.concat(B.segments),0===B.numberOfChildren)return(0,K.of)(S);if(B.numberOfChildren>1||!B.children[it])return(0,De._)(new g.vHH(4e3,!1));B=B.children[it]}}applyRedirectCommands(O,k,S){return this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),O,S)}applyRedirectCreateUrlTree(O,k,S,B){const oe=this.createSegmentGroup(O,k.root,S,B);return new cr(oe,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(O,k){const S={};return Object.entries(O).forEach(([B,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const Je=oe.substring(1);S[B]=k[Je]}else S[B]=oe}),S}createSegmentGroup(O,k,S,B){const oe=this.createSegments(O,k.segments,S,B);let Ce={};return Object.entries(k.children).forEach(([Je,Yt])=>{Ce[Je]=this.createSegmentGroup(O,Yt,S,B)}),new Hn(oe,Ce)}createSegments(O,k,S,B){return k.map(oe=>oe.path.startsWith(":")?this.findPosParam(O,oe,B):this.findOrReturn(oe,S))}findPosParam(O,k,S){const B=S[k.path.substring(1)];if(!B)throw new g.vHH(4001,!1);return B}findOrReturn(O,k){let S=0;for(const B of k){if(B.path===O.path)return k.splice(S),B;S++}return O}}const Ao={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qs(C,O,k,S,B){const oe=ho(C,O,k);return oe.matched?(S=function ss(C,O){var k;return C.providers&&!C._injector&&(C._injector=(0,g.MMx)(C.providers,O,`Route: ${C.path}`)),null!==(k=C._injector)&&void 0!==k?k:O}(O,S),function bs(C,O,k,S){const B=O.canMatch;if(!B||0===B.length)return(0,K.of)(!0);const oe=B.map(Ce=>{const Je=as(Ce,C);return qt(function p(C){return C&&mo(C.canMatch)}(Je)?Je.canMatch(O,k):C.runInContext(()=>Je(O,k)))});return(0,K.of)(oe).pipe(cn(),_o())}(S,O,k).pipe((0,Oe.U)(Ce=>!0===Ce?oe:{...Ao}))):(0,K.of)(oe)}function ho(C,O,k){var S,B;if(""===O.path)return"full"===O.pathMatch&&(C.hasChildren()||k.length>0)?{...Ao}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const Ce=(O.matcher||It)(k,C,O);if(!Ce)return{...Ao};const Je={};Object.entries(null!==(S=Ce.posParams)&&void 0!==S?S:{}).forEach(([_t,sn])=>{Je[_t]=sn.path});const Yt=Ce.consumed.length>0?{...Je,...Ce.consumed[Ce.consumed.length-1].parameters}:Je;return{matched:!0,consumedSegments:Ce.consumed,remainingSegments:k.slice(Ce.consumed.length),parameters:Yt,positionalParamSegments:null!==(B=Ce.posParams)&&void 0!==B?B:{}}}function es(C,O,k,S){return k.length>0&&function Qo(C,O,k){return k.some(S=>ws(C,O,S)&&rr(S)!==it)}(C,k,S)?{segmentGroup:new Hn(O,aa(S,new Hn(k,C.children))),slicedSegments:[]}:0===k.length&&function Ja(C,O,k){return k.some(S=>ws(C,O,S))}(C,k,S)?{segmentGroup:new Hn(C.segments,oa(C,0,k,S,C.children)),slicedSegments:k}:{segmentGroup:new Hn(C.segments,C.children),slicedSegments:k}}function oa(C,O,k,S,B){const oe={};for(const Ce of S)if(ws(C,k,Ce)&&!B[rr(Ce)]){const Je=new Hn([],{});oe[rr(Ce)]=Je}return{...B,...oe}}function aa(C,O){const k={};k[it]=O;for(const S of C)if(""===S.path&&rr(S)!==it){const B=new Hn([],{});k[rr(S)]=B}return k}function ws(C,O,k){return(!(C.hasChildren()||O.length>0)||"full"!==k.pathMatch)&&""===k.path}class wa{constructor(O,k,S,B,oe,Ce,Je){this.injector=O,this.configLoader=k,this.rootComponentType=S,this.config=B,this.urlTree=oe,this.paramsInheritanceStrategy=Ce,this.urlSerializer=Je,this.allowRedirects=!0,this.applyRedirects=new sa(this.urlSerializer,this.urlTree)}noMatchError(O){return new g.vHH(4002,!1)}recognize(){const O=es(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,it).pipe((0,$t.K)(k=>{if(k instanceof Zo)return this.allowRedirects=!1,this.urlTree=k.urlTree,this.match(k.urlTree);throw k instanceof Zs?this.noMatchError(k):k}),(0,Oe.U)(k=>{const S=new Gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),B=new zn(S,k),oe=new no("",B),Ce=function Vr(C,O,k=null,S=null){return si(Li(C),O,k,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(oe._root),{state:oe,tree:Ce}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,it).pipe((0,$t.K)(S=>{throw S instanceof Zs?this.noMatchError(S):S}))}inheritParamsAndData(O){const k=O.value,S=to(k,this.paramsInheritanceStrategy);k.params=Object.freeze(S.params),k.data=Object.freeze(S.data),O.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(O,k,S,B){return 0===S.segments.length&&S.hasChildren()?this.processChildren(O,k,S):this.processSegment(O,k,S,S.segments,B,!0)}processChildren(O,k,S){const B=[];for(const oe of Object.keys(S.children))"primary"===oe?B.unshift(oe):B.push(oe);return(0,Q.D)(B).pipe((0,$e.b)(oe=>{const Ce=S.children[oe],Je=function qi(C,O){const k=C.filter(S=>rr(S)===O);return k.push(...C.filter(S=>rr(S)!==O)),k}(k,oe);return this.processSegmentGroup(O,Je,Ce,oe)}),(0,Et.R)((oe,Ce)=>(oe.push(...Ce),oe)),(0,In.d)(null),function be(C,O){const k=arguments.length>=2;return S=>S.pipe(C?(0,Me.h)((B,oe)=>C(B,oe,S)):we.y,tt(1),k?(0,In.d)(O):(0,he.T)(()=>new Ie.K))}(),(0,Te.z)(oe=>{if(null===oe)return To(S);const Ce=nl(oe);return function Ta(C){C.sort((O,k)=>O.value.outlet===it?-1:k.value.outlet===it?1:O.value.outlet.localeCompare(k.value.outlet))}(Ce),(0,K.of)(Ce)}))}processSegment(O,k,S,B,oe,Ce){return(0,Q.D)(k).pipe((0,$e.b)(Je=>{var Yt;return this.processSegmentAgainstRoute(null!==(Yt=Je._injector)&&void 0!==Yt?Yt:O,k,Je,S,B,oe,Ce).pipe((0,$t.K)(_t=>{if(_t instanceof Zs)return(0,K.of)(null);throw _t}))}),(0,qe.P)(Je=>!!Je),(0,$t.K)(Je=>{if(st(Je))return function tl(C,O,k){return 0===O.length&&!C.children[k]}(S,B,oe)?(0,K.of)([]):To(S);throw Je}))}processSegmentAgainstRoute(O,k,S,B,oe,Ce,Je){return function el(C,O,k,S){return!!(rr(C)===S||S!==it&&ws(O,k,C))&&("**"===C.path||ho(O,C,k).matched)}(S,B,oe,Ce)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(O,B,S,oe,Ce,Je):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,B,k,S,oe,Ce):To(B):To(B)}expandSegmentAgainstRouteUsingRedirect(O,k,S,B,oe,Ce){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,S,B,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(O,k,S,B,oe,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,k,S,B){const oe=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?ko(oe):this.applyRedirects.lineralizeSegments(S,oe).pipe((0,Te.z)(Ce=>{const Je=new Hn(Ce,{});return this.processSegment(O,k,Je,Ce,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,k,S,B,oe,Ce){const{matched:Je,consumedSegments:Yt,remainingSegments:_t,positionalParamSegments:sn}=ho(k,B,oe);if(!Je)return To(k);const Un=this.applyRedirects.applyRedirectCommands(Yt,B.redirectTo,sn);return B.redirectTo.startsWith("/")?ko(Un):this.applyRedirects.lineralizeSegments(B,Un).pipe((0,Te.z)(bi=>this.processSegment(O,S,k,bi.concat(_t),Ce,!1)))}matchSegmentAgainstRoute(O,k,S,B,oe,Ce){let Je;if("**"===S.path){var Yt,_t;const sn=B.length>0?fn(B).parameters:{},Un=new Gs(B,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rl(S),rr(S),null!==(Yt=null!==(_t=S.component)&&void 0!==_t?_t:S._loadedComponent)&&void 0!==Yt?Yt:null,S,$a(S));Je=(0,K.of)({snapshot:Un,consumedSegments:[],remainingSegments:[]}),k.children={}}else Je=Qs(k,S,B,O).pipe((0,Oe.U)(({matched:sn,consumedSegments:Un,remainingSegments:bi,parameters:ct})=>{var kr,Kr;return sn?{snapshot:new Gs(Un,ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rl(S),rr(S),null!==(kr=null!==(Kr=S.component)&&void 0!==Kr?Kr:S._loadedComponent)&&void 0!==kr?kr:null,S,$a(S)),consumedSegments:Un,remainingSegments:bi}:null}));return Je.pipe((0,Le.w)(sn=>{var Un;return null===sn?To(k):(O=null!==(Un=S._injector)&&void 0!==Un?Un:O,this.getChildConfig(O,S,B).pipe((0,Le.w)(({routes:bi})=>{var ct;const kr=null!==(ct=S._loadedInjector)&&void 0!==ct?ct:O,{snapshot:Kr,consumedSegments:Aa,remainingSegments:bo}=sn,{segmentGroup:oo,slicedSegments:Ca}=es(k,Aa,bo,bi);if(0===Ca.length&&oo.hasChildren())return this.processChildren(kr,bi,oo).pipe((0,Oe.U)(ol=>null===ol?null:[new zn(Kr,ol)]));if(0===bi.length&&0===Ca.length)return(0,K.of)([new zn(Kr,[])]);const So=rr(S)===oe;return this.processSegment(kr,bi,oo,Ca,So?it:oe,!0).pipe((0,Oe.U)(ol=>[new zn(Kr,ol)]))})))}))}getChildConfig(O,k,S){return k.children?(0,K.of)({routes:k.children,injector:O}):k.loadChildren?void 0!==k._loadedRoutes?(0,K.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function Ko(C,O,k,S){const B=O.canLoad;if(void 0===B||0===B.length)return(0,K.of)(!0);const oe=B.map(Ce=>{const Je=as(Ce,C);return qt(function qo(C){return C&&mo(C.canLoad)}(Je)?Je.canLoad(O,k):C.runInContext(()=>Je(O,k)))});return(0,K.of)(oe).pipe(cn(),_o())}(O,k,S).pipe((0,Te.z)(B=>B?this.configLoader.loadChildren(O,k).pipe((0,rt.b)(oe=>{k._loadedRoutes=oe.routes,k._loadedInjector=oe.injector})):function ia(C){return(0,De._)(Ei(!1,3))}())):(0,K.of)({routes:[],injector:O})}}function Co(C){const O=C.value.routeConfig;return O&&""===O.path}function nl(C){const O=[],k=new Set;for(const S of C){if(!Co(S)){O.push(S);continue}const B=O.find(oe=>S.value.routeConfig===oe.value.routeConfig);void 0!==B?(B.children.push(...S.children),k.add(B)):O.push(S)}for(const S of k){const B=nl(S.children);O.push(new zn(S.value,B))}return O.filter(S=>!k.has(S))}function rl(C){return C.data||{}}function $a(C){return C.resolve||{}}function fo(C){return"string"==typeof C.title||null===C.title}function R(C){return(0,Le.w)(O=>{const k=C(O);return k?(0,Q.D)(k).pipe((0,Oe.U)(()=>O)):(0,K.of)(O)})}const j=new g.OlP("ROUTES");let Ne=(()=>{var C;class O{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,K.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const B=qt(S.loadComponent()).pipe((0,Oe.U)(_e),(0,rt.b)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Ce}),(0,Ze.x)(()=>{this.componentLoaders.delete(S)})),oe=new ze(B,()=>new te.x).pipe(je());return this.componentLoaders.set(S,oe),oe}loadChildren(S,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,K.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const Ce=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,Oe.U)(Yt=>{this.onLoadEndListener&&this.onLoadEndListener(B);let _t,sn;return Array.isArray(Yt)?sn=Yt:(_t=Yt.create(S).injector,sn=_t.get(j,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:sn.map(Wi),injector:_t}}),(0,Ze.x)(()=>{this.childrenLoaders.delete(B)})),Je=new ze(Ce,()=>new te.x).pipe(je());return this.childrenLoaders.set(B,Je),Je}loadModuleFactoryOrRoutes(S){return qt(S()).pipe((0,Oe.U)(_e),(0,Te.z)(B=>B instanceof g.YKP||Array.isArray(B)?(0,K.of)(B):(0,Q.D)(this.compiler.compileModuleAsync(B))))}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();function _e(C){return function $(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Be=(()=>{var C;class O{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te.x,this.transitionAbortSubject=new te.x,this.configLoader=(0,g.f3M)(Ne),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ii),this.rootContexts=(0,g.f3M)(li),this.inputBindingEnabled=null!==(0,g.f3M)(Jr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=oe=>this.events.next(new lt(oe)),this.configLoader.onLoadStartListener=oe=>this.events.next(new pt(oe))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var B;const oe=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...S,id:oe})}setupNavigations(S,B,oe){return this.transitions=new Z.X({id:0,currentUrlTree:B,currentRawUrl:B,currentBrowserUrl:B,extractedUrl:S.urlHandlingStrategy.extract(B),urlAfterRedirects:S.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yi,restoredState:null,currentSnapshot:oe.snapshot,targetSnapshot:null,currentRouterState:oe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Me.h)(Ce=>0!==Ce.id),(0,Oe.U)(Ce=>({...Ce,extractedUrl:S.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,Le.w)(Ce=>{this.currentTransition=Ce;let Je=!1,Yt=!1;return(0,K.of)(Ce).pipe((0,rt.b)(_t=>{this.currentNavigation={id:_t.id,initialUrl:_t.rawUrl,extractedUrl:_t.extractedUrl,trigger:_t.source,extras:_t.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Le.w)(_t=>{var sn;const Un=_t.currentBrowserUrl.toString(),bi=!S.navigated||_t.extractedUrl.toString()!==Un||Un!==_t.currentUrlTree.toString(),ct=null!==(sn=_t.extras.onSameUrlNavigation)&&void 0!==sn?sn:S.onSameUrlNavigation;if(!bi&&"reload"!==ct){const kr="";return this.events.next(new ys(_t.id,this.urlSerializer.serialize(_t.rawUrl),kr,0)),_t.resolve(null),Pe.E}if(S.urlHandlingStrategy.shouldProcessUrl(_t.rawUrl))return(0,K.of)(_t).pipe((0,Le.w)(kr=>{var Kr,Aa;const bo=null===(Kr=this.transitions)||void 0===Kr?void 0:Kr.getValue();return this.events.next(new ds(kr.id,this.urlSerializer.serialize(kr.extractedUrl),kr.source,kr.restoredState)),bo!==(null===(Aa=this.transitions)||void 0===Aa?void 0:Aa.getValue())?Pe.E:Promise.resolve(kr)}),function Ua(C,O,k,S,B,oe){return(0,Te.z)(Ce=>function Da(C,O,k,S,B,oe,Ce="emptyOnly"){return new wa(C,O,k,S,B,Ce,oe).recognize()}(C,O,k,S,Ce.extractedUrl,B,oe).pipe((0,Oe.U)(({state:Je,tree:Yt})=>({...Ce,targetSnapshot:Je,urlAfterRedirects:Yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,rt.b)(kr=>{Ce.targetSnapshot=kr.targetSnapshot,Ce.urlAfterRedirects=kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kr.urlAfterRedirects};const Kr=new qr(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(Kr)}));if(bi&&S.urlHandlingStrategy.shouldProcessUrl(_t.currentRawUrl)){const{id:kr,extractedUrl:Kr,source:Aa,restoredState:bo,extras:oo}=_t,Ca=new ds(kr,this.urlSerializer.serialize(Kr),Aa,bo);this.events.next(Ca);const So=rs(0,this.rootComponentType).snapshot;return this.currentTransition=Ce={..._t,targetSnapshot:So,urlAfterRedirects:Kr,extras:{...oo,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(Ce)}{const kr="";return this.events.next(new ys(_t.id,this.urlSerializer.serialize(_t.extractedUrl),kr,1)),_t.resolve(null),Pe.E}}),(0,rt.b)(_t=>{const sn=new de(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects),_t.targetSnapshot);this.events.next(sn)}),(0,Oe.U)(_t=>(this.currentTransition=Ce={..._t,guards:Yi(_t.targetSnapshot,_t.currentSnapshot,this.rootContexts)},Ce)),function bn(C,O){return(0,Te.z)(k=>{const{targetSnapshot:S,currentSnapshot:B,guards:{canActivateChecks:oe,canDeactivateChecks:Ce}}=k;return 0===Ce.length&&0===oe.length?(0,K.of)({...k,guardsResult:!0}):function ur(C,O,k,S){return(0,Q.D)(C).pipe((0,Te.z)(B=>function Yo(C,O,k,S,B){const oe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,K.of)(!0);const Ce=oe.map(Je=>{var Yt;const _t=null!==(Yt=Vs(O))&&void 0!==Yt?Yt:B,sn=as(Je,_t);return qt(function T(C){return C&&mo(C.canDeactivate)}(sn)?sn.canDeactivate(C,O,k,S):_t.runInContext(()=>sn(C,O,k,S))).pipe((0,qe.P)())});return(0,K.of)(Ce).pipe(cn())}(B.component,B.route,k,O,S)),(0,qe.P)(B=>!0!==B,!0))}(Ce,S,B,C).pipe((0,Te.z)(Je=>Je&&function Ba(C){return"boolean"==typeof C}(Je)?function Cs(C,O,k,S){return(0,Q.D)(O).pipe((0,$e.b)(B=>(0,se.z)(function ps(C,O){return null!==C&&O&&O(new At(C)),(0,K.of)(!0)}(B.route.parent,S),function Ys(C,O){return null!==C&&O&&O(new bt(C)),(0,K.of)(!0)}(B.route,S),function Ks(C,O,k){const S=O[O.length-1],oe=O.slice(0,O.length-1).reverse().map(Ce=>function xo(C){const O=C.routeConfig?C.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:C,guards:O}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>fe(()=>{const Je=Ce.guards.map(Yt=>{var _t;const sn=null!==(_t=Vs(Ce.node))&&void 0!==_t?_t:k,Un=as(Yt,sn);return qt(function d(C){return C&&mo(C.canActivateChild)}(Un)?Un.canActivateChild(S,C):sn.runInContext(()=>Un(S,C))).pipe((0,qe.P)())});return(0,K.of)(Je).pipe(cn())}));return(0,K.of)(oe).pipe(cn())}(C,B.path,k),function io(C,O,k){const S=O.routeConfig?O.routeConfig.canActivate:null;if(!S||0===S.length)return(0,K.of)(!0);const B=S.map(oe=>fe(()=>{var Ce;const Je=null!==(Ce=Vs(O))&&void 0!==Ce?Ce:k,Yt=as(oe,Je);return qt(function z(C){return C&&mo(C.canActivate)}(Yt)?Yt.canActivate(O,C):Je.runInContext(()=>Yt(O,C))).pipe((0,qe.P)())}));return(0,K.of)(B).pipe(cn())}(C,B.route,k))),(0,qe.P)(B=>!0!==B,!0))}(S,oe,C,O):(0,K.of)(Je)),(0,Oe.U)(Je=>({...k,guardsResult:Je})))})}(this.environmentInjector,_t=>this.events.next(_t)),(0,rt.b)(_t=>{if(Ce.guardsResult=_t.guardsResult,Vn(_t.guardsResult))throw Qi(0,_t.guardsResult);const sn=new X(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects),_t.targetSnapshot,!!_t.guardsResult);this.events.next(sn)}),(0,Me.h)(_t=>!!_t.guardsResult||(this.cancelNavigationTransition(_t,"",3),!1)),R(_t=>{if(_t.guards.canActivateChecks.length)return(0,K.of)(_t).pipe((0,rt.b)(sn=>{const Un=new Re(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(Un)}),(0,Le.w)(sn=>{let Un=!1;return(0,K.of)(sn).pipe(function $s(C,O){return(0,Te.z)(k=>{const{targetSnapshot:S,guards:{canActivateChecks:B}}=k;if(!B.length)return(0,K.of)(k);let oe=0;return(0,Q.D)(B).pipe((0,$e.b)(Ce=>function rc(C,O,k,S){const B=C.routeConfig,oe=C._resolve;return void 0!==(null==B?void 0:B.title)&&!fo(B)&&(oe[ut]=B.title),function la(C,O,k,S){const B=function Xo(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===B.length)return(0,K.of)({});const oe={};return(0,Q.D)(B).pipe((0,Te.z)(Ce=>function ca(C,O,k,S){var B;const oe=null!==(B=Vs(O))&&void 0!==B?B:S,Ce=as(C,oe);return qt(Ce.resolve?Ce.resolve(O,k):oe.runInContext(()=>Ce(O,k)))}(C[Ce],O,k,S).pipe((0,qe.P)(),(0,rt.b)(Je=>{oe[Ce]=Je}))),tt(1),function Ye(C){return(0,Oe.U)(()=>C)}(oe),(0,$t.K)(Ce=>st(Ce)?Pe.E:(0,De._)(Ce)))}(oe,C,O,S).pipe((0,Oe.U)(Ce=>(C._resolvedData=Ce,C.data=to(C,k).resolve,B&&fo(B)&&(C.data[ut]=B.title),null)))}(Ce.route,S,C,O)),(0,rt.b)(()=>oe++),tt(1),(0,Te.z)(Ce=>oe===B.length?(0,K.of)(k):Pe.E))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,rt.b)({next:()=>Un=!0,complete:()=>{Un||this.cancelNavigationTransition(sn,"",2)}}))}),(0,rt.b)(sn=>{const Un=new Ve(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(Un)}))}),R(_t=>{const sn=Un=>{var bi;const ct=[];null!==(bi=Un.routeConfig)&&void 0!==bi&&bi.loadComponent&&!Un.routeConfig._loadedComponent&&ct.push(this.configLoader.loadComponent(Un.routeConfig).pipe((0,rt.b)(kr=>{Un.component=kr}),(0,Oe.U)(()=>{})));for(const kr of Un.children)ct.push(...sn(kr));return ct};return(0,ne.a)(sn(_t.targetSnapshot.root)).pipe((0,In.d)(),(0,ve.q)(1))}),R(()=>this.afterPreactivation()),(0,Oe.U)(_t=>{const sn=function Yr(C,O,k){const S=is(C,O._root,k?k._root:void 0);return new mi(S,O)}(S.routeReuseStrategy,_t.targetSnapshot,_t.currentRouterState);return this.currentTransition=Ce={..._t,targetRouterState:sn},Ce}),(0,rt.b)(()=>{this.events.next(new xn)}),((C,O,k,S)=>(0,Oe.U)(B=>(new Fi(O,B.targetRouterState,B.currentRouterState,k,S).activate(C),B)))(this.rootContexts,S.routeReuseStrategy,_t=>this.events.next(_t),this.inputBindingEnabled),(0,ve.q)(1),(0,rt.b)({next:_t=>{var sn;Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oi(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects))),null===(sn=S.titleStrategy)||void 0===sn||sn.updateTitle(_t.targetRouterState.snapshot),_t.resolve(!0)},complete:()=>{Je=!0}}),(0,Xe.R)(this.transitionAbortSubject.pipe((0,rt.b)(_t=>{throw _t}))),(0,Ze.x)(()=>{var _t;Je||Yt||this.cancelNavigationTransition(Ce,"",1),(null===(_t=this.currentNavigation)||void 0===_t?void 0:_t.id)===Ce.id&&(this.currentNavigation=null)}),(0,$t.K)(_t=>{if(Yt=!0,Is(_t))this.events.next(new Vi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),_t.message,_t.cancellationCode)),function br(C){return Is(C)&&Vn(C.url)}(_t)?this.events.next(new Mn(_t.url)):Ce.resolve(!1);else{var sn;this.events.next(new ji(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),_t,null!==(sn=Ce.targetSnapshot)&&void 0!==sn?sn:void 0));try{Ce.resolve(S.errorHandler(_t))}catch(Un){Ce.reject(Un)}}return Pe.E}))}))}cancelNavigationTransition(S,B,oe){const Ce=new Vi(S.id,this.urlSerializer.serialize(S.extractedUrl),B,oe);this.events.next(Ce),S.resolve(!1)}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();function St(C){return C!==yi}let Ht=(()=>{var C;class O{buildTitle(S){let B,oe=S.root;for(;void 0!==oe;){var Ce;B=null!==(Ce=this.getResolvedTitleForRoute(oe))&&void 0!==Ce?Ce:B,oe=oe.children.find(Je=>Je.outlet===it)}return B}getResolvedTitleForRoute(S){return S.data[ut]}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return(0,g.f3M)(En)},providedIn:"root"}),O})(),En=(()=>{var C;class O extends Ht{constructor(S){super(),this.title=S}updateTitle(S){const B=this.buildTitle(S);void 0!==B&&this.title.setTitle(B)}}return(C=O).\u0275fac=function(S){return new(S||C)(g.LFG(Ut.Dx))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})(),gr=(()=>{var C;class O{}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return(0,g.f3M)(Dn)},providedIn:"root"}),O})();class tr{shouldDetach(O){return!1}store(O,k){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,k){return O.routeConfig===k.routeConfig}}let Dn=(()=>{var C;class O extends tr{}return(C=O).\u0275fac=function(){let k;return function(B){return(k||(k=g.n5z(C)))(B||C)}}(),C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();const ar=new g.OlP("",{providedIn:"root",factory:()=>({})});let Hr=(()=>{var C;class O{}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return(0,g.f3M)(Ii)},providedIn:"root"}),O})(),Ii=(()=>{var C;class O{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,B){return S}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();var L=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(L||{});function E(C,O){C.events.pipe((0,Me.h)(k=>k instanceof Oi||k instanceof Vi||k instanceof ji||k instanceof ys),(0,Oe.U)(k=>k instanceof Oi||k instanceof ys?L.COMPLETE:k instanceof Vi&&(0===k.code||1===k.code)?L.REDIRECTING:L.FAILED),(0,Me.h)(k=>k!==L.REDIRECTING),(0,ve.q)(1)).subscribe(()=>{O()})}function A(C){throw C}function N(C,O,k){return O.parse("/")}const q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Se=(()=>{var C;class O{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var S,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(B=this.location.getState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}get events(){return this._events}constructor(){var S,B;this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new te.x,this.options=(0,g.f3M)(ar,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||A,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||N,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Hr),this.routeReuseStrategy=(0,g.f3M)(gr),this.titleStrategy=(0,g.f3M)(Ht),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(S=null===(B=(0,g.f3M)(j,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==S?S:[],this.navigationTransitions=(0,g.f3M)(Be),this.urlSerializer=(0,g.f3M)(ii),this.location=(0,g.f3M)(ye.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(Jr,{optional:!0}),this.eventsSubscription=new Qe.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rs(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(oe=>{this.lastSuccessfulId=oe.id,this.currentPageId=this.browserPageId},oe=>{this.console.warn(`Unhandled Navigation Error: ${oe}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(B=>{try{const{currentTransition:oe}=this.navigationTransitions;if(null===oe)return void(nt(B)&&this._events.next(B));if(B instanceof ds)St(oe.source)&&(this.browserUrlTree=oe.extractedUrl);else if(B instanceof ys)this.rawUrlTree=oe.rawUrl;else if(B instanceof qr){if("eager"===this.urlUpdateStrategy){if(!oe.extras.skipLocationChange){const Ce=this.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl);this.setBrowserUrl(Ce,oe)}this.browserUrlTree=oe.urlAfterRedirects}}else if(B instanceof xn)this.currentUrlTree=oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),this.routerState=oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,oe),this.browserUrlTree=oe.urlAfterRedirects);else if(B instanceof Vi)0!==B.code&&1!==B.code&&(this.navigated=!0),(3===B.code||2===B.code)&&this.restoreHistory(oe);else if(B instanceof Mn){const Ce=this.urlHandlingStrategy.merge(B.url,oe.currentRawUrl),Je={skipLocationChange:oe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||St(oe.source)};this.scheduleNavigation(Ce,yi,null,Je,{resolve:oe.resolve,reject:oe.reject,promise:oe.promise})}B instanceof ji&&this.restoreHistory(oe,!0),B instanceof Oi&&(this.navigated=!0),nt(B)&&this._events.next(B)}catch(oe){this.navigationTransitions.transitionAbortSubject.next(oe)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yi,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const B="popstate"===S.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,B,S.state)},0)}))}navigateToSyncWithBrowser(S,B,oe){const Ce={replaceUrl:!0},Je=null!=oe&&oe.navigationId?oe:null;if(oe){const _t={...oe};delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(Ce.state=_t)}const Yt=this.parseUrl(S);this.scheduleNavigation(Yt,B,Je,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,B={}){const{relativeTo:oe,queryParams:Ce,fragment:Je,queryParamsHandling:Yt,preserveFragment:_t}=B,sn=_t?this.currentUrlTree.fragment:Je;let bi,Un=null;switch(Yt){case"merge":Un={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Un=this.currentUrlTree.queryParams;break;default:Un=Ce||null}null!==Un&&(Un=this.removeEmptyProps(Un));try{bi=Li(oe?oe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||!S[0].startsWith("/"))&&(S=[]),bi=this.currentUrlTree.root}return si(bi,S,Un,null!=sn?sn:null)}navigateByUrl(S,B={skipLocationChange:!1}){const oe=Vn(S)?S:this.parseUrl(S),Ce=this.urlHandlingStrategy.merge(oe,this.rawUrlTree);return this.scheduleNavigation(Ce,yi,null,B)}navigate(S,B={skipLocationChange:!1}){return function He(C){for(let O=0;O<C.length;O++)if(null==C[O])throw new g.vHH(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let B;try{B=this.urlSerializer.parse(S)}catch(oe){B=this.malformedUriErrorHandler(oe,this.urlSerializer,S)}return B}isActive(S,B){let oe;if(oe=!0===B?{...q}:!1===B?{...ae}:B,Vn(S))return Qn(this.currentUrlTree,S,oe);const Ce=this.parseUrl(S);return Qn(this.currentUrlTree,Ce,oe)}removeEmptyProps(S){return Object.keys(S).reduce((B,oe)=>{const Ce=S[oe];return null!=Ce&&(B[oe]=Ce),B},{})}scheduleNavigation(S,B,oe,Ce,Je){if(this.disposed)return Promise.resolve(!1);let Yt,_t,sn;Je?(Yt=Je.resolve,_t=Je.reject,sn=Je.promise):sn=new Promise((bi,ct)=>{Yt=bi,_t=ct});const Un=this.pendingTasks.add();return E(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Un))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:S,extras:Ce,resolve:Yt,reject:_t,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(bi=>Promise.reject(bi))}setBrowserUrl(S,B){const oe=this.urlSerializer.serialize(S);if(this.location.isCurrentPathEqualTo(oe)||B.extras.replaceUrl){const Je={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(oe,"",Je)}else{const Ce={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(oe,"",Ce)}}restoreHistory(S,B=!1){if("computed"===this.canceledNavigationResolution){var oe;const Je=this.currentPageId-this.browserPageId;0!==Je?this.location.historyGo(Je):this.currentUrlTree===(null===(oe=this.getCurrentNavigation())||void 0===oe?void 0:oe.finalUrl)&&0===Je&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();function nt(C){return!(C instanceof xn||C instanceof Mn)}let ht=(()=>{var C;class O{constructor(S,B,oe,Ce,Je,Yt){var _t;this.router=S,this.route=B,this.tabIndexAttribute=oe,this.renderer=Ce,this.el=Je,this.locationStrategy=Yt,this.href=null,this.commands=null,this.onChanges=new te.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const sn=null===(_t=Je.nativeElement.tagName)||void 0===_t?void 0:_t.toLowerCase();this.isAnchorElement="a"===sn||"area"===sn,this.isAnchorElement?this.subscription=S.events.subscribe(Un=>{Un instanceof Oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,B,oe,Ce,Je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||B||oe||Ce||Je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;this.href=null!==this.urlTree&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const B=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",B)}applyAttributeValue(S,B){const oe=this.renderer,Ce=this.el.nativeElement;null!==B?oe.setAttribute(Ce,S,B):oe.removeAttribute(Ce,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(C=O).\u0275fac=function(S){return new(S||C)(g.Y36(Se),g.Y36(Es),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ye.S$))},C.\u0275dir=g.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,B){1&S&&g.NdJ("click",function(Ce){return B.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&S&&g.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),O})();class yn{}let Sn=(()=>{var C;class O{preload(S,B){return B().pipe((0,$t.K)(()=>(0,K.of)(null)))}}return(C=O).\u0275fac=function(S){return new(S||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})(),Ln=(()=>{var C;class O{constructor(S,B,oe,Ce,Je){this.router=S,this.injector=oe,this.preloadingStrategy=Ce,this.loader=Je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.h)(S=>S instanceof Oi),(0,$e.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const oe=[];for(const _t of B){var Ce,Je;_t.providers&&!_t._injector&&(_t._injector=(0,g.MMx)(_t.providers,S,`Route: ${_t.path}`));const sn=null!==(Ce=_t._injector)&&void 0!==Ce?Ce:S,Un=null!==(Je=_t._loadedInjector)&&void 0!==Je?Je:sn;var Yt;(_t.loadChildren&&!_t._loadedRoutes&&void 0===_t.canLoad||_t.loadComponent&&!_t._loadedComponent)&&oe.push(this.preloadConfig(sn,_t)),(_t.children||_t._loadedRoutes)&&oe.push(this.processRoutes(Un,null!==(Yt=_t.children)&&void 0!==Yt?Yt:_t._loadedRoutes))}return(0,Q.D)(oe).pipe((0,Lt.J)())}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>{let oe;oe=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(S,B):(0,K.of)(null);const Ce=oe.pipe((0,Te.z)(Je=>{var Yt;return null===Je?(0,K.of)(void 0):(B._loadedRoutes=Je.routes,B._loadedInjector=Je.injector,this.processRoutes(null!==(Yt=Je.injector)&&void 0!==Yt?Yt:S,Je.routes))}));if(B.loadComponent&&!B._loadedComponent){const Je=this.loader.loadComponent(B);return(0,Q.D)([Ce,Je]).pipe((0,Lt.J)())}return Ce})}}return(C=O).\u0275fac=function(S){return new(S||C)(g.LFG(Se),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(yn),g.LFG(Ne))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),O})();const Bn=new g.OlP("");let ir=(()=>{var C;class O{constructor(S,B,oe,Ce,Je={}){this.urlSerializer=S,this.transitions=B,this.viewportScroller=oe,this.zone=Ce,this.options=Je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Je.scrollPositionRestoration=Je.scrollPositionRestoration||"disabled",Je.anchorScrolling=Je.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Oi?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof ys&&0===S.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof an&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new an(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var S,B;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(C=O).\u0275fac=function(S){g.$Z()},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),O})();function mr(C,O){return{\u0275kind:C,\u0275providers:O}}function xt(){const C=(0,g.f3M)(g.zs3);return O=>{var k,S;const B=C.get(g.z2F);if(O!==B.components[0])return;const oe=C.get(Se),Ce=C.get(nn);1===C.get(Xs)&&oe.initialNavigation(),null===(k=C.get(lr,null,g.XFs.Optional))||void 0===k||k.setUpPreloading(),null===(S=C.get(Bn,null,g.XFs.Optional))||void 0===S||S.init(),oe.resetRootComponentType(B.componentTypes[0]),Ce.closed||(Ce.next(),Ce.complete(),Ce.unsubscribe())}}const nn=new g.OlP("",{factory:()=>new te.x}),Xs=new g.OlP("",{providedIn:"root",factory:()=>1}),lr=new g.OlP("");function wn(C){return mr(0,[{provide:lr,useExisting:Ln},{provide:yn,useExisting:C}])}const di=new g.OlP("ROUTER_FORROOT_GUARD"),so=[ye.Ye,{provide:ii,useClass:Gn},Se,li,{provide:Es,useFactory:function Di(C){return C.routerState.root},deps:[Se]},Ne,[]];function Sr(){return new g.PXZ("Router",Se)}let Ts=(()=>{var C;class O{constructor(S){}static forRoot(S,B){return{ngModule:O,providers:[so,[],{provide:j,multi:!0,useValue:S},{provide:di,useFactory:Os,deps:[[Se,new g.FiY,new g.tp0]]},{provide:ar,useValue:B||{}},null!=B&&B.useHash?{provide:ye.S$,useClass:ye.Do}:{provide:ye.S$,useClass:ye.b0},{provide:Bn,useFactory:()=>{const C=(0,g.f3M)(ye.EM),O=(0,g.f3M)(g.R0b),k=(0,g.f3M)(ar),S=(0,g.f3M)(Be),B=(0,g.f3M)(ii);return k.scrollOffset&&C.setOffset(k.scrollOffset),new ir(B,S,C,O,k)}},null!=B&&B.preloadingStrategy?wn(B.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Sr},null!=B&&B.initialNavigation?hi(B):[],null!=B&&B.bindToComponentInputs?mr(8,[zi,{provide:Jr,useExisting:zi}]).\u0275providers:[],[{provide:An,useFactory:xt},{provide:g.tb,multi:!0,useExisting:An}]]}}static forChild(S){return{ngModule:O,providers:[{provide:j,multi:!0,useValue:S}]}}}return(C=O).\u0275fac=function(S){return new(S||C)(g.LFG(di,8))},C.\u0275mod=g.oAB({type:C}),C.\u0275inj=g.cJS({}),O})();function Os(C){return"guarded"}function hi(C){return["disabled"===C.initialNavigation?mr(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const O=(0,g.f3M)(Se);return()=>{O.setUpLocationChangeListener()}}},{provide:Xs,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?mr(2,[{provide:Xs,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:O=>{const k=O.get(ye.V_,Promise.resolve());return()=>k.then(()=>new Promise(S=>{const B=O.get(Se),oe=O.get(nn);E(B,()=>{S(!0)}),O.get(Be).afterPreactivation=()=>(S(!0),oe.closed?(0,K.of)(void 0):oe),B.initialNavigation()}))}}]).\u0275providers:[]]}const An=new g.OlP("")},3106:(Ct,me,P)=>{"use strict";P.d(me,{Z:()=>Pe});var g=P(9058),f=P(4537),V=P(534),U=P(7879);class Q{constructor(ge,Ae){this._delegate=ge,this.firebase=Ae,(0,V._addComponent)(ge,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ge,Ae=V._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(ge);return!ze.isInitialized()&&"EXPLICIT"===(null===(je=ze.getComponent())||void 0===je?void 0:je.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Ae})}_removeServiceInstance(ge,Ae=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Ae)}_addComponent(ge){(0,V._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,V._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ie(){const Qe=function ne(Qe){const ge={},Ae={__esModule:!0,initializeApp:function te(ve,ke={}){const Me=V.initializeApp(ve,ke);if((0,g.r3)(ge,Me.name))return ge[Me.name];const Te=new Qe(Me,Ae);return ge[Me.name]=Te,Te},app:ze,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Oe(ve){const ke=ve.name,Me=ke.replace("-compat","");if(V._registerComponent(ve)&&"PUBLIC"===ve.type){const Te=(qe=ze())=>{if("function"!=typeof qe[Me])throw Z.create("invalid-app-argument",{appName:ke});return qe[Me]()};void 0!==ve.serviceProps&&(0,g.ZB)(Te,ve.serviceProps),Ae[Me]=Te,Qe.prototype[Me]=function(...qe){return this._getService.bind(this,ke).apply(this,ve.multipleInstances?qe:[])}}return"PUBLIC"===ve.type?Ae[Me]:null},removeApp:function je(ve){delete ge[ve]},useAsService:function Le(ve,ke){return"serverAuth"===ke?null:ke},modularAPIs:V}};function ze(ve){if(!(0,g.r3)(ge,ve=ve||V._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:ve});return ge[ve]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ye(){return Object.keys(ge).map(ve=>ge[ve])}}),ze.App=Qe,Ae}(Q);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function ge(Ae){(0,g.ZB)(Qe,Ae)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Qe}(),W=new U.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=se;!function De(Qe){(0,V.registerVersion)("@firebase/app-compat","0.2.22",Qe)}()},534:(Ct,me,P)=>{"use strict";P.r(me),P.d(me,{FirebaseError:()=>U.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>$r,_addComponent:()=>cr,_addOrOverwriteComponent:()=>Hn,_apps:()=>Fn,_clearComponents:()=>pr,_components:()=>Gr,_getProvider:()=>Xn,_registerComponent:()=>Ur,_removeServiceInstance:()=>Cr,deleteApp:()=>Fr,getApp:()=>_i,getApps:()=>pi,initializeApp:()=>jr,onLog:()=>Xi,registerVersion:()=>Wr,setLogLevel:()=>gi});var g=P(5861),f=P(4537),V=P(7879),U=P(9058);const Q=(Dt,at)=>at.some(Nt=>Dt instanceof Nt);let K,Z;const se=new WeakMap,W=new WeakMap,fe=new WeakMap,pe=new WeakMap,De=new WeakMap;let ge={get(Dt,at,Nt){if(Dt instanceof IDBTransaction){if("done"===at)return W.get(Dt);if("objectStoreNames"===at)return Dt.objectStoreNames||fe.get(Dt);if("store"===at)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return te(Dt[at])},set:(Dt,at,Nt)=>(Dt[at]=Nt,!0),has:(Dt,at)=>Dt instanceof IDBTransaction&&("done"===at||"store"===at)||at in Dt};function ze(Dt){return"function"==typeof Dt?function je(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...at){return Dt.apply(ye(this),at),te(se.get(this))}:function(...at){return te(Dt.apply(ye(this),at))}:function(at,...Nt){const gn=Dt.call(ye(this),at,...Nt);return fe.set(gn,at.sort?at.sort():[at]),te(gn)}}(Dt):(Dt instanceof IDBTransaction&&function Qe(Dt){if(W.has(Dt))return;const at=new Promise((Nt,gn)=>{const Pn=()=>{Dt.removeEventListener("complete",rn),Dt.removeEventListener("error",Wn),Dt.removeEventListener("abort",Wn)},rn=()=>{Nt(),Pn()},Wn=()=>{gn(Dt.error||new DOMException("AbortError","AbortError")),Pn()};Dt.addEventListener("complete",rn),Dt.addEventListener("error",Wn),Dt.addEventListener("abort",Wn)});W.set(Dt,at)}(Dt),Q(Dt,function ne(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,ge):Dt)}function te(Dt){if(Dt instanceof IDBRequest)return function Pe(Dt){const at=new Promise((Nt,gn)=>{const Pn=()=>{Dt.removeEventListener("success",rn),Dt.removeEventListener("error",Wn)},rn=()=>{Nt(te(Dt.result)),Pn()},Wn=()=>{gn(Dt.error),Pn()};Dt.addEventListener("success",rn),Dt.addEventListener("error",Wn)});return at.then(Nt=>{Nt instanceof IDBCursor&&se.set(Nt,Dt)}).catch(()=>{}),De.set(at,Dt),at}(Dt);if(pe.has(Dt))return pe.get(Dt);const at=ze(Dt);return at!==Dt&&(pe.set(Dt,at),De.set(at,Dt)),at}const ye=Dt=>De.get(Dt),ve=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Me=new Map;function Te(Dt,at){if(!(Dt instanceof IDBDatabase)||at in Dt||"string"!=typeof at)return;if(Me.get(at))return Me.get(at);const Nt=at.replace(/FromIndex$/,""),gn=at!==Nt,Pn=ke.includes(Nt);if(!(Nt in(gn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!ve.includes(Nt))return;const rn=function(){var Wn=(0,g.Z)(function*(wr,...Pr){const oi=this.transaction(wr,Pn?"readwrite":"readonly");let Xr=oi.store;return gn&&(Xr=Xr.index(Pr.shift())),(yield Promise.all([Xr[Nt](...Pr),Pn&&oi.done]))[0]});return function(Pr){return Wn.apply(this,arguments)}}();return Me.set(at,rn),rn}!function Ae(Dt){ge=Dt(ge)}(Dt=>({...Dt,get:(at,Nt,gn)=>Te(at,Nt)||Dt.get(at,Nt,gn),has:(at,Nt)=>!!Te(at,Nt)||Dt.has(at,Nt)}));class qe{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function $e(Dt){const at=Dt.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Nt)){const gn=Nt.getImmediate();return`${gn.library}/${gn.version}`}return null}).filter(Nt=>Nt).join(" ")}}const rt="@firebase/app",Et=new V.Yd("@firebase/app"),$r="[DEFAULT]",tn={[rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fn=new Map,Gr=new Map;function cr(Dt,at){try{Dt.container.addComponent(at)}catch(Nt){Et.debug(`Component ${at.name} failed to register with FirebaseApp ${Dt.name}`,Nt)}}function Hn(Dt,at){Dt.container.addOrOverwriteComponent(at)}function Ur(Dt){const at=Dt.name;if(Gr.has(at))return Et.debug(`There were multiple attempts to register component ${at}.`),!1;Gr.set(at,Dt);for(const Nt of Fn.values())cr(Nt,Dt);return!0}function Xn(Dt,at){const Nt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),Dt.container.getProvider(at)}function Cr(Dt,at,Nt=$r){Xn(Dt,at).clearInstance(Nt)}function pr(){Gr.clear()}const Gn=new U.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ti{constructor(at,Nt,gn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=gn,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Or="10.5.2";function jr(Dt,at={}){let Nt=Dt;"object"!=typeof at&&(at={name:at});const gn=Object.assign({name:$r,automaticDataCollectionEnabled:!1},at),Pn=gn.name;if("string"!=typeof Pn||!Pn)throw Gn.create("bad-app-name",{appName:String(Pn)});if(Nt||(Nt=(0,U.aH)()),!Nt)throw Gn.create("no-options");const rn=Fn.get(Pn);if(rn){if((0,U.vZ)(Nt,rn.options)&&(0,U.vZ)(gn,rn.config))return rn;throw Gn.create("duplicate-app",{appName:Pn})}const Wn=new f.H0(Pn);for(const Pr of Gr.values())Wn.addComponent(Pr);const wr=new Ti(Nt,gn,Wn);return Fn.set(Pn,wr),wr}function _i(Dt=$r){const at=Fn.get(Dt);if(!at&&Dt===$r&&(0,U.aH)())return jr();if(!at)throw Gn.create("no-app",{appName:Dt});return at}function pi(){return Array.from(Fn.values())}function Fr(Dt){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(Dt){const at=Dt.name;Fn.has(at)&&(Fn.delete(at),yield Promise.all(Dt.container.getProviders().map(Nt=>Nt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function Wr(Dt,at,Nt){var gn;let Pn=null!==(gn=tn[Dt])&&void 0!==gn?gn:Dt;Nt&&(Pn+=`-${Nt}`);const rn=Pn.match(/\s|\//),Wn=at.match(/\s|\//);if(rn||Wn){const wr=[`Unable to register library "${Pn}" with version "${at}":`];return rn&&wr.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),rn&&Wn&&wr.push("and"),Wn&&wr.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Et.warn(wr.join(" "))}Ur(new f.wA(`${Pn}-version`,()=>({library:Pn,version:at}),"VERSION"))}function Xi(Dt,at){if(null!==Dt&&"function"!=typeof Dt)throw Gn.create("invalid-log-argument");(0,V.Am)(Dt,at)}function gi(Dt){(0,V.Ub)(Dt)}const vi="firebase-heartbeat-database",Lr=1,Ge="firebase-heartbeat-store";let ie=null;function re(){return ie||(ie=function Oe(Dt,at,{blocked:Nt,upgrade:gn,blocking:Pn,terminated:rn}={}){const Wn=indexedDB.open(Dt,at),wr=te(Wn);return gn&&Wn.addEventListener("upgradeneeded",Pr=>{gn(te(Wn.result),Pr.oldVersion,Pr.newVersion,te(Wn.transaction),Pr)}),Nt&&Wn.addEventListener("blocked",Pr=>Nt(Pr.oldVersion,Pr.newVersion,Pr)),wr.then(Pr=>{rn&&Pr.addEventListener("close",()=>rn()),Pn&&Pr.addEventListener("versionchange",oi=>Pn(oi.oldVersion,oi.newVersion,oi))}).catch(()=>{}),wr}(vi,Lr,{upgrade:(Dt,at)=>{0===at&&Dt.createObjectStore(Ge)}}).catch(Dt=>{throw Gn.create("idb-open",{originalErrorMessage:Dt.message})})),ie}function ue(){return(ue=(0,g.Z)(function*(Dt){try{return yield(yield re()).transaction(Ge).objectStore(Ge).get(Vt(Dt))}catch(at){if(at instanceof U.ZR)Et.warn(at.message);else{const Nt=Gn.create("idb-get",{originalErrorMessage:null==at?void 0:at.message});Et.warn(Nt.message)}}})).apply(this,arguments)}function Ue(Dt,at){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(Dt,at){try{const gn=(yield re()).transaction(Ge,"readwrite");yield gn.objectStore(Ge).put(at,Vt(Dt)),yield gn.done}catch(Nt){if(Nt instanceof U.ZR)Et.warn(Nt.message);else{const gn=Gn.create("idb-set",{originalErrorMessage:null==Nt?void 0:Nt.message});Et.warn(gn.message)}}})).apply(this,arguments)}function Vt(Dt){return`${Dt.name}!${Dt.options.appId}`}class pn{constructor(at){this.container=at,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new Vr(Nt),this._heartbeatsCachePromise=this._storage.read().then(gn=>(this._heartbeatsCache=gn,gn))}triggerHeartbeat(){var at=this;return(0,g.Z)(function*(){const gn=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=on();if(null===at._heartbeatsCache&&(at._heartbeatsCache=yield at._heartbeatsCachePromise),at._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!at._heartbeatsCache.heartbeats.some(rn=>rn.date===Pn))return at._heartbeatsCache.heartbeats.push({date:Pn,agent:gn}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(rn=>{const Wn=new Date(rn.date).valueOf();return Date.now()-Wn<=2592e6}),at._storage.overwrite(at._heartbeatsCache)})()}getHeartbeatsHeader(){var at=this;return(0,g.Z)(function*(){if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null===at._heartbeatsCache||0===at._heartbeatsCache.heartbeats.length)return"";const Nt=on(),{heartbeatsToSend:gn,unsentEntries:Pn}=function Vn(Dt,at=1024){const Nt=[];let gn=Dt.slice();for(const Pn of Dt){const rn=Nt.find(Wn=>Wn.agent===Pn.agent);if(rn){if(rn.dates.push(Pn.date),Li(Nt)>at){rn.dates.pop();break}}else if(Nt.push({agent:Pn.agent,dates:[Pn.date]}),Li(Nt)>at){Nt.pop();break}gn=gn.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:gn}}(at._heartbeatsCache.heartbeats),rn=(0,U.L)(JSON.stringify({version:2,heartbeats:gn}));return at._heartbeatsCache.lastSentHeartbeatDate=Nt,Pn.length>0?(at._heartbeatsCache.heartbeats=Pn,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),rn})()}}function on(){return(new Date).toISOString().substring(0,10)}class Vr{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,U.hl)()&&(0,U.eu)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,g.Z)(function*(){return(yield at._canUseIndexedDBPromise)&&(yield function Fe(Dt){return ue.apply(this,arguments)}(at.app))||{heartbeats:[]}})()}overwrite(at){var Nt=this;return(0,g.Z)(function*(){var gn;if(yield Nt._canUseIndexedDBPromise){const rn=yield Nt.read();return Ue(Nt.app,{lastSentHeartbeatDate:null!==(gn=at.lastSentHeartbeatDate)&&void 0!==gn?gn:rn.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var Nt=this;return(0,g.Z)(function*(){var gn;if(yield Nt._canUseIndexedDBPromise){const rn=yield Nt.read();return Ue(Nt.app,{lastSentHeartbeatDate:null!==(gn=at.lastSentHeartbeatDate)&&void 0!==gn?gn:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...at.heartbeats]})}})()}}function Li(Dt){return(0,U.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function si(Dt){Ur(new f.wA("platform-logger",at=>new qe(at),"PRIVATE")),Ur(new f.wA("heartbeat",at=>new pn(at),"PRIVATE")),Wr(rt,"0.9.22",Dt),Wr(rt,"0.9.22","esm2017"),Wr("fire-js","")}("")},4537:(Ct,me,P)=>{"use strict";P.d(me,{H0:()=>ne,wA:()=>V});var g=P(5861),f=P(9058);class V{constructor(se,W,fe){this.name=se,this.instanceFactory=W,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const U="[DEFAULT]";class Q{constructor(se,W){this.name=se,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const W=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(W)){const fe=new f.BH;if(this.instancesDeferred.set(W,fe),this.isInitialized(W)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:W});pe&&fe.resolve(pe)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(se){var W;const fe=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),pe=null!==(W=null==se?void 0:se.optional)&&void 0!==W&&W;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(De){if(pe)return null;throw De}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Z(Ie){return"EAGER"===Ie.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[W,fe]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(W);try{const De=this.getOrInitializeService({instanceIdentifier:pe});fe.resolve(De)}catch{}}}}clearInstance(se=U){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,g.Z)(function*(){const W=Array.from(se.instances.values());yield Promise.all([...W.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...W.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=U){return this.instances.has(se)}getOptions(se=U){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:W={}}=se,fe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:fe,options:W});for(const[De,Pe]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(De)&&Pe.resolve(pe);return pe}onInit(se,W){var fe;const pe=this.normalizeInstanceIdentifier(W),De=null!==(fe=this.onInitCallbacks.get(pe))&&void 0!==fe?fe:new Set;De.add(se),this.onInitCallbacks.set(pe,De);const Pe=this.instances.get(pe);return Pe&&se(Pe,pe),()=>{De.delete(se)}}invokeOnInitCallbacks(se,W){const fe=this.onInitCallbacks.get(W);if(fe)for(const pe of fe)try{pe(se,W)}catch{}}getOrInitializeService({instanceIdentifier:se,options:W={}}){let fe=this.instances.get(se);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=se,Ie===U?void 0:Ie),options:W}),this.instances.set(se,fe),this.instancesOptions.set(se,W),this.invokeOnInitCallbacks(fe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,fe)}catch{}var Ie;return fe||null}normalizeInstanceIdentifier(se=U){return this.component?this.component.multipleInstances?se:U:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const W=this.getProvider(se.name);if(W.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);W.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const W=new Q(se,this);return this.providers.set(se,W),W}getProviders(){return Array.from(this.providers.values())}}},7879:(Ct,me,P)=>{"use strict";P.d(me,{Am:()=>Ie,Ub:()=>ne,Yd:()=>Z,in:()=>f});const g=[];var f=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(f||{});const V={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},U=f.INFO,Q={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},K=(se,W,...fe)=>{if(W<se.logLevel)return;const pe=(new Date).toISOString(),De=Q[W];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[De](`[${pe}]  ${se.name}:`,...fe)};class Z{constructor(W){this.name=W,this._logLevel=U,this._logHandler=K,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in f))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?V[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...W),this._logHandler(this,f.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...W),this._logHandler(this,f.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,f.INFO,...W),this._logHandler(this,f.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,f.WARN,...W),this._logHandler(this,f.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...W),this._logHandler(this,f.ERROR,...W)}}function ne(se){g.forEach(W=>{W.setLogLevel(se)})}function Ie(se,W){for(const fe of g){let pe=null;W&&W.level&&(pe=V[W.level]),fe.userLogHandler=null===se?null:(De,Pe,...Qe)=>{const ge=Qe.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Pe>=(null!=pe?pe:De.logLevel)&&se({level:f[Pe].toLowerCase(),message:ge,args:Qe,type:De.name})}}}},9843:(Ct,me,P)=>{"use strict";P.d(me,{Br:()=>Vs,vB:()=>Ci,dr:()=>tn,oU:()=>Gr,cs:()=>ss,YG:()=>Cr,Sm:()=>pr,PM:()=>ii,FN:()=>Gn,Zi:()=>Ti,wI:()=>Fr,W2:()=>Ai,jY:()=>ie,Gu:()=>re,gu:()=>Fe,Xz:()=>ue,pK:()=>Vt,Ie:()=>Zt,Q$:()=>Li,q_:()=>si,jP:()=>Qi,Nd:()=>ai,cJ:()=>Oi,GO:()=>Vi,yW:()=>pt,wd:()=>Pt,sr:()=>an,Pc:()=>qo,r4:()=>No,SH:()=>ci,YI:()=>fs,Fo:()=>Ws,QI:()=>Wt,j9:()=>Xt,yF:()=>Yi});var g=P(5861),f=P(5879),V=P(6223),U=P(7582),Q=P(2438),K=P(8645),Z=P(5619),ne=P(2572),Ie=P(2096),se=P(3914),W=P(1774),De=(P(2650),P(1904),P(5149)),Qe=(P(9203),P(2085)),ge=P(839),Ae=P(3365),je=P(1651),te=(P(5662),P(1647)),Le=(P(6225),P(619),P(1688)),ke=P(2181),Me=P(4664),Te=P(3997),qe=P(6814);const rt=Qe.i,Et=["*"],Ze=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d);let Xe=(()=>{class d{constructor(p,w){this.injector=p,this.el=w,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(p){this.el.nativeElement.value=this.lastValue=p,Lt(this.el)}handleValueChange(p,w){p===this.el.nativeElement&&(w!==this.lastValue&&(this.lastValue=w,this.onChange(w)),Lt(this.el))}_handleBlurEvent(p){p===this.el.nativeElement&&(this.onTouched(),Lt(this.el))}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}setDisabledState(p){this.el.nativeElement.disabled=p}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let p;try{p=this.injector.get(V.a5)}catch{}if(!p)return;p.statusChanges&&(this.statusChanges=p.statusChanges.subscribe(()=>Lt(this.el)));const w=p.control;w&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(st=>{if(typeof w[st]<"u"){const Gt=w[st].bind(w);w[st]=(...cn)=>{Gt(...cn),Lt(this.el)}}})}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,hostBindings:function(p,w){1&p&&f.NdJ("ionBlur",function(st){return w._handleBlurEvent(st.target)})}}),d})();const Lt=d=>{Ze(()=>{const T=d.nativeElement,p=null!=T.value&&T.value.toString().length>0,w=Ut(T);it(T,w);const J=T.closest("ion-item");J&&it(J,p?[...w,"item-has-value"]:w)})},Ut=d=>{const T=d.classList,p=[];for(let w=0;w<T.length;w++){const J=T.item(w);null!==J&&ut(J,"ng-")&&p.push(`ion-${J.substring(3)}`)}return p},it=(d,T)=>{const p=d.classList;p.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),p.add(...T)},ut=(d,T)=>d.substring(0,T.length)===T;let Wt=(()=>{class d extends Xe{constructor(p,w){super(p,w)}_handleChangeEvent(p){this.handleValueChange(p,p.value)}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(p,w){1&p&&f.NdJ("ionChange",function(st){return w._handleChangeEvent(st.target)})},features:[f._Bn([{provide:V.JU,useExisting:d,multi:!0}]),f.qOj]}),d})(),Xt=(()=>{class d extends Xe{constructor(p,w){super(p,w)}_handleInputEvent(p){this.handleValueChange(p,p.value)}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(p,w){1&p&&f.NdJ("ionInput",function(st){return w._handleInputEvent(st.target)})},features:[f._Bn([{provide:V.JU,useExisting:d,multi:!0}]),f.qOj]}),d})();const dn=(d,T)=>{const p=d.prototype;T.forEach(w=>{Object.defineProperty(p,w,{get(){return this.el[w]},set(J){this.z.runOutsideAngular(()=>this.el[w]=J)}})})},fn=(d,T)=>{const p=d.prototype;T.forEach(w=>{p[w]=function(){const J=arguments;return this.z.runOutsideAngular(()=>this.el[w].apply(this.el,J))}})},qt=(d,T,p)=>{p.forEach(w=>d[w]=(0,Q.R)(T,w))};function Tt(d){return function(p){const{defineCustomElementFn:w,inputs:J,methods:st}=d;return void 0!==w&&w(),J&&dn(p,J),st&&fn(p,st),p}}let tn=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({})],d),d})(),Gr=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),Cr=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement,qt(this,this.el,["ionFocus","ionBlur"])}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],d),d})(),pr=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["collapse"]})],d),d})(),ii=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],d),d})(),Gn=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["mode"]})],d),d})(),Ti=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","mode","translucent"]})],d),d})(),Fr=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],d),d})(),Ai=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement,qt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),ie=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["fixed"]})],d),d})(),re=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["collapse","mode","translucent"]})],d),d})(),Fe=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],d),d})(),ue=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement,qt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["alt","src"]})],d),d})(),Vt=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement,qt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),Zt=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),Li=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","mode","position"]})],d),d})(),si=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],d),d})(),ai=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-row"]],ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({})],d),d})(),Oi=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement,qt(this,this.el,["ionChange"])}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],d),d})(),Vi=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["disabled","layout","mode","type","value"]})],d),d})(),pt=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","mode"]})],d),d})(),Pt=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","size"]})],d),d})(),an=(()=>{let d=class{constructor(p,w,J){this.z=J,p.detach(),this.el=w.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(p,w){1&p&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,U.gn)([Tt({inputs:["color","mode"]})],d),d})(),xn=(()=>{class d{get(p,w){const J=Tr();return J?J.get(p,w):null}getBoolean(p,w){const J=Tr();return!!J&&J.getBoolean(p,w)}getNumber(p,w){const J=Tr();return J?J.getNumber(p,w):0}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Mn=new f.OlP("USERCONFIG"),Tr=()=>{if(typeof window<"u"){const d=window.Ionic;if(null!=d&&d.config)return d.config}return null};let xi=(()=>{class d{constructor(p,w){this.doc=p,this.backButton=new K.x,this.keyboardDidShow=new K.x,this.keyboardDidHide=new K.x,this.pause=new K.x,this.resume=new K.x,this.resize=new K.x,w.run(()=>{var J;let st;this.win=p.defaultView,this.backButton.subscribeWithPriority=function(Gt,cn){return this.subscribe(bn=>bn.register(Gt,ur=>w.run(()=>cn(ur))))},Ni(this.pause,p,"pause"),Ni(this.resume,p,"resume"),Ni(this.backButton,p,"ionBackButton"),Ni(this.resize,this.win,"resize"),Ni(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ni(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Gt=>{st=Gt}),null!==(J=this.win)&&void 0!==J&&J.cordova?p.addEventListener("deviceready",()=>{st("cordova")},{once:!0}):st("dom")})}is(p){return(0,Qe.a)(this.win,p)}platforms(){return(0,Qe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(p){return li(this.win.location.href,p)}isLandscape(){return!this.isPortrait()}isPortrait(){var p,w;return null===(p=(w=this.win).matchMedia)||void 0===p?void 0:p.call(w,"(orientation: portrait)").matches}testUserAgent(p){const w=this.win.navigator;return!!(null!=w&&w.userAgent&&w.userAgent.indexOf(p)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(p){return new(p||d)(f.LFG(qe.K0),f.LFG(f.R0b))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const li=(d,T)=>{T=T.replace(/[[\]\\]/g,"\\$&");const w=new RegExp("[\\?&]"+T+"=([^&#]*)").exec(d);return w?decodeURIComponent(w[1].replace(/\+/g," ")):null},Ni=(d,T,p)=>{T&&T.addEventListener(p,w=>{d.next(null!=w?w.detail:void 0)})};let ci=(()=>{class d{constructor(p,w,J,st){this.location=w,this.serializer=J,this.router=st,this.direction=zn,this.animated=Er,this.guessDirection="forward",this.lastNavId=-1,st&&st.events.subscribe(Gt=>{if(Gt instanceof se.OD){const cn=Gt.restoredState?Gt.restoredState.navigationId:Gt.id;this.guessDirection=cn<this.lastNavId?"back":"forward",this.guessAnimation=Gt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Gt.id:cn}}),p.backButton.subscribeWithPriority(0,Gt=>{this.pop(),Gt()})}navigateForward(p,w={}){return this.setDirection("forward",w.animated,w.animationDirection,w.animation),this.navigate(p,w)}navigateBack(p,w={}){return this.setDirection("back",w.animated,w.animationDirection,w.animation),this.navigate(p,w)}navigateRoot(p,w={}){return this.setDirection("root",w.animated,w.animationDirection,w.animation),this.navigate(p,w)}back(p={animated:!0,animationDirection:"back"}){return this.setDirection("back",p.animated,p.animationDirection,p.animation),this.location.back()}pop(){var p=this;return(0,g.Z)(function*(){let w=p.topOutlet;for(;w;){if(yield w.pop())return!0;w=w.parentOutlet}return!1})()}setDirection(p,w,J,st){this.direction=p,this.animated=hs(p,w,J),this.animationBuilder=st}setTopOutlet(p){this.topOutlet=p}consumeTransition(){let w,p="root";const J=this.animationBuilder;return"auto"===this.direction?(p=this.guessDirection,w=this.guessAnimation):(w=this.animated,p=this.direction),this.direction=zn,this.animated=Er,this.animationBuilder=void 0,{direction:p,animation:w,animationBuilder:J}}navigate(p,w){if(Array.isArray(p))return this.router.navigate(p,w);{const J=this.serializer.parse(p.toString());return void 0!==w.queryParams&&(J.queryParams={...w.queryParams}),void 0!==w.fragment&&(J.fragment=w.fragment),this.router.navigateByUrl(J,w)}}}return d.\u0275fac=function(p){return new(p||d)(f.LFG(xi),f.LFG(qe.Ye),f.LFG(se.Hx),f.LFG(se.F0,8))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const hs=(d,T,p)=>{if(!1!==T){if(void 0!==p)return p;if("forward"===d||"back"===d)return d;if("root"===d&&!0===T)return"forward"}},zn="auto",Er=void 0;class mi{constructor(T={}){this.data=T}get(T){return this.data[T]}}let rs=(()=>{class d{constructor(){this.zone=(0,f.f3M)(f.R0b),this.applicationRef=(0,f.f3M)(f.z2F)}create(p,w,J){return new ki(p,w,this.applicationRef,this.zone,J)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})();class ki{constructor(T,p,w,J,st){this.environmentInjector=T,this.injector=p,this.applicationRef=w,this.zone=J,this.elementReferenceKey=st,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(T,p,w,J){return this.zone.run(()=>new Promise(st=>{const Gt={...w};void 0!==this.elementReferenceKey&&(Gt[this.elementReferenceKey]=T),st(Es(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,T,p,Gt,J,this.elementReferenceKey))}))}removeViewFromDom(T,p){return this.zone.run(()=>new Promise(w=>{const J=this.elRefMap.get(p);if(J){J.destroy(),this.elRefMap.delete(p);const st=this.elEventsMap.get(p);st&&(st(),this.elEventsMap.delete(p))}w()}))}}const Es=(d,T,p,w,J,st,Gt,cn,bn,ur,Cs)=>{const Ys=f.zs3.create({providers:no(bn),parent:p}),ps=(0,f.LMc)(cn,{environmentInjector:T,elementInjector:Ys}),io=ps.instance,Ks=ps.location.nativeElement;if(bn&&(Cs&&void 0!==io[Cs]&&console.error(`[Ionic Error]: ${Cs} is a reserved property when using ${Gt.tagName.toLowerCase()}. Rename or remove the "${Cs}" property from ${cn.name}.`),Object.assign(io,bn)),ur)for(const Ko of ur)Ks.classList.add(Ko);const Yo=zs(d,io,Ks);return Gt.appendChild(Ks),w.attachView(ps.hostView),J.set(Ks,ps),st.set(Ks,Yo),Ks},to=[je.L,je.a,je.b,je.c,je.d],zs=(d,T,p)=>d.run(()=>{const w=to.filter(J=>"function"==typeof T[J]).map(J=>{const st=Gt=>T[J](Gt.detail);return p.addEventListener(J,st),()=>p.removeEventListener(J,st)});return()=>w.forEach(J=>J())}),Gs=new f.OlP("NavParamsToken"),no=d=>[{provide:Gs,useValue:d},{provide:mi,useFactory:ui,deps:[Gs]}],ui=d=>new mi(d),qn=(d,T)=>((d=d.filter(p=>p.stackId!==T.stackId)).push(T),d),Hi=(d,T)=>{const p=d.createUrlTree(["."],{relativeTo:T});return d.serializeUrl(p)},Jr=(d,T)=>!T||d.stackId!==T.stackId,zi=(d,T)=>{if(!d)return;const p=Yr(T);for(let w=0;w<p.length;w++){if(w>=d.length)return p[w];if(p[w]!==d[w])return}},Yr=d=>d.split("/").map(T=>T.trim()).filter(T=>""!==T),is=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class Ji{constructor(T,p,w,J,st,Gt){this.containerEl=p,this.router=w,this.navCtrl=J,this.zone=st,this.location=Gt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==T?Yr(T):void 0}createView(T,p){var w;const J=Hi(this.router,p),st=null==T||null===(w=T.location)||void 0===w?void 0:w.nativeElement,Gt=zs(this.zone,T.instance,st);return{id:this.nextId++,stackId:zi(this.tabsPrefix,J),unlistenEvents:Gt,element:st,ref:T,url:J}}getExistingView(T){const p=Hi(this.router,T),w=this.views.find(J=>J.url===p);return w&&w.ref.changeDetectorRef.reattach(),w}setActive(T){var p,w;const J=this.navCtrl.consumeTransition();let{direction:st,animation:Gt,animationBuilder:cn}=J;const bn=this.activeView,ur=Jr(T,bn);ur&&(st="back",Gt=void 0);const Cs=this.views.slice();let Ys;const ps=this.router;ps.getCurrentNavigation?Ys=ps.getCurrentNavigation():null!==(p=ps.navigations)&&void 0!==p&&p.value&&(Ys=ps.navigations.value),null!==(w=Ys)&&void 0!==w&&null!==(w=w.extras)&&void 0!==w&&w.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const io=this.views.includes(T),Ks=this.insertView(T,st);io||T.ref.changeDetectorRef.detectChanges();const Yo=T.animationBuilder;return void 0===cn&&"back"===st&&!ur&&void 0!==Yo&&(cn=Yo),bn&&(bn.animationBuilder=cn),this.zone.runOutsideAngular(()=>this.wait(()=>(bn&&bn.ref.changeDetectorRef.detach(),T.ref.changeDetectorRef.reattach(),this.transition(T,bn,Gt,this.canGoBack(1),!1,cn).then(()=>Zn(T,Ks,Cs,this.location,this.zone)).then(()=>({enteringView:T,direction:st,animation:Gt,tabSwitch:ur})))))}canGoBack(T,p=this.getActiveStackId()){return this.getStack(p).length>T}pop(T,p=this.getActiveStackId()){return this.zone.run(()=>{const w=this.getStack(p);if(w.length<=T)return Promise.resolve(!1);const J=w[w.length-T-1];let st=J.url;const Gt=J.savedData;if(Gt){var cn;const ur=Gt.get("primary");null!=ur&&null!==(cn=ur.route)&&void 0!==cn&&null!==(cn=cn._routerState)&&void 0!==cn&&cn.snapshot.url&&(st=ur.route._routerState.snapshot.url)}const{animationBuilder:bn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(st,{...J.savedExtras,animation:bn}).then(()=>!0)})}startBackTransition(){const T=this.activeView;if(T){const p=this.getStack(T.stackId),w=p[p.length-2],J=w.animationBuilder;return this.wait(()=>this.transition(w,T,"back",this.canGoBack(2),!0,J))}return Promise.resolve()}endBackTransition(T){T?(this.skipTransition=!0,this.pop(1)):this.activeView&&Gi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(T){const p=this.getStack(T);return p.length>0?p[p.length-1]:void 0}getRootUrl(T){const p=this.getStack(T);return p.length>0?p[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(is),this.activeView=void 0,this.views=[]}getStack(T){return this.views.filter(p=>p.stackId===T)}insertView(T,p){return this.activeView=T,this.views=((d,T,p)=>"root"===p?qn(d,T):"forward"===p?((d,T)=>(d.indexOf(T)>=0?d=d.filter(w=>w.stackId!==T.stackId||w.id<=T.id):d.push(T),d))(d,T):((d,T)=>d.indexOf(T)>=0?d.filter(w=>w.stackId!==T.stackId||w.id<=T.id):qn(d,T))(d,T))(this.views,T,p),this.views.slice()}transition(T,p,w,J,st,Gt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(p===T)return Promise.resolve(!1);const cn=T?T.element:void 0,bn=p?p.element:void 0,ur=this.containerEl;return cn&&cn!==bn&&(cn.classList.add("ion-page"),cn.classList.add("ion-page-invisible"),cn.parentElement!==ur&&ur.appendChild(cn),ur.commit)?ur.commit(cn,bn,{duration:void 0===w?0:void 0,direction:w,showGoBack:J,progressAnimation:st,animationBuilder:Gt}):Promise.resolve(!1)}wait(T){var p=this;return(0,g.Z)(function*(){void 0!==p.runningTask&&(yield p.runningTask,p.runningTask=void 0);const w=p.runningTask=T();return w.finally(()=>p.runningTask=void 0),w})()}}const Zn=(d,T,p,w,J)=>"function"==typeof requestAnimationFrame?new Promise(st=>{requestAnimationFrame(()=>{Gi(d,T,p,w,J),st()})}):Promise.resolve(),Gi=(d,T,p,w,J)=>{J.run(()=>p.filter(st=>!T.includes(st)).forEach(is)),T.forEach(st=>{const cn=w.path().split("?")[0].split("#")[0];if(st!==d&&st.url!==cn){const bn=st.element;bn.setAttribute("aria-hidden","true"),bn.classList.add("ion-page-hidden"),st.ref.changeDetectorRef.detach()}})};let Qi=(()=>{class d{constructor(p,w,J,st,Gt,cn,bn,ur){this.parentOutlet=ur,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Z.X(null),this.activated=null,this._activatedRoute=null,this.name=se.eC,this.stackWillChange=new f.vpe,this.stackDidChange=new f.vpe,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.parentContexts=(0,f.f3M)(se.y6),this.location=(0,f.f3M)(f.s_b),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(br,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,f.f3M)(xn),this.navCtrl=(0,f.f3M)(ci),this.nativeEl=st.nativeElement,this.name=p||se.eC,this.tabsPrefix="true"===w?Hi(Gt,bn):void 0,this.stackCtrl=new Ji(this.tabsPrefix,this.nativeEl,Gt,this.navCtrl,cn,J),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(p){this.nativeEl.animation=p}set animated(p){this.nativeEl.animated=p}set swipeGesture(p){this._swipeGesture=p,this.nativeEl.swipeHandler=p?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:w=>this.stackCtrl.endBackTransition(w)}:void 0}ngOnDestroy(){var p;this.stackCtrl.destroy(),null===(p=this.inputBinder)||void 0===p||p.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const p=this.getContext();null!=p&&p.route&&this.activateWith(p.route,p.injector)}new Promise(p=>(0,ge.c)(this.nativeEl,p)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(p,w){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const w=this.getContext();this.activatedView.savedData=new Map(w.children.contexts);const J=this.activatedView.savedData.get("primary");if(J&&w.route&&(J.route={...w.route}),this.activatedView.savedExtras={},w.route){const st=w.route.snapshot;this.activatedView.savedExtras.queryParams=st.queryParams,this.activatedView.savedExtras.fragment=st.fragment}}const p=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,w){var J;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;let st,Gt=this.stackCtrl.getExistingView(p);if(Gt){st=this.activated=Gt.ref;const ur=Gt.savedData;ur&&(this.getContext().children.contexts=ur),this.updateActivatedRouteProxy(st.instance,p)}else{var cn;const ur=p._futureSnapshot,Cs=this.parentContexts.getOrCreateContext(this.name).children,Ys=new Z.X(null),ps=this.createActivatedRouteProxy(Ys,p),io=new Ei(ps,Cs,this.location.injector),Ks=null!==(cn=ur.routeConfig.component)&&void 0!==cn?cn:ur.component;st=this.activated=this.location.createComponent(Ks,{index:this.location.length,injector:io,environmentInjector:null!=w?w:this.environmentInjector}),Ys.next(st.instance),Gt=this.stackCtrl.createView(this.activated,p),this.proxyMap.set(st.instance,ps),this.currentActivatedRoute$.next({component:st.instance,activatedRoute:p})}null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.activatedView=Gt,this.navCtrl.setTopOutlet(this);const bn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Gt,tabSwitch:Jr(Gt,bn)}),this.stackCtrl.setActive(Gt).then(ur=>{this.activateEvents.emit(st.instance),this.stackDidChange.emit(ur)})}canGoBack(p=1,w){return this.stackCtrl.canGoBack(p,w)}pop(p=1,w){return this.stackCtrl.pop(p,w)}getLastUrl(p){const w=this.stackCtrl.getLastUrl(p);return w?w.url:void 0}getLastRouteView(p){return this.stackCtrl.getLastUrl(p)}getRootView(p){return this.stackCtrl.getRootUrl(p)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(p,w){const J=new se.gz;return J._futureSnapshot=w._futureSnapshot,J._routerState=w._routerState,J.snapshot=w.snapshot,J.outlet=w.outlet,J.component=w.component,J._paramMap=this.proxyObservable(p,"paramMap"),J._queryParamMap=this.proxyObservable(p,"queryParamMap"),J.url=this.proxyObservable(p,"url"),J.params=this.proxyObservable(p,"params"),J.queryParams=this.proxyObservable(p,"queryParams"),J.fragment=this.proxyObservable(p,"fragment"),J.data=this.proxyObservable(p,"data"),J}proxyObservable(p,w){return p.pipe((0,ke.h)(J=>!!J),(0,Me.w)(J=>this.currentActivatedRoute$.pipe((0,ke.h)(st=>null!==st&&st.component===J),(0,Me.w)(st=>st&&st.activatedRoute[w]),(0,Te.x)())))}updateActivatedRouteProxy(p,w){const J=this.proxyMap.get(p);if(!J)throw new Error("Could not find activated route proxy for view");J._futureSnapshot=w._futureSnapshot,J._routerState=w._routerState,J.snapshot=w.snapshot,J.outlet=w.outlet,J.component=w.component,this.currentActivatedRoute$.next({component:p,activatedRoute:w})}}return d.\u0275fac=function(p){return new(p||d)(f.$8M("name"),f.$8M("tabs"),f.Y36(qe.Ye),f.Y36(f.SBq),f.Y36(se.F0),f.Y36(f.R0b),f.Y36(se.gz),f.Y36(d,12))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class Ei{constructor(T,p,w){this.route=T,this.childContexts=p,this.parent=w}get(T,p){return T===se.gz?this.route:T===se.y6?this.childContexts:this.parent.get(T,p)}}const br=new f.OlP("");let Is=(()=>{class d{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){var w;null===(w=this.outletDataSubscriptions.get(p))||void 0===w||w.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:w}=p,J=(0,ne.a)([w.queryParams,w.params,w.data]).pipe((0,Me.w)(([st,Gt,cn],bn)=>(cn={...st,...Gt,...cn},0===bn?(0,Ie.of)(cn):Promise.resolve(cn)))).subscribe(st=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(p);const Gt=(0,f.qFp)(w.component);if(Gt)for(const{templateName:cn}of Gt.inputs)p.activatedComponentRef.setInput(cn,st[cn]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,J)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),ss=(()=>{class d{constructor(p,w,J){this.routerOutlet=p,this.navCtrl=w,this.config=J}onClick(p){var w;const J=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(w=this.routerOutlet)&&void 0!==w&&w.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),p.preventDefault()):null!=J&&(this.navCtrl.navigateBack(J,{animation:this.routerAnimation}),p.preventDefault())}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(Qi,8),f.Y36(ci),f.Y36(xn))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(p,w){1&p&&f.NdJ("click",function(st){return w.onClick(st)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),fs=(()=>{class d{constructor(p,w,J,st,Gt){this.locationStrategy=p,this.navCtrl=w,this.elementRef=J,this.router=st,this.routerLink=Gt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var p;if(null!==(p=this.routerLink)&&void 0!==p&&p.urlTree){const w=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=w}}onClick(p){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),p.preventDefault()}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(qe.S$),f.Y36(ci),f.Y36(f.SBq),f.Y36(se.F0),f.Y36(se.rH,8))},d.\u0275dir=f.lG2({type:d,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(p,w){1&p&&f.NdJ("click",function(st){return w.onClick(st)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.TTD]}),d})(),Ws=(()=>{class d{constructor(p,w,J,st,Gt){this.locationStrategy=p,this.navCtrl=w,this.elementRef=J,this.router=st,this.routerLink=Gt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var p;if(null!==(p=this.routerLink)&&void 0!==p&&p.urlTree){const w=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=w}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return d.\u0275fac=function(p){return new(p||d)(f.Y36(qe.S$),f.Y36(ci),f.Y36(f.SBq),f.Y36(se.F0),f.Y36(se.rH,8))},d.\u0275dir=f.lG2({type:d,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(p,w){1&p&&f.NdJ("click",function(){return w.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.TTD]}),d})();const ra={provide:V.Cf,useExisting:(0,f.Gpc)(()=>er),multi:!0};let er=(()=>{class d extends V.Fd{}return d.\u0275fac=function(){let T;return function(w){return(T||(T=f.n5z(d)))(w||d)}}(),d.\u0275dir=f.lG2({type:d,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(p,w){2&p&&f.uIk("max",w._enabled?w.max:null)},features:[f._Bn([ra]),f.qOj]}),d})();const Ls={provide:V.Cf,useExisting:(0,f.Gpc)(()=>Wi),multi:!0};let Wi=(()=>{class d extends V.qQ{}return d.\u0275fac=function(){let T;return function(w){return(T||(T=f.n5z(d)))(w||d)}}(),d.\u0275dir=f.lG2({type:d,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(p,w){2&p&&f.uIk("min",w._enabled?w.min:null)},features:[f._Bn([Ls]),f.qOj]}),d})();class rr{constructor(T){this.ctrl=T}create(T){return this.ctrl.create(T||{})}dismiss(T,p,w){return this.ctrl.dismiss(T,p,w)}getTop(){return this.ctrl.getTop()}}let Vs=(()=>{class d extends rr{constructor(){super(te.a)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ia=(()=>{class d extends rr{constructor(){super(te.m),this.angularDelegate=(0,f.f3M)(rs),this.injector=(0,f.f3M)(f.zs3),this.environmentInjector=(0,f.f3M)(f.lqb)}create(p){return super.create({...p,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),ei=(()=>{class d extends rr{constructor(){super(te.c),this.angularDelegate=(0,f.f3M)(rs),this.injector=(0,f.f3M)(f.zs3),this.environmentInjector=(0,f.f3M)(f.lqb)}create(p){return super.create({...p,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),Yi=(()=>{class d extends rr{constructor(){super(te.t)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ci=(()=>{class d{create(p){return(0,W.c)(p)}easingTime(p,w,J,st,Gt){return(0,De.g)(p,w,J,st,Gt)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class No{shouldDetach(T){return!1}shouldAttach(T){return!1}store(T,p){}retrieve(T){return null}shouldReuseRoute(T,p){if(T.routeConfig!==p.routeConfig)return!1;const w=T.params,J=p.params,st=Object.keys(w),Gt=Object.keys(J);if(st.length!==Gt.length)return!1;for(const cn of st)if(J[cn]!==w[cn])return!1;return!0}}const qs=(d,T,p)=>()=>{if(T.defaultView&&typeof window<"u"){(0,Ae.s)({...d,_zoneGate:st=>p.run(st)});const J="__zone_symbol__addEventListener"in T.body?"__zone_symbol__addEventListener":"addEventListener";return function $e(){var d=[];if(typeof window<"u"){var T=window;(!T.customElements||T.Element&&(!T.Element.prototype.closest||!T.Element.prototype.matches||!T.Element.prototype.remove||!T.Element.prototype.getRootNode))&&d.push(P.e(6748).then(P.t.bind(P,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||T.NodeList&&!T.NodeList.prototype.forEach||!T.fetch||!function(){try{var w=new URL("b","http://a");return w.pathname="c%20d","http://a/c%20d"===w.href&&w.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&d.push(P.e(2214).then(P.t.bind(P,2668,23)))}return Promise.all(d)}().then(()=>((d,T)=>{if(!(typeof window>"u"))return rt(),(0,Le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),T)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ze,jmp:st=>p.runOutsideAngular(st),ael(st,Gt,cn,bn){st[J](Gt,cn,bn)},rel(st,Gt,cn,bn){st.removeEventListener(Gt,cn,bn)}}))}};let qo=(()=>{class d{static forRoot(p){return{ngModule:d,providers:[{provide:Mn,useValue:p},{provide:f.ip1,useFactory:qs,multi:!0,deps:[Mn,qe.K0,f.R0b]},{provide:br,useFactory:z,deps:[se.F0]}]}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=f.oAB({type:d}),d.\u0275inj=f.cJS({providers:[rs,Ia,ei],imports:[qe.ez]}),d})();function z(d){return null!=d&&d.componentInputBindingEnabled?new Is:null}},7742:(Ct,me,P)=>{"use strict";P.d(me,{N:()=>Z,V:()=>K});var g=P(5861),f=P(5879),V=P(2839),U=P(6593);const Q=["qrcElement"];let K=(()=>{var ne;class Ie{constructor(W,fe){this.renderer=W,this.sanitizer=fe,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new f.vpe,this.context=null}ngOnChanges(){var W=this;return(0,g.Z)(function*(){yield W.createQRCode()})()}isValidQrCodeText(W){return!1===this.allowEmptyString?!(typeof W>"u"||""===W||"null"===W||null===W):!(typeof W>"u")}toDataURL(W){return new Promise((fe,pe)=>{(0,V.hz)(this.qrdata,W,(De,Pe)=>{De?pe(De):fe(Pe)})})}toCanvas(W,fe){return new Promise((pe,De)=>{(0,V.rT)(W,this.qrdata,fe,Pe=>{Pe?De(Pe):pe("success")})})}toSVG(W){return new Promise((fe,pe)=>{(0,V.toString)(this.qrdata,W,(De,Pe)=>{De?pe(De):fe(Pe)})})}renderElement(W){for(const fe of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,fe);this.renderer.appendChild(this.qrcElement.nativeElement,W)}createQRCode(){var W=this;return(0,g.Z)(function*(){W.version&&W.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),W.version=40):W.version&&W.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),W.version=1):void 0!==W.version&&isNaN(W.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),W.version=void 0);try{if(!W.isValidQrCodeText(W.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");W.isValidQrCodeText(W.qrdata)&&""===W.qrdata&&(W.qrdata=" ");const fe={color:{dark:W.colorDark,light:W.colorLight},errorCorrectionLevel:W.errorCorrectionLevel,margin:W.margin,scale:W.scale,version:W.version,width:W.width},pe=W.imageSrc,De=W.imageHeight||40,Pe=W.imageWidth||40;switch(W.elementType){case"canvas":{const Qe=W.renderer.createElement("canvas");W.context=Qe.getContext("2d"),W.toCanvas(Qe,fe).then(()=>{if(W.ariaLabel&&W.renderer.setAttribute(Qe,"aria-label",`${W.ariaLabel}`),W.title&&W.renderer.setAttribute(Qe,"title",`${W.title}`),pe&&W.context){W.centerImage=new Image(Pe,De),pe!==W.centerImage.src&&(W.centerImage.src=pe),De!==W.centerImage.height&&(W.centerImage.height=De),Pe!==W.centerImage.width&&(W.centerImage.width=Pe);const ge=W.centerImage;ge&&(ge.onload=()=>{var Ae;null===(Ae=W.context)||void 0===Ae||Ae.drawImage(ge,Qe.width/2-Pe/2,Qe.height/2-De/2,Pe,De)})}W.renderElement(Qe),W.emitQRCodeURL(Qe)}).catch(ge=>{console.error("[angularx-qrcode] canvas error:",ge)});break}case"svg":{const Qe=W.renderer.createElement("div");W.toSVG(fe).then(ge=>{W.renderer.setProperty(Qe,"innerHTML",ge);const Ae=Qe.firstChild;W.renderer.setAttribute(Ae,"height",`${W.width}`),W.renderer.setAttribute(Ae,"width",`${W.width}`),W.renderElement(Ae),W.emitQRCodeURL(Ae)}).catch(ge=>{console.error("[angularx-qrcode] svg error:",ge)});break}default:{const Qe=W.renderer.createElement("img");W.toDataURL(fe).then(ge=>{W.alt&&Qe.setAttribute("alt",W.alt),W.ariaLabel&&Qe.setAttribute("aria-label",W.ariaLabel),Qe.setAttribute("src",ge),W.title&&Qe.setAttribute("title",W.title),W.renderElement(Qe),W.emitQRCodeURL(Qe)}).catch(ge=>{console.error("[angularx-qrcode] img/url error:",ge)})}}}catch(fe){console.error("[angularx-qrcode] Error generating QR Code:",fe.message)}})()}emitQRCodeURL(W){const fe=W.constructor.name;if(fe===SVGSVGElement.name){const Pe=new Blob([W.outerHTML],{type:"image/svg+xml"}),Qe=URL.createObjectURL(Pe),ge=this.sanitizer.bypassSecurityTrustUrl(Qe);return void this.qrCodeURL.emit(ge)}let pe="";fe===HTMLCanvasElement.name&&(pe=W.toDataURL("image/png")),fe===HTMLImageElement.name&&(pe=W.src),fetch(pe).then(De=>De.blob()).then(De=>URL.createObjectURL(De)).then(De=>this.sanitizer.bypassSecurityTrustUrl(De)).then(De=>{this.qrCodeURL.emit(De)}).catch(De=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+De)})}}return(ne=Ie).\u0275fac=function(W){return new(W||ne)(f.Y36(f.Qsj),f.Y36(U.H7))},ne.\u0275cmp=f.Xpm({type:ne,selectors:[["qrcode"]],viewQuery:function(W,fe){if(1&W&&f.Gf(Q,7),2&W){let pe;f.iGM(pe=f.CRH())&&(fe.qrcElement=pe.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[f.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(W,fe){1&W&&f._UZ(0,"div",null,0),2&W&&f.Tol(fe.cssClass)},encapsulation:2,changeDetection:0}),Ie})(),Z=(()=>{var ne;class Ie{}return(ne=Ie).\u0275fac=function(W){return new(W||ne)},ne.\u0275mod=f.oAB({type:ne}),ne.\u0275inj=f.cJS({}),Ie})()},7142:(Ct,me,P)=>{"use strict";P.d(me,{Z:()=>g.Z});var g=P(3106);g.Z.registerVersion("firebase","10.5.2","app-compat")},8290:(Ct,me,P)=>{"use strict";P.r(me);var g=P(5861),f=P(3106),V=P(9058),U=P(534),Q=P(7879),K=P(7582),Z=P(4537);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pe=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Qe=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new Q.Yd("@firebase/auth");function te(I,...h){je.logLevel<=Q.in.ERROR&&je.error(`Auth (${U.SDK_VERSION}): ${I}`,...h)}function ye(I,...h){throw ke(I,...h)}function Oe(I,...h){return ke(I,...h)}function Le(I,h,_){const D=Object.assign(Object.assign({},Qe()),{[h]:_});return new V.LL("auth","Firebase",D).create(h,{appName:I.name})}function ve(I,h,_){if(!(h instanceof _))throw _.name!==h.constructor.name&&ye(I,"argument-error"),Le(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(I,...h){if("string"!=typeof I){const _=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(_,...D)}return ge.create(I,...h)}function Me(I,h,..._){if(!I)throw ke(h,..._)}function Te(I){const h="INTERNAL ASSERTION FAILED: "+I;throw te(h),new Error(h)}function qe(I,h){I||Te(h)}function $e(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function rt(){return"http:"===$t()||"https:"===$t()}function $t(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class tt{constructor(h,_){this.shortDelay=h,this.longDelay=_,qe(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(I,h){qe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}class we{static initialize(h,_,D){this.fetchImpl=h,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new tt(3e4,6e4);function Ze(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Xe(I,h,_,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(I,h,_,D,G={}){return Ut(I,G,(0,g.Z)(function*(){let le={},We={};D&&("GET"===h?We=D:le={body:JSON.stringify(D)});const ft=(0,V.xO)(Object.assign({key:I.config.apiKey},We)).slice(1),Ft=yield I._getAdditionalHeaders();return Ft["Content-Type"]="application/json",I.languageCode&&(Ft["X-Firebase-Locale"]=I.languageCode),we.fetch()(vt(I,I.config.apiHost,_,ft),Object.assign({method:h,headers:Ft,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Ut(I,h,_){return it.apply(this,arguments)}function it(){return(it=(0,g.Z)(function*(I,h,_){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},be),h);try{const G=new Wt(I),le=yield Promise.race([_(),G.promise]);G.clearNetworkTimeout();const We=yield le.json();if("needConfirmation"in We)throw Xt(I,"account-exists-with-different-credential",We);if(le.ok&&!("errorMessage"in We))return We;{const ft=le.ok?We.errorMessage:We.error.message,[Ft,mn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Xt(I,"credential-already-in-use",We);if("EMAIL_EXISTS"===Ft)throw Xt(I,"email-already-in-use",We);if("USER_DISABLED"===Ft)throw Xt(I,"user-disabled",We);const Nn=D[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw Le(I,Nn,mn);ye(I,Nn)}}catch(G){if(G instanceof V.ZR)throw G;ye(I,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function ut(I,h,_,D){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(I,h,_,D,G={}){const le=yield Xe(I,h,_,D,G);return"mfaPendingCredential"in le&&ye(I,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function vt(I,h,_,D){const G=`${h}${_}?${D}`;return I.config.emulator?he(I.config,G):`${I.config.apiScheme}://${G}`}function It(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Oe(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xt(I,h,_){const D={appName:I.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const G=Oe(I,h,D);return G.customData._tokenResponse=_,G}function dn(I){return void 0!==I&&void 0!==I.getResponse}function fn(I){return void 0!==I&&void 0!==I.enterprise}class qt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===h)return It(_.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Tt(){return(Tt=(0,g.Z)(function*(I){return(yield Xe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qn(I,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(I,h){return Xe(I,"GET","/v2/recaptchaConfig",Ze(I,h))})).apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cr(){return(cr=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Hn(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Cr(){return(Cr=(0,g.Z)(function*(I,h=!1){const _=(0,V.m9)(I),D=yield _.getIdToken(h),G=ii(D);Me(G&&G.exp&&G.auth_time&&G.iat,_.auth,"internal-error");const le="object"==typeof G.firebase?G.firebase:void 0,We=null==le?void 0:le.sign_in_provider;return{claims:G,token:D,authTime:Hn(pr(G.auth_time)),issuedAtTime:Hn(pr(G.iat)),expirationTime:Hn(pr(G.exp)),signInProvider:We||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function pr(I){return 1e3*Number(I)}function ii(I){const[h,_,D]=I.split(".");if(void 0===h||void 0===_||void 0===D)return te("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,V.tV)(_);return G?JSON.parse(G):(te("Failed to decode base64 JWT payload"),null)}catch(G){return te("Caught error parsing JWT payload as JSON",null==G?void 0:G.toString()),null}}function Ti(I,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(I,h,_=!1){if(_)return h;try{return yield h}catch(D){throw D instanceof V.ZR&&function jr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}class _i{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const G=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),D)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&h.schedule(!0))}h.schedule()})()}}class pi{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fr(I){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,g.Z)(function*(I){var h;const _=I.auth,D=yield I.getIdToken(),G=yield Ti(I,function Gr(I,h){return cr.apply(this,arguments)}(_,{idToken:D}));Me(null==G?void 0:G.users.length,_,"internal-error");const le=G.users[0];I._notifyReloadListener(le);const We=null!==(h=le.providerUserInfo)&&void 0!==h&&h.length?function vi(I){return I.map(h=>{var{providerId:_}=h,D=(0,K._T)(h,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(le.providerUserInfo):[],ft=function gi(I,h){return[...I.filter(D=>!h.some(G=>G.providerId===D.providerId)),...h]}(I.providerData,We),Nn=!!I.isAnonymous&&!(I.email&&le.passwordHash||null!=ft&&ft.length),kn={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:ft,metadata:new pi(le.createdAt,le.lastLoginAt),isAnonymous:Nn};Object.assign(I,kn)}),Ai.apply(this,arguments)}function Xi(){return(Xi=(0,g.Z)(function*(I){const h=(0,V.m9)(I);yield Fr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(I,h){const _=yield Ut(I,{},(0,g.Z)(function*(){const D=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:G,apiKey:le}=I.config,We=vt(I,G,"/v1/token",`key=${le}`),ft=yield I._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(We,{method:"POST",headers:ft,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Me(h.idToken,"internal-error"),Me(typeof h.idToken<"u","internal-error"),Me(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Gn(I){const h=ii(I);return Me(h,"internal-error"),Me(typeof h.exp<"u","internal-error"),Me(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}getToken(h,_=!1){var D=this;return(0,g.Z)(function*(){return Me(!D.accessToken||D.refreshToken,h,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var D=this;return(0,g.Z)(function*(){const{accessToken:G,refreshToken:le,expiresIn:We}=yield function Lr(I,h){return Ge.apply(this,arguments)}(h,_);D.updateTokensAndExpiration(G,le,Number(We))})()}updateTokensAndExpiration(h,_,D){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,_){const{refreshToken:D,accessToken:G,expirationTime:le}=_,We=new ie;return D&&(Me("string"==typeof D,"internal-error",{appName:h}),We.refreshToken=D),G&&(Me("string"==typeof G,"internal-error",{appName:h}),We.accessToken=G),le&&(Me("number"==typeof le,"internal-error",{appName:h}),We.expirationTime=le),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return Te("not implemented")}}function re(I,h){Me("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Fe{constructor(h){var{uid:_,auth:D,stsTokenManager:G}=h,le=(0,K._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new pi(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,g.Z)(function*(){const D=yield Ti(_,_.stsTokenManager.getToken(_.auth,h));return Me(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(h){return function Xn(I){return Cr.apply(this,arguments)}(this,h)}reload(){return function Wr(I){return Xi.apply(this,arguments)}(this)}_assign(h){this!==h&&(Me(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new Fe(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,_=!1){var D=this;return(0,g.Z)(function*(){let G=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),G=!0),_&&(yield Fr(D)),yield D.auth._persistUserIfCurrent(D),G&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,g.Z)(function*(){const _=yield h.getIdToken();return yield Ti(h,function fr(I,h){return $r.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var D,G,le,We,ft,Ft,mn,Nn;const kn=null!==(D=_.displayName)&&void 0!==D?D:void 0,Ki=null!==(G=_.email)&&void 0!==G?G:void 0,_a=null!==(le=_.phoneNumber)&&void 0!==le?le:void 0,cu=null!==(We=_.photoURL)&&void 0!==We?We:void 0,sh=null!==(ft=_.tenantId)&&void 0!==ft?ft:void 0,td=null!==(Ft=_._redirectEventId)&&void 0!==Ft?Ft:void 0,Ac=null!==(mn=_.createdAt)&&void 0!==mn?mn:void 0,_l=null!==(Nn=_.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:Hl,emailVerified:Cc,isAnonymous:_s,providerData:zl,stsTokenManager:bc}=_;Me(Hl&&bc,h,"internal-error");const Sc=ie.fromJSON(this.name,bc);Me("string"==typeof Hl,h,"internal-error"),re(kn,h.name),re(Ki,h.name),Me("boolean"==typeof Cc,h,"internal-error"),Me("boolean"==typeof _s,h,"internal-error"),re(_a,h.name),re(cu,h.name),re(sh,h.name),re(td,h.name),re(Ac,h.name),re(_l,h.name);const Po=new Fe({uid:Hl,auth:h,email:Ki,emailVerified:Cc,displayName:kn,isAnonymous:_s,photoURL:cu,phoneNumber:_a,tenantId:sh,stsTokenManager:Sc,createdAt:Ac,lastLoginAt:_l});return zl&&Array.isArray(zl)&&(Po.providerData=zl.map(Gl=>Object.assign({},Gl))),td&&(Po._redirectEventId=td),Po}static _fromIdTokenResponse(h,_,D=!1){return(0,g.Z)(function*(){const G=new ie;G.updateFromServerResponse(_);const le=new Fe({uid:_.localId,auth:h,stsTokenManager:G,isAnonymous:D});return yield Fr(le),le})()}}const ue=new Map;function Ue(I){qe(I instanceof Function,"Expected a class definition");let h=ue.get(I);return h?(qe(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,ue.set(I,h),h)}const Vt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,D){var G=this;return(0,g.Z)(function*(){G.storage[_]=D})()}_get(_){var D=this;return(0,g.Z)(function*(){const G=D.storage[_];return void 0===G?null:G})()}_remove(_){var D=this;return(0,g.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return I.type="NONE",I})();function Zt(I,h,_){return`firebase:${I}:${h}:${_}`}class vn{constructor(h,_,D){this.persistence=h,this.auth=_,this.userKey=D;const{config:G,name:le}=this.auth;this.fullUserKey=Zt(this.userKey,G.apiKey,le),this.fullPersistenceKey=Zt("persistence",G.apiKey,le),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?Fe._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,g.Z)(function*(){if(_.persistence===h)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_,D="authUser"){return(0,g.Z)(function*(){if(!_.length)return new vn(Ue(Vt),h,D);const G=(yield Promise.all(_.map(function(){var mn=(0,g.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let le=G[0]||Ue(Vt);const We=Zt(D,h.config.apiKey,h.name);let ft=null;for(const mn of _)try{const Nn=yield mn._get(We);if(Nn){const kn=Fe._fromJSON(h,Nn);mn!==le&&(ft=kn),le=mn;break}}catch{}const Ft=G.filter(mn=>mn._shouldAllowMigration);return le._shouldAllowMigration&&Ft.length?(le=Ft[0],ft&&(yield le._set(We,ft.toJSON())),yield Promise.all(_.map(function(){var mn=(0,g.Z)(function*(Nn){if(Nn!==le)try{yield Nn._remove(We)}catch{}});return function(Nn){return mn.apply(this,arguments)}}())),new vn(le,h,D)):new vn(le,h,D)})()}}function pn(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Li(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(on(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Dt(h))return"Blackberry";if(at(h))return"Webos";if(Vn(h))return"Safari";if((h.includes("chrome/")||Vr(h))&&!h.includes("edge/"))return"Chrome";if(si(h))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function on(I=(0,V.z$)()){return/firefox\//i.test(I)}function Vn(I=(0,V.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vr(I=(0,V.z$)()){return/crios\//i.test(I)}function Li(I=(0,V.z$)()){return/iemobile/i.test(I)}function si(I=(0,V.z$)()){return/android/i.test(I)}function Dt(I=(0,V.z$)()){return/blackberry/i.test(I)}function at(I=(0,V.z$)()){return/webos/i.test(I)}function Nt(I=(0,V.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Wn(I=(0,V.z$)()){return Nt(I)||si(I)||at(I)||Dt(I)||/windows phone/i.test(I)||Li(I)}function Pr(I,h=[]){let _;switch(I){case"Browser":_=pn((0,V.z$)());break;case"Worker":_=`${pn((0,V.z$)())}-${I}`;break;default:_=I}const D=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${U.SDK_VERSION}/${D}`}class oi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const D=le=>new Promise((We,ft)=>{try{We(h(le))}catch(Ft){ft(Ft)}});D.onAbort=_,this.queue.push(D);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,g.Z)(function*(){if(_.auth.currentUser===h)return;const D=[];try{for(const G of _.queue)yield G(h),G.onAbort&&D.push(G.onAbort)}catch(G){D.reverse();for(const le of D)try{le()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==G?void 0:G.message})}})()}}function or(){return(or=(0,g.Z)(function*(I,h={}){return Xe(I,"GET","/v2/passwordPolicy",Ze(I,h))})).apply(this,arguments)}class ns{constructor(h){var _,D,G,le;const We=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=We.minPasswordLength)&&void 0!==_?_:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(D=h.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(le=h.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=h.schemaVersion}validatePassword(h){var _,D,G,le,We,ft;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Ft),this.validatePasswordCharacterOptions(h,Ft),Ft.isValid&&(Ft.isValid=null===(_=Ft.meetsMinPasswordLength)||void 0===_||_),Ft.isValid&&(Ft.isValid=null===(D=Ft.meetsMaxPasswordLength)||void 0===D||D),Ft.isValid&&(Ft.isValid=null===(G=Ft.containsLowercaseLetter)||void 0===G||G),Ft.isValid&&(Ft.isValid=null===(le=Ft.containsUppercaseLetter)||void 0===le||le),Ft.isValid&&(Ft.isValid=null===(We=Ft.containsNumericCharacter)||void 0===We||We),Ft.isValid&&(Ft.isValid=null===(ft=Ft.containsNonAlphanumericCharacter)||void 0===ft||ft),Ft}validatePasswordLengthOptions(h,_){const D=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;D&&(_.meetsMinPasswordLength=h.length>=D),G&&(_.meetsMaxPasswordLength=h.length<=G)}validatePasswordCharacterOptions(h,_){let D;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let G=0;G<h.length;G++)D=h.charAt(G),this.updatePasswordCharacterOptionsStatuses(_,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(h,_,D,G,le){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=le))}}class Fs{constructor(h,_,D,G){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=D,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(h,_){var D=this;return _&&(this._popupRedirectResolver=Ue(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var G,le;if(!D._deleted&&(D.persistenceManager=yield vn.create(D,h),!D._deleted)){if(null!==(G=D._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(le=D.currentUser)||void 0===le?void 0:le.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUser(h){var _=this;return(0,g.Z)(function*(){var D;const G=yield _.assertedPersistence.getCurrentUser();let le=G,We=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ft=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,Ft=null==le?void 0:le._redirectEventId,mn=yield _.tryRedirectSignIn(h);(!ft||ft===Ft)&&null!=mn&&mn.user&&(le=mn.user,We=!0)}if(!le)return _.directlySetCurrentUser(null);if(!le._redirectEventId){if(We)try{yield _.beforeStateQueue.runMiddleware(le)}catch(ft){le=G,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ft))}return le?_.reloadAndSetCurrentUserOrClear(le):_.directlySetCurrentUser(null)}return Me(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===le._redirectEventId?_.directlySetCurrentUser(le):_.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(h){var _=this;return(0,g.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,g.Z)(function*(){try{yield Fr(h)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function In(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,g.Z)(function*(){const D=h?(0,V.m9)(h):null;return D&&Me(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(h,_=!1){var D=this;return(0,g.Z)(function*(){if(!D._deleted)return h&&Me(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,g.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(Ue(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var _=this;return(0,g.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const D=_._getPasswordPolicyInternal();return D.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,g.Z)(function*(){const _=yield function Xr(I){return or.apply(this,arguments)}(h),D=new ns(_);null===h.tenantId?h._projectPasswordPolicy=D:h._tenantPasswordPolicies[h.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.LL("auth","Firebase",h())}onAuthStateChanged(h,_,D){return this.registerStateListener(this.authStateSubscription,h,_,D)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,D){return this.registerStateListener(this.idTokenSubscription,h,_,D)}authStateReady(){return new Promise((h,_)=>{if(this.currentUser)h();else{const D=this.onAuthStateChanged(()=>{D(),h()},_)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var D=this;return(0,g.Z)(function*(){const G=yield D.getOrInitRedirectPersistenceManager(_);return null===h?G.removeCurrentUser():G.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const D=h&&Ue(h)||_._popupRedirectResolver;Me(D,_,"argument-error"),_.redirectPersistenceManager=yield vn.create(_,[Ue(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,g.Z)(function*(){var D,G;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===h?_._currentUser:(null===(G=_.redirectUser)||void 0===G?void 0:G._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,g.Z)(function*(){if(h===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,D,G){if(this._deleted)return()=>{};const le="function"==typeof _?_:_.next.bind(_);let We=!1;const ft=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(ft,this,"internal-error"),ft.then(()=>{We||le(this.currentUser)}),"function"==typeof _){const Ft=h.addObserver(_,D,G);return()=>{We=!0,Ft()}}{const Ft=h.addObserver(_);return()=>{We=!0,Ft()}}}directlySetCurrentUser(h){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var _;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const G=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();G&&(D["X-Firebase-Client"]=G);const le=yield h._getAppCheckToken();return le&&(D["X-Firebase-AppCheck"]=le),D})()}_getAppCheckToken(){var h=this;return(0,g.Z)(function*(){var _;const D=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=D&&D.error&&function ze(I,...h){je.logLevel<=Q.in.WARN&&je.warn(`Auth (${U.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function xr(I){return(0,V.m9)(I)}class Zi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ai(I){return new Promise((h,_)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=h,D.onerror=G=>{const le=Oe("internal-error");le.customData=G,_(le)},D.type="text/javascript",D.charset="UTF-8",function yi(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(D)})}function ds(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ji{constructor(h){this.type="recaptcha-enterprise",this.auth=xr(h)}verify(h="verify",_=!1){var D=this;return(0,g.Z)(function*(){function le(){return le=(0,g.Z)(function*(ft){if(!_){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var Ft=(0,g.Z)(function*(mn,Nn){Qn(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kn=>{if(void 0!==kn.recaptchaKey){const Ki=new qt(kn);return null==ft.tenantId?ft._agentRecaptchaConfig=Ki:ft._tenantRecaptchaConfigs[ft.tenantId]=Ki,mn(Ki.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(kn=>{Nn(kn)})});return function(mn,Nn){return Ft.apply(this,arguments)}}())}),le.apply(this,arguments)}function We(ft,Ft,mn){const Nn=window.grecaptcha;fn(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(ft,{action:h}).then(kn=>{Ft(kn)}).catch(()=>{Ft("NO_RECAPTCHA")})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,Ft)=>{(function G(ft){return le.apply(this,arguments)})(D.auth).then(mn=>{if(!_&&fn(window.grecaptcha))We(mn,ft,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));ai("https://www.google.com/recaptcha/enterprise.js?render="+mn).then(()=>{We(mn,ft,Ft)}).catch(Nn=>{Ft(Nn)})}}).catch(mn=>{Ft(mn)})})})()}}function qr(I,h,_){return de.apply(this,arguments)}function de(){return(de=(0,g.Z)(function*(I,h,_,D=!1){const G=new ji(I);let le;try{le=yield G.verify(_)}catch{le=yield G.verify(_,!0)}const We=Object.assign({},h);return Object.assign(We,D?{captchaResp:le}:{captchaResponse:le}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function X(I,h,_,D){return Re.apply(this,arguments)}function Re(){return Re=(0,g.Z)(function*(I,h,_,D){var G;if(null!==(G=I._getRecaptchaConfig())&&void 0!==G&&G.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield qr(I,h,_,"getOobCode"===_);return D(I,le)}return D(I,h).catch(function(){var le=(0,g.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ft=yield qr(I,h,_,"getOobCode"===_);return D(I,ft)}return Promise.reject(We)});return function(We){return le.apply(this,arguments)}}())}),Re.apply(this,arguments)}function bt(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function an(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class Mn{constructor(h,_){this.providerId=h,this.signInMethod=_}toJSON(){return Te("not implemented")}_getIdTokenResponse(h){return Te("not implemented")}_linkToIdToken(h,_){return Te("not implemented")}_getReauthenticationResolver(h){return Te("not implemented")}}function Tr(I,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:resetPassword",Ze(I,h))})).apply(this,arguments)}function li(I,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:update",Ze(I,h))})).apply(this,arguments)}function zn(I,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithPassword",Ze(I,h))})).apply(this,arguments)}function mi(I,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:sendOobCode",Ze(I,h))})).apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(I,h){return mi(I,h)})).apply(this,arguments)}function to(I,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(I,h){return mi(I,h)})).apply(this,arguments)}function Gs(I,h){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(I,h){return mi(I,h)})).apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(I,h){return mi(I,h)})).apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithEmailLink",Ze(I,h))})).apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithEmailLink",Ze(I,h))})).apply(this,arguments)}class Jr extends Mn{constructor(h,_,D,G=null){super("password",D),this._email=h,this._password=_,this._tenantId=G}static _fromEmailAndPassword(h,_){return new Jr(h,_,"password")}static _fromEmailAndCode(h,_,D=null){return new Jr(h,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(h){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return X(h,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zn);case"emailLink":return function qn(I,h){return Ir.apply(this,arguments)}(h,{email:_._email,oobCode:_._password});default:ye(h,"internal-error")}})()}_linkToIdToken(h,_){var D=this;return(0,g.Z)(function*(){switch(D.signInMethod){case"password":return li(h,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Bi(I,h){return Hi.apply(this,arguments)}(h,{idToken:_,email:D._email,oobCode:D._password});default:ye(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function zi(I,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithIdp",Ze(I,h))})).apply(this,arguments)}class Ji extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const _=new Ji(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(_.idToken=h.idToken),h.accessToken&&(_.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(_.nonce=h.nonce),h.pendingToken&&(_.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(_.accessToken=h.oauthToken,_.secret=h.oauthTokenSecret):ye("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:G}=_,le=(0,K._T)(_,["providerId","signInMethod"]);if(!D||!G)return null;const We=new Ji(D,G);return We.idToken=le.idToken||void 0,We.accessToken=le.accessToken||void 0,We.secret=le.secret,We.nonce=le.nonce,We.pendingToken=le.pendingToken||null,We}_getIdTokenResponse(h){return zi(h,this.buildRequest())}_linkToIdToken(h,_){const D=this.buildRequest();return D.idToken=_,zi(h,D)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,zi(h,_)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),h.postBody=(0,V.xO)(_)}return h}}function Gi(){return(Gi=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:sendVerificationCode",Ze(I,h))})).apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ze(I,h))})).apply(this,arguments)}function Is(){return(Is=(0,g.Z)(function*(I,h){const _=yield ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ze(I,h));if(_.temporaryProof)throw Xt(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const _r={USER_NOT_FOUND:"user-not-found"};function Ds(){return(Ds=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ze(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),_r)})).apply(this,arguments)}class fs extends Mn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,_){return new fs({verificationId:h,verificationCode:_})}static _fromTokenResponse(h,_){return new fs({phoneNumber:h,temporaryProof:_})}_getIdTokenResponse(h){return function Qi(I,h){return Ei.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,_){return function br(I,h){return Is.apply(this,arguments)}(h,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ss(I,h){return Ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:_,verificationId:D,verificationCode:G}=this.params;return h&&_?{temporaryProof:h,phoneNumber:_}:{sessionInfo:D,code:G}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:_,verificationCode:D,phoneNumber:G,temporaryProof:le}=h;return D||_||G||le?new fs({verificationId:_,verificationCode:D,phoneNumber:G,temporaryProof:le}):null}}class os{constructor(h){var _,D,G,le,We,ft;const Ft=(0,V.zd)((0,V.pd)(h)),mn=null!==(_=Ft.apiKey)&&void 0!==_?_:null,Nn=null!==(D=Ft.oobCode)&&void 0!==D?D:null,kn=function Ws(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Ft.mode)&&void 0!==G?G:null);Me(mn&&Nn&&kn,"argument-error"),this.apiKey=mn,this.operation=kn,this.code=Nn,this.continueUrl=null!==(le=Ft.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(We=Ft.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(ft=Ft.tenantId)&&void 0!==ft?ft:null}static parseLink(h){const _=function Ms(I){const h=(0,V.zd)((0,V.pd)(I)).link,_=h?(0,V.zd)((0,V.pd)(h)).deep_link_id:null,D=(0,V.zd)((0,V.pd)(I)).deep_link_id;return(D?(0,V.zd)((0,V.pd)(D)).link:null)||D||_||h||I}(h);try{return new os(_)}catch{return null}}}let er=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,D){return Jr._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const G=os.parseLink(D);return Me(G,"argument-error"),Jr._fromEmailAndCode(_,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ls{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Wi extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class rr extends Wi{static credentialFromJSON(h){const _="string"==typeof h?JSON.parse(h):h;return Me("providerId"in _&&"signInMethod"in _,"argument-error"),Ji._fromParams(_)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Me(h.idToken||h.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return rr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return rr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:G,pendingToken:le,nonce:We,providerId:ft}=h;if(!D&&!G&&!_&&!le||!ft)return null;try{return new rr(ft)._credential({idToken:_,accessToken:D,nonce:We,pendingToken:le})}catch{return null}}}let qi=(()=>{class I extends Wi{constructor(){super("facebook.com")}static credential(_){return Ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Vs=(()=>{class I extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return Ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:G}=_;if(!D&&!G)return null;try{return I.credential(D,G)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),ro=(()=>{class I extends Wi{constructor(){super("github.com")}static credential(_){return Ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Fi extends Mn{constructor(h,_){super(h,h),this.pendingToken=_}_getIdTokenResponse(h){return zi(h,this.buildRequest())}_linkToIdToken(h,_){const D=this.buildRequest();return D.idToken=_,zi(h,D)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,zi(h,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:G,pendingToken:le}=_;return D&&G&&le&&D===G?new Fi(D,le):null}static _create(h,_){return new Fi(h,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ei extends Ls{constructor(h){Me(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ei.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ei.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const _=Fi.fromJSON(h);return Me(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:_,providerId:D}=h;if(!_||!D)return null;try{return Fi._create(D,_)}catch{return null}}}let Yi=(()=>{class I extends Wi{constructor(){super("twitter.com")}static credential(_,D){return Ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:G}=_;if(!D||!G)return null;try{return I.credential(D,G)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function xo(I,h){return as.apply(this,arguments)}function as(){return(as=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signUp",Ze(I,h))})).apply(this,arguments)}class Ci{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,_,D,G=!1){return(0,g.Z)(function*(){const le=yield Fe._fromIdTokenResponse(h,D,G),We=ls(D);return new Ci({user:le,providerId:We,_tokenResponse:D,operationType:_})})()}static _forOperation(h,_,D){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const G=ls(D);return new Ci({user:h,providerId:G,_tokenResponse:D,operationType:_})})()}}function ls(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function qs(){return(qs=(0,g.Z)(function*(I){var h;const _=xr(I);if(yield _._initializationPromise,null!==(h=_.currentUser)&&void 0!==h&&h.isAnonymous)return new Ci({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield xo(_,{returnSecureToken:!0}),G=yield Ci._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(G.user),G})).apply(this,arguments)}class mo extends V.ZR{constructor(h,_,D,G){var le;super(_.code,_.message),this.operationType=D,this.user=G,Object.setPrototypeOf(this,mo.prototype),this.customData={appName:h.name,tenantId:null!==(le=h.tenantId)&&void 0!==le?le:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,_,D,G){return new mo(h,_,D,G)}}function Ba(I,h,_,D){return("reauthenticate"===h?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?mo._fromErrorAndOperation(I,le,h,D):le})}function qo(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function d(){return d=(0,g.Z)(function*(I,h){const _=(0,V.m9)(I);yield w(!0,_,h);const{providerUserInfo:D}=yield function tn(I,h){return Fn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[h]}),G=qo(D||[]);return _.providerData=_.providerData.filter(le=>G.has(le.providerId)),G.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),d.apply(this,arguments)}function T(I,h){return p.apply(this,arguments)}function p(){return(p=(0,g.Z)(function*(I,h,_=!1){const D=yield Ti(I,h._linkToIdToken(I.auth,yield I.getIdToken()),_);return Ci._forOperation(I,"link",D)})).apply(this,arguments)}function w(I,h,_){return J.apply(this,arguments)}function J(){return(J=(0,g.Z)(function*(I,h,_){yield Fr(h);const G=!1===I?"provider-already-linked":"no-such-provider";Me(qo(h.providerData).has(_)===I,h.auth,G)})).apply(this,arguments)}function st(I,h){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(I,h,_=!1){const{auth:D}=I,G="reauthenticate";try{const le=yield Ti(I,Ba(D,G,h,I),_);Me(le.idToken,D,"internal-error");const We=ii(le.idToken);Me(We,D,"internal-error");const{sub:ft}=We;return Me(I.uid===ft,D,"user-mismatch"),Ci._forOperation(I,G,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&ye(D,"user-mismatch"),le}})).apply(this,arguments)}function cn(I,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(I,h,_=!1){const D="signIn",G=yield Ba(I,D,h),le=yield Ci._fromIdTokenResponse(I,D,G);return _||(yield I._updateCurrentUser(le.user)),le})).apply(this,arguments)}function ur(I,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(I,h){return cn(xr(I),h)})).apply(this,arguments)}function Ys(I,h){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(I,h){const _=(0,V.m9)(I);return yield w(!1,_,h.providerId),T(_,h)})).apply(this,arguments)}function io(I,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(I,h){return st((0,V.m9)(I),h)})).apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(I,h){return ut(I,"POST","/v1/accounts:signInWithCustomToken",Ze(I,h))})).apply(this,arguments)}function bs(){return bs=(0,g.Z)(function*(I,h){const _=xr(I),D=yield function Yo(I,h){return Ko.apply(this,arguments)}(_,{token:h,returnSecureToken:!0}),G=yield Ci._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(G.user),G}),bs.apply(this,arguments)}class Zs{constructor(h,_){this.factorId=h,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(h,_){return"phoneInfo"in _?Zo._fromServerResponse(h,_):"totpInfo"in _?To._fromServerResponse(h,_):ye(h,"internal-error")}}class Zo extends Zs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,_){return new Zo(_)}}class To extends Zs{constructor(h){super("totp",h)}static _fromServerResponse(h,_){return new To(_)}}function ko(I,h,_){var D;Me((null===(D=_.url)||void 0===D?void 0:D.length)>0,I,"invalid-continue-uri"),Me(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=_.url,h.dynamicLinkDomain=_.dynamicLinkDomain,h.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Me(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=_.iOS.bundleId),_.android&&(Me(_.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=_.android.installApp,h.androidMinimumVersionCode=_.android.minimumVersion,h.androidPackageName=_.android.packageName)}function Fo(I){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(I){const h=xr(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(I,h,_){const D=xr(I),G={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};_&&ko(D,G,_),yield X(D,G,"getOobCode",to)})).apply(this,arguments)}function ho(){return ho=(0,g.Z)(function*(I,h,_){yield Tr((0,V.m9)(I),{oobCode:h,newPassword:_}).catch(function(){var D=(0,g.Z)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&Fo(I),G});return function(G){return D.apply(this,arguments)}}())}),ho.apply(this,arguments)}function oa(){return oa=(0,g.Z)(function*(I,h){yield function ci(I,h){return hs.apply(this,arguments)}((0,V.m9)(I),{oobCode:h})}),oa.apply(this,arguments)}function aa(I,h){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(I,h){const _=(0,V.m9)(I),D=yield Tr(_,{oobCode:h}),G=D.requestType;switch(Me(G,_,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(D.mfaInfo,_,"internal-error");default:Me(D.email,_,"internal-error")}let le=null;return D.mfaInfo&&(le=Zs._fromServerResponse(xr(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:le},operation:G}})).apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(I,h){const{data:_}=yield aa((0,V.m9)(I),h);return _.email})).apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(I,h,_){const D=xr(I),We=yield X(D,{returnSecureToken:!0,email:h,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xo).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&Fo(I),Ft}),ft=yield Ci._fromIdTokenResponse(D,"signIn",We);return yield D._updateCurrentUser(ft.user),ft})).apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(I,h,_){const D=xr(I),G={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function le(We,ft){Me(ft.handleCodeInApp,D,"argument-error"),ft&&ko(D,We,ft)})(G,_),yield X(D,G,"getOobCode",Gs)})).apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I),G=er.credentialWithLink(h,_||$e());return Me(G._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),ur(D,G)})).apply(this,arguments)}function $a(){return($a=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:createAuthUri",Ze(I,h))})).apply(this,arguments)}function $s(){return $s=(0,g.Z)(function*(I,h){const D={identifier:h,continueUri:rt()?$e():"http://localhost"},{signinMethods:G}=yield function rl(I,h){return $a.apply(this,arguments)}((0,V.m9)(I),D);return G||[]}),$s.apply(this,arguments)}function la(){return la=(0,g.Z)(function*(I,h){const _=(0,V.m9)(I),G={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&ko(_.auth,G,h);const{email:le}=yield function ki(I,h){return Es.apply(this,arguments)}(_.auth,G);le!==I.email&&(yield I.reload())}),la.apply(this,arguments)}function ca(){return ca=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};_&&ko(D.auth,le,_);const{email:We}=yield function ui(I,h){return en.apply(this,arguments)}(D.auth,le);We!==I.email&&(yield I.reload())}),ca.apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(I,h){return Xe(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ne(){return Ne=(0,g.Z)(function*(I,{displayName:h,photoURL:_}){if(void 0===h&&void 0===_)return;const D=(0,V.m9)(I),le={idToken:yield D.getIdToken(),displayName:h,photoUrl:_,returnSecureToken:!0},We=yield Ti(D,function fo(I,h){return R.apply(this,arguments)}(D.auth,le));D.displayName=We.displayName||null,D.photoURL=We.photoUrl||null;const ft=D.providerData.find(({providerId:Ft})=>"password"===Ft);ft&&(ft.displayName=D.displayName,ft.photoURL=D.photoURL),yield D._updateTokensIfNecessary(We)}),Ne.apply(this,arguments)}function Be(I,h,_){return St.apply(this,arguments)}function St(){return(St=(0,g.Z)(function*(I,h,_){const{auth:D}=I,le={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(le.email=h),_&&(le.password=_);const We=yield Ti(I,li(D,le));yield I._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class En{constructor(h,_,D={}){this.isNewUser=h,this.providerId=_,this.profile=D}}class gr extends En{constructor(h,_,D,G){super(h,_,D),this.username=G}}class tr extends En{constructor(h,_){super(h,"facebook.com",_)}}class Dn extends gr{constructor(h,_){super(h,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class ar extends En{constructor(h,_){super(h,"google.com",_)}}class Hr extends gr{constructor(h,_,D){super(h,"twitter.com",_,D)}}function Ii(I){const{user:h,_tokenResponse:_}=I;return h.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ht(I){var h,_;if(!I)return null;const{providerId:D}=I,G=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},le=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!D&&null!=I&&I.idToken){const We=null===(_=null===(h=ii(I.idToken))||void 0===h?void 0:h.firebase)||void 0===_?void 0:_.sign_in_provider;if(We)return new En(le,"anonymous"!==We&&"custom"!==We?We:null)}if(!D)return null;switch(D){case"facebook.com":return new tr(le,G);case"github.com":return new Dn(le,G);case"google.com":return new ar(le,G);case"twitter.com":return new Hr(le,G,I.screenName||null);case"custom":case"anonymous":return new En(le,null);default:return new En(le,D,G)}}(_)}class yn{constructor(h,_,D){this.type=h,this.credential=_,this.user=D}static _fromIdtoken(h,_){return new yn("enroll",h,_)}static _fromMfaPendingCredential(h){return new yn("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var _,D;if(null!=h&&h.multiFactorSession){if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.pendingCredential)return yn._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(D=h.multiFactorSession)&&void 0!==D&&D.idToken)return yn._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Sn{constructor(h,_,D){this.session=h,this.hints=_,this.signInResolver=D}static _fromError(h,_){const D=xr(h),G=_.customData._serverResponse,le=(G.mfaInfo||[]).map(ft=>Zs._fromServerResponse(D,ft));Me(G.mfaPendingCredential,D,"internal-error");const We=yn._fromMfaPendingCredential(G.mfaPendingCredential);return new Sn(We,le,function(){var ft=(0,g.Z)(function*(Ft){const mn=yield Ft._process(D,We);delete G.mfaInfo,delete G.mfaPendingCredential;const Nn=Object.assign(Object.assign({},G),{idToken:mn.idToken,refreshToken:mn.refreshToken});switch(_.operationType){case"signIn":const kn=yield Ci._fromIdTokenResponse(D,_.operationType,Nn);return yield D._updateCurrentUser(kn.user),kn;case"reauthenticate":return Me(_.user,D,"internal-error"),Ci._forOperation(_.user,_.operationType,Nn);default:ye(D,"internal-error")}});return function(Ft){return ft.apply(this,arguments)}}())}resolveSignIn(h){var _=this;return(0,g.Z)(function*(){return _.signInResolver(h)})()}}class mr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Zs._fromServerResponse(h.auth,D)))})}static _fromUser(h){return new mr(h)}getSession(){var h=this;return(0,g.Z)(function*(){return yn._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,_){var D=this;return(0,g.Z)(function*(){const G=h,le=yield D.getSession(),We=yield Ti(D.user,G._process(D.user.auth,le,_));return yield D.user._updateTokensIfNecessary(We),D.user.reload()})()}unenroll(h){var _=this;return(0,g.Z)(function*(){const D="string"==typeof h?h:h.uid,G=yield _.user.getIdToken();try{const le=yield Ti(_.user,function Di(I,h){return Xe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(I,h))}(_.user.auth,{idToken:G,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:We})=>We!==D),yield _.user._updateTokensIfNecessary(le),yield _.user.reload()}catch(le){throw le}})()}}const Mt=new WeakMap,Yn="__sak";class Rt{constructor(h,_){this.storageRetriever=h,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,_){return this.storage.setItem(h,JSON.stringify(_)),Promise.resolve()}_get(h){const _=this.storage.getItem(h);return Promise.resolve(_?JSON.parse(_):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const mt=(()=>{class I extends Rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xt(){const I=(0,V.z$)();return Vn(I)||Nt(I)}()&&function wr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const G=this.storage.getItem(D),le=this.localCache[D];G!==le&&_(D,le,G)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((ft,Ft,mn)=>{this.notifyListeners(ft,mn)});const G=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(G);if(_.newValue!==ft)null!==_.newValue?this.storage.setItem(G,_.newValue):this.storage.removeItem(G);else if(this.localCache[G]===_.newValue&&!D)return}const le=()=>{const ft=this.storage.getItem(G);!D&&this.localCache[G]===ft||this.notifyListeners(G,ft)},We=this.storage.getItem(G);!function rn(){return(0,V.w1)()&&10===document.documentMode}()||We===_.newValue||_.newValue===_.oldValue?le():setTimeout(le,10)}notifyListeners(_,D){this.localCache[_]=D;const G=this.listeners[_];if(G)for(const le of Array.from(G))le(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var G=()=>super._set,le=this;return(0,g.Z)(function*(){yield G().call(le,_,D),le.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,G=this;return(0,g.Z)(function*(){const le=yield D().call(G,_);return G.localCache[_]=JSON.stringify(le),le})()}_remove(_){var D=()=>super._remove,G=this;return(0,g.Z)(function*(){yield D().call(G,_),delete G.localCache[_]})()}}return I.type="LOCAL",I})(),lr=(()=>{class I extends Rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return I.type="SESSION",I})();let Rn=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(le=>le.isListeningto(_));if(D)return D;const G=new I(_);return this.receivers.push(G),G}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,g.Z)(function*(){const G=_,{eventId:le,eventType:We,data:ft}=G.data,Ft=D.handlersMap[We];if(null==Ft||!Ft.size)return;G.ports[0].postMessage({status:"ack",eventId:le,eventType:We});const mn=Array.from(Ft).map(function(){var kn=(0,g.Z)(function*(Ki){return Ki(G.origin,ft)});return function(Ki){return kn.apply(this,arguments)}}()),Nn=yield function wn(I){return Promise.all(I.map(function(){var h=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return h.apply(this,arguments)}}()))}(mn);G.ports[0].postMessage({status:"done",eventId:le,eventType:We,response:Nn})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function $n(I="",h=10){let _="";for(let D=0;D<h;D++)_+=Math.floor(10*Math.random());return I+_}class vr{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,_,D=50){var G=this;return(0,g.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let We,ft;return new Promise((Ft,mn)=>{const Nn=$n("",20);le.port1.start();const kn=setTimeout(()=>{mn(new Error("unsupported_event"))},D);ft={messageChannel:le,onMessage(Ki){const _a=Ki;if(_a.data.eventId===Nn)switch(_a.data.status){case"ack":clearTimeout(kn),We=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Ft(_a.data.response);break;default:clearTimeout(kn),clearTimeout(We),mn(new Error("invalid_response"))}}},G.handlers.add(ft),le.port1.addEventListener("message",ft.onMessage),G.target.postMessage({eventType:h,eventId:Nn,data:_},[le.port2])}).finally(()=>{ft&&G.removeMessageHandler(ft)})})()}}function Tn(){return window}function di(){return typeof Tn().WorkerGlobalScope<"u"&&"function"==typeof Tn().importScripts}function Sr(){return(Sr=(0,g.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const On="firebaseLocalStorageDb",Os="firebaseLocalStorage",hi="fbase_key";class An{constructor(h){this.request=h}toPromise(){return new Promise((h,_)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ua(I,h){return I.transaction([Os],h?"readwrite":"readonly").objectStore(Os)}function Pu(){const I=indexedDB.open(On,1);return new Promise((h,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(Os,{keyPath:hi})}catch(G){_(G)}}),I.addEventListener("success",(0,g.Z)(function*(){const D=I.result;D.objectStoreNames.contains(Os)?h(D):(D.close(),yield function zr(){const I=indexedDB.deleteDatabase(On);return new An(I).toPromise()}(),h(yield Pu()))}))})}function $i(I,h,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(I,h,_){const D=ua(I,!0).put({[hi]:h,value:_});return new An(D).toPromise()})).apply(this,arguments)}function Rl(){return(Rl=(0,g.Z)(function*(I,h){const _=ua(I,!1).get(h),D=yield new An(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function C(I,h){const _=ua(I,!0).delete(h);return new An(_).toPromise()}const B=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield Pu()),_.db})()}_withRetries(_){var D=this;return(0,g.Z)(function*(){let G=0;for(;;)try{const le=yield D._openDb();return yield _(le)}catch(le){if(G++>3)throw le;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return di()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=Rn._getInstance(function il(){return di()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,g.Z)(function*(G,le){return{keyProcessed:(yield _._poll()).includes(le.key)}});return function(G,le){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,g.Z)(function*(G,le){return["keyChanged"]});return function(G,le){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var D,G;if(_.activeServiceWorker=yield function so(){return Sr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new vr(_.activeServiceWorker);const le=yield _.sender._send("ping",{},800);le&&null!==(D=le[0])&&void 0!==D&&D.fulfilled&&null!==(G=le[0])&&void 0!==G&&G.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,g.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Ts(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Pu();return yield $i(_,Yn,"1"),yield C(_,Yn),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,g.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var G=this;return(0,g.Z)(function*(){return G._withPendingWrite((0,g.Z)(function*(){return yield G._withRetries(le=>$i(le,_,D)),G.localCache[_]=D,G.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,g.Z)(function*(){const G=yield D._withRetries(le=>function sl(I,h){return Rl.apply(this,arguments)}(le,_));return D.localCache[_]=G,G})()}_remove(_){var D=this;return(0,g.Z)(function*(){return D._withPendingWrite((0,g.Z)(function*(){return yield D._withRetries(G=>C(G,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const D=yield _._withRetries(We=>{const ft=ua(We,!1).getAll();return new An(ft).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const G=[],le=new Set;for(const{fbase_key:We,value:ft}of D)le.add(We),JSON.stringify(_.localCache[We])!==JSON.stringify(ft)&&(_.notifyListeners(We,ft),G.push(We));for(const We of Object.keys(_.localCache))_.localCache[We]&&!le.has(We)&&(_.notifyListeners(We,null),G.push(We));return G})()}notifyListeners(_,D){this.localCache[_]=D;const G=this.listeners[_];if(G)for(const le of Array.from(G))le(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),sn=1e12;class Un{constructor(h){this.auth=h,this.counter=sn,this._widgets=new Map}render(h,_){const D=this.counter;return this._widgets.set(D,new bi(h,this.auth.name,_||{})),this.counter++,D}reset(h){var _;const D=h||sn;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(h){var _;return(null===(_=this._widgets.get(h||sn))||void 0===_?void 0:_.getResponse())||""}execute(h){var _=this;return(0,g.Z)(function*(){var D;return null===(D=_._widgets.get(h||sn))||void 0===D||D.execute(),""})()}}class bi{constructor(h,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof h?document.getElementById(h):h;Me(G,"argument-error",{appName:_}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ct(I){const h=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<I;D++)h.push(_.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":_}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kr=ds("rcb"),Kr=new tt(3e4,6e4);class bo{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Tn().grecaptcha)||void 0===h||!h.render)}load(h,_=""){return Me(function oo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),h,"argument-error"),this.shouldResolveImmediately(_)&&dn(Tn().grecaptcha)?Promise.resolve(Tn().grecaptcha):new Promise((D,G)=>{const le=Tn().setTimeout(()=>{G(Oe(h,"network-request-failed"))},Kr.get());Tn()[kr]=()=>{Tn().clearTimeout(le),delete Tn()[kr];const ft=Tn().grecaptcha;if(!ft||!dn(ft))return void G(Oe(h,"internal-error"));const Ft=ft.render;ft.render=(mn,Nn)=>{const kn=Ft(mn,Nn);return this.counter++,kn},this.hostLanguage=_,D(ft)},ai(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:kr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(le),G(Oe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var _;return!(null===(_=Tn().grecaptcha)||void 0===_||!_.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(h){return(0,g.Z)(function*(){return new Un(h)})()}clearedOneInstance(){}}const So="recaptcha",ol={theme:"light",type:"image"};class Mu{constructor(h,_,D=Object.assign({},ol)){this.parameters=D,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xr(h),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof _?document.getElementById(_):_;Me(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new bo,this.validateStartingState()}verify(){var h=this;return(0,g.Z)(function*(){h.assertNotDestroyed();const _=yield h.render(),D=h.getAssertedRecaptcha();return D.getResponse(_)||new Promise(le=>{const We=ft=>{ft&&(h.tokenChangeListeners.delete(We),le(ft))};h.tokenChangeListeners.add(We),h.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof h)h(_);else if("string"==typeof h){const D=Tn()[h];"function"==typeof D&&D(_)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,g.Z)(function*(){if(yield h.init(),!h.widgetId){let _=h.container;if(!h.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}h.widgetId=h.getAssertedRecaptcha().render(_,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,g.Z)(function*(){Me(rt()&&!di(),h.auth,"internal-error"),yield function jp(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const _=yield function sr(I){return Tt.apply(this,arguments)}(h.auth);Me(_,h.auth,"internal-error"),h.parameters.sitekey=_})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class al{constructor(h,_){this.verificationId=h,this.onConfirmation=_}confirm(h){const _=fs._fromVerification(this.verificationId,h);return this.onConfirmation(_)}}function Pl(){return(Pl=(0,g.Z)(function*(I,h,_){const D=xr(I),G=yield Yc(D,h,(0,V.m9)(_));return new al(G,le=>ur(D,le))})).apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I);yield w(!1,D,"phone");const G=yield Yc(D.auth,h,(0,V.m9)(_));return new al(G,le=>Ys(D,le))})).apply(this,arguments)}function Vd(){return(Vd=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I),G=yield Yc(D.auth,h,(0,V.m9)(_));return new al(G,le=>io(D,le))})).apply(this,arguments)}function Yc(I,h,_){return da.apply(this,arguments)}function da(){return da=(0,g.Z)(function*(I,h,_){var D;const G=yield _.verify();try{let le;if(Me("string"==typeof G,I,"argument-error"),Me(_.type===So,I,"argument-error"),le="string"==typeof h?{phoneNumber:h}:h,"session"in le){const We=le.session;if("phoneNumber"in le)return Me("enroll"===We.type,I,"internal-error"),(yield function Ln(I,h){return Xe(I,"POST","/v2/accounts/mfaEnrollment:start",Ze(I,h))}(I,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{Me("signin"===We.type,I,"internal-error");const ft=(null===(D=le.multiFactorHint)||void 0===D?void 0:D.uid)||le.multiFactorUid;return Me(ft,I,"missing-multi-factor-info"),(yield function oe(I,h){return Xe(I,"POST","/v2/accounts/mfaSignIn:start",Ze(I,h))}(I,{mfaPendingCredential:We.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function Zn(I,h){return Gi.apply(this,arguments)}(I,{phoneNumber:le.phoneNumber,recaptchaToken:G});return We}}finally{_._reset()}}),da.apply(this,arguments)}function ll(){return(ll=(0,g.Z)(function*(I,h){yield T((0,V.m9)(I),h)})).apply(this,arguments)}let ba=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=xr(_)}verifyPhoneNumber(_,D){return Yc(this.auth,_,(0,V.m9)(D))}static credential(_,D){return fs._fromVerification(_,D)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:G}=_;return D&&G?fs._fromTokenResponse(D,G):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ml(I,h){return h?Ue(h):(Me(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ol extends Mn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return zi(h,this._buildIdpRequest())}_linkToIdToken(h,_){return zi(h,this._buildIdpRequest(_))}_getReauthenticationResolver(h){return zi(h,this._buildIdpRequest())}_buildIdpRequest(h){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(_.idToken=h),_}}function Bd(I){return cn(I.auth,new Ol(I),I.bypassAuthState)}function xu(I){const{auth:h,user:_}=I;return Me(_,h,"internal-error"),st(_,new Ol(I),I.bypassAuthState)}function o_(I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,g.Z)(function*(I){const{auth:h,user:_}=I;return Me(_,h,"internal-error"),T(_,new Ol(I),I.bypassAuthState)})).apply(this,arguments)}class $d{constructor(h,_,D,G,le=!1){this.auth=h,this.resolver=D,this.user=G,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var h=this;return new Promise(function(){var _=(0,g.Z)(function*(D,G){h.pendingPromise={resolve:D,reject:G};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(le){h.reject(le)}});return function(D,G){return _.apply(this,arguments)}}())}onAuthEvent(h){var _=this;return(0,g.Z)(function*(){const{urlResponse:D,sessionId:G,postBody:le,tenantId:We,error:ft,type:Ft}=h;if(ft)return void _.reject(ft);const mn={auth:_.auth,requestUri:D,sessionId:G,tenantId:We||void 0,postBody:le||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ft)(mn))}catch(Nn){_.reject(Nn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Bd;case"linkViaPopup":case"linkViaRedirect":return o_;case"reauthViaPopup":case"reauthViaRedirect":return xu;default:ye(this.auth,"internal-error")}}resolve(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zp=new tt(2e3,1e4);function Ud(){return(Ud=(0,g.Z)(function*(I,h,_){const D=xr(I);ve(I,h,Ls);const G=Ml(D,_);return new Zc(D,"signInViaPopup",h,G).executeNotNull()})).apply(this,arguments)}function Kc(){return(Kc=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I);ve(D.auth,h,Ls);const G=Ml(D.auth,_);return new Zc(D.auth,"reauthViaPopup",h,G,D).executeNotNull()})).apply(this,arguments)}function sc(){return(sc=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I);ve(D.auth,h,Ls);const G=Ml(D.auth,_);return new Zc(D.auth,"linkViaPopup",h,G,D).executeNotNull()})).apply(this,arguments)}let Zc=(()=>{class I extends $d{constructor(_,D,G,le,We){super(_,D,le,We),this.provider=G,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const D=yield _.execute();return Me(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,g.Z)(function*(){qe(1===_.filter.length,"Popup operations only handle one event");const D=$n();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(G=>{_.reject(G)}),_.resolver._isIframeWebStorageSupported(_.auth,G=>{G||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,G;this.pollId=null!==(G=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,zp.get())};_()}}return I.currentPopupAction=null,I})();const uf="pendingRedirect",oc=new Map;class jd extends $d{constructor(h,_,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,_=this;return(0,g.Z)(function*(){let D=oc.get(_.auth._key());if(!D){try{const le=(yield function Hd(I,h){return Fu.apply(this,arguments)}(_.resolver,_.auth))?yield h().call(_):null;D=()=>Promise.resolve(le)}catch(G){D=()=>Promise.reject(G)}oc.set(_.auth._key(),D)}return _.bypassAuthState||oc.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var _=()=>super.onAuthEvent,D=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return _().call(D,h);if("unknown"!==h.type){if(h.eventId){const G=yield D.auth._redirectUserForId(h.eventId);if(G)return D.user=G,_().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Fu(){return(Fu=(0,g.Z)(function*(I,h){const _=Ui(h),D=Lu(I);if(!(yield D._isAvailable()))return!1;const G="true"===(yield D._get(_));return yield D._remove(_),G})).apply(this,arguments)}function Qc(I,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,g.Z)(function*(I,h){return Lu(I)._set(Ui(h),"true")})).apply(this,arguments)}function Ra(I,h){oc.set(I._key(),h)}function Lu(I){return Ue(I._redirectPersistence)}function Ui(I){return Zt(uf,I.config.apiKey,I.name)}function ul(I,h,_){return function lo(I,h,_){return Dr.apply(this,arguments)}(I,h,_)}function Dr(){return(Dr=(0,g.Z)(function*(I,h,_){const D=xr(I);ve(I,h,Ls),yield D._initializationPromise;const G=Ml(D,_);return yield Qc(G,D),G._openRedirect(D,h,"signInViaRedirect")})).apply(this,arguments)}function df(I,h,_){return function xl(I,h,_){return Js.apply(this,arguments)}(I,h,_)}function Js(){return(Js=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I);ve(D.auth,h,Ls),yield D.auth._initializationPromise;const G=Ml(D.auth,_);yield Qc(G,D.auth);const le=yield Nl(D);return G._openRedirect(D.auth,h,"reauthViaRedirect",le)})).apply(this,arguments)}function hf(I,h,_){return function ff(I,h,_){return ms.apply(this,arguments)}(I,h,_)}function ms(){return(ms=(0,g.Z)(function*(I,h,_){const D=(0,V.m9)(I);ve(D.auth,h,Ls),yield D.auth._initializationPromise;const G=Ml(D.auth,_);yield w(!1,D,h.providerId),yield Qc(G,D.auth);const le=yield Nl(D);return G._openRedirect(D.auth,h,"linkViaRedirect",le)})).apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(I,h){return yield xr(I)._initializationPromise,Ri(I,h,!1)})).apply(this,arguments)}function Ri(I,h){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(I,h,_=!1){const D=xr(I),G=Ml(D,h),We=yield new jd(D,G,_).execute();return We&&!_&&(delete We.user._redirectEventId,yield D._persistUserIfCurrent(We.user),yield D._setRedirectUser(null,h)),We})).apply(this,arguments)}function Nl(I){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(I){const h=$n(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class pf{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(_=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function zd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hl(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=h,_=!0)),_}sendToConsumer(h,_){var D;if(h.error&&!hl(h)){const G=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,G))}else _.onAuthEvent(h)}isEventForConsumer(h,_){const D=null===_.eventId||!!h.eventId&&h.eventId===_.eventId;return _.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dl(h))}saveEventToCache(h){this.cachedEventUids.add(dl(h)),this.lastProcessedEventTime=Date.now()}}function dl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function hl({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===(null==h?void 0:h.code)}function fl(I){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(I,h={}){return Xe(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lo=/^https?/;function pl(){return(pl=(0,g.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield fl(I);for(const _ of h)try{if(Ss(_))return}catch{}ye(I,"unauthorized-domain")})).apply(this,arguments)}function Ss(I){const h=$e(),{protocol:_,hostname:D}=new URL(h);if(I.startsWith("chrome-extension://")){const We=new URL(I);return""===We.hostname&&""===D?"chrome-extension:"===_&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===_&&We.hostname===D}if(!Lo.test(_))return!1;if(Bu.test(I))return D===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(D)}const $u=new tt(3e4,6e4);function ea(){const I=Tn().___jsl;if(null!=I&&I.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Us=null;const Wd=new tt(5e3,15e3),Fl="__/auth/iframe",ja="emulator/auth/iframe",mf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gp(I){const h=I.config;Me(h.authDomain,I,"auth-domain-config-required");const _=h.emulator?he(h,ja):`https://${I.config.authDomain}/${Fl}`,D={apiKey:h.apiKey,appName:I.name,v:U.SDK_VERSION},G=a_.get(I.config.apiHost);G&&(D.eid=G);const le=I._getFrameworks();return le.length&&(D.fw=le.join(",")),`${_}?${(0,V.xO)(D).slice(1)}`}function go(){return go=(0,g.Z)(function*(I){const h=yield function kl(I){return Us=Us||function Gd(I){return new Promise((h,_)=>{var D,G,le;function We(){ea(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ea(),_(Oe(I,"network-request-failed"))},timeout:$u.get()})}if(null!==(G=null===(D=Tn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==G&&G.Iframe)h(gapi.iframes.getContext());else{if(null===(le=Tn().gapi)||void 0===le||!le.load){const ft=ds("iframefcb");return Tn()[ft]=()=>{gapi.load?We():_(Oe(I,"network-request-failed"))},ai(`https://apis.google.com/js/api.js?onload=${ft}`).catch(Ft=>_(Ft))}We()}}).catch(h=>{throw Us=null,h})}(I),Us}(I),_=Tn().gapi;return Me(_,I,"internal-error"),h.open({where:document.body,url:Gp(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mf,dontclear:!0},D=>new Promise(function(){var G=(0,g.Z)(function*(le,We){yield D.restyle({setHideOnLeave:!1});const ft=Oe(I,"network-request-failed"),Ft=Tn().setTimeout(()=>{We(ft)},Wd.get());function mn(){Tn().clearTimeout(Ft),le(D)}D.ping(mn).then(mn,()=>{We(ft)})});return function(le,We){return G.apply(this,arguments)}}()))}),go.apply(this,arguments)}const js={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vf="__/auth/handler",Zr="emulator/auth/handler",Si=encodeURIComponent("fac");function pa(I,h,_,D,G,le){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,g.Z)(function*(I,h,_,D,G,le){Me(I.config.authDomain,I,"auth-domain-config-required"),Me(I.config.apiKey,I,"invalid-api-key");const We={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:D,v:U.SDK_VERSION,eventId:G};if(h instanceof Ls){h.setDefaultLanguage(I.languageCode),We.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||(We.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Nn,kn]of Object.entries(le||{}))We[Nn]=kn}if(h instanceof Wi){const Nn=h.getScopes().filter(kn=>""!==kn);Nn.length>0&&(We.scopes=Nn.join(","))}I.tenantId&&(We.tid=I.tenantId);const ft=We;for(const Nn of Object.keys(ft))void 0===ft[Nn]&&delete ft[Nn];const Ft=yield I._getAppCheckToken(),mn=Ft?`#${Si}=${encodeURIComponent(Ft)}`:"";return`${function lc({config:I}){return I.emulator?he(I,Zr):`https://${I.authDomain}/${vf}`}(I)}?${(0,V.xO)(ft).slice(1)}${mn}`})).apply(this,arguments)}const Uu="webStorageSupport",Yd=class cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=Ri,this._overrideRedirectResult=Ra}_openPopup(h,_,D,G){var le=this;return(0,g.Z)(function*(){var We;qe(null===(We=le.eventManagers[h._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const ft=yield pa(h,_,D,$e(),G);return function Xc(I,h,_,D=500,G=600){const le=Math.max((window.screen.availHeight-G)/2,0).toString(),We=Math.max((window.screen.availWidth-D)/2,0).toString();let ft="";const Ft=Object.assign(Object.assign({},js),{width:D.toString(),height:G.toString(),top:le,left:We}),mn=(0,V.z$)().toLowerCase();_&&(ft=Vr(mn)?"_blank":_),on(mn)&&(h=h||"http://localhost",Ft.scrollbars="yes");const Nn=Object.entries(Ft).reduce((Ki,[_a,cu])=>`${Ki}${_a}=${cu},`,"");if(function Pn(I=(0,V.z$)()){var h;return Nt(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(mn)&&"_self"!==ft)return function qp(I,h){const _=document.createElement("a");_.href=I,_.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(h||"",ft),new qd(null);const kn=window.open(h||"",ft,Nn);Me(kn,I,"popup-blocked");try{kn.focus()}catch{}return new qd(kn)}(h,ft,$n())})()}_openRedirect(h,_,D,G){var le=this;return(0,g.Z)(function*(){return yield le._originValidation(h),function wi(I){Tn().location.href=I}(yield pa(h,_,D,$e(),G)),new Promise(()=>{})})()}_initialize(h){const _=h._key();if(this.eventManagers[_]){const{manager:G,promise:le}=this.eventManagers[_];return G?Promise.resolve(G):(qe(le,"If manager is not set, promise should be"),le)}const D=this.initAndGetManager(h);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(h){var _=this;return(0,g.Z)(function*(){const D=yield function Wp(I){return go.apply(this,arguments)}(h),G=new pf(h);return D.register("authEvent",le=>(Me(null==le?void 0:le.authEvent,h,"invalid-auth-event"),{status:G.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[h._key()]={manager:G},_.iframes[h._key()]=D,G})()}_isIframeWebStorageSupported(h,_){this.iframes[h._key()].send(Uu,{type:Uu},G=>{var le;const We=null===(le=null==G?void 0:G[0])||void 0===le?void 0:le[Uu];void 0!==We&&_(!!We),ye(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const _=h._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gf(I){return pl.apply(this,arguments)}(h)),this.originValidationPromises[_]}get _shouldInitProactively(){return Wn()||Vn()||Nt()}};class Kd{constructor(h){this.factorId=h}_process(h,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(h,_.credential,D);case"signin":return this._finalizeSignIn(h,_.credential);default:return Te("unexpected MultiFactorSessionType")}}}class uc extends Kd{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new uc(h)}_finalizeEnroll(h,_,D){return function Bn(I,h){return Xe(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(I,h))}(h,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,_){return function Ce(I,h){return Xe(I,"POST","/v2/accounts/mfaSignIn:finalize",Ze(I,h))}(h,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ju=(()=>{class I{constructor(){}static assertion(_){return uc._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Vl="@firebase/auth";class l_{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(D=>{h((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ga(){return window}(0,V.Pz)("authIdTokenMaxAge"),function Xd(I){(0,U._registerComponent)(new Z.wA("auth",(h,{options:_})=>{const D=h.getProvider("app").getImmediate(),G=h.getProvider("heartbeat"),le=h.getProvider("app-check-internal"),{apiKey:We,authDomain:ft}=D.options;Me(We&&!We.includes(":"),"invalid-api-key",{appName:D.name});const Ft={apiKey:We,authDomain:ft,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(I)},mn=new Fs(D,G,le,Ft);return function At(I,h){const _=(null==h?void 0:h.persistence)||[],D=(Array.isArray(_)?_:[_]).map(Ue);null!=h&&h.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(D,null==h?void 0:h.popupRedirectResolver)}(mn,_),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,D)=>{h.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Z.wA("auth-internal",h=>{const _=xr(h.getProvider("auth").getImmediate());return new l_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Vl,"1.3.2",function Ef(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,U.registerVersion)(Vl,"1.3.2","esm2017")}("Browser");function Bl(){return Bl=(0,g.Z)(function*(I,h,_){var D;const{BuildInfo:G}=Ga();qe(h.sessionId,"AuthEvent did not contain a session ID");const le=yield function th(I){return qa.apply(this,arguments)}(h.sessionId),We={};return Nt()?We.ibi=G.packageName:si()?We.apn=G.packageName:ye(I,"operation-not-supported-in-this-environment"),G.displayName&&(We.appDisplayName=G.displayName),We.sessionId=le,pa(I,_,h.type,void 0,null!==(D=h.eventId)&&void 0!==D?D:void 0,We)}),Bl.apply(this,arguments)}function Gu(){return(Gu=(0,g.Z)(function*(I){const{BuildInfo:h}=Ga(),_={};Nt()?_.iosBundleId=h.packageName:si()?_.androidPackageName=h.packageName:ye(I,"operation-not-supported-in-this-environment"),yield fl(I,_)})).apply(this,arguments)}function fc(){return(fc=(0,g.Z)(function*(I,h,_){const{cordova:D}=Ga();let G=()=>{};try{yield new Promise((le,We)=>{let ft=null;function Ft(){var kn;le();const Ki=null===(kn=D.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof Ki&&Ki(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function mn(){ft||(ft=window.setTimeout(()=>{We(Oe(I,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===(null==document?void 0:document.visibilityState)&&mn()}h.addPassiveListener(Ft),document.addEventListener("resume",mn,!1),si()&&document.addEventListener("visibilitychange",Nn,!1),G=()=>{h.removePassiveListener(Ft),document.removeEventListener("resume",mn,!1),document.removeEventListener("visibilitychange",Nn,!1),ft&&window.clearTimeout(ft)}})}finally{G()}})).apply(this,arguments)}function qa(){return(qa=(0,g.Z)(function*(I){const h=function Kp(I){if(qe(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const h=new ArrayBuffer(I.length),_=new Uint8Array(h);for(let D=0;D<I.length;D++)_[D]=I.charCodeAt(D);return _}(I),_=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(_)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Wu extends pf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(h)),super.onEvent(h)}initialized(){var h=this;return(0,g.Z)(function*(){yield h.initPromise})()}}function Df(I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(I){const h=yield ru()._get(gl(I));return h&&(yield ru()._remove(gl(I))),h})).apply(this,arguments)}function Io(){const I=[];for(let _=0;_<20;_++){const D=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(D))}return I.join("")}function ru(){return Ue(mt)}function gl(I){return Zt("authEvent",I.config.apiKey,I.name)}function pc(I){if(null==I||!I.includes("?"))return{};const[h,..._]=I.split("?");return(0,V.zd)(_.join("?"))}const Ku=class Yu{constructor(){this._redirectPersistence=lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ri,this._overrideRedirectResult=Ra}_initialize(h){var _=this;return(0,g.Z)(function*(){const D=h._key();let G=_.eventManagers.get(D);return G||(G=new Wu(h),_.eventManagers.set(D,G),_.attachCallbackListeners(h,G)),G})()}_openPopup(h){ye(h,"operation-not-supported-in-this-environment")}_openRedirect(h,_,D,G){var le=this;return(0,g.Z)(function*(){!function If(I){var h,_,D,G,le,We,ft,Ft,mn,Nn;const kn=Ga();Me("function"==typeof(null===(h=null==kn?void 0:kn.universalLinks)||void 0===h?void 0:h.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof(null===(_=null==kn?void 0:kn.BuildInfo)||void 0===_?void 0:_.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(le=null===(G=null===(D=null==kn?void 0:kn.cordova)||void 0===D?void 0:D.plugins)||void 0===G?void 0:G.browsertab)||void 0===le?void 0:le.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Ft=null===(ft=null===(We=null==kn?void 0:kn.cordova)||void 0===We?void 0:We.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===Ft?void 0:Ft.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Nn=null===(mn=null==kn?void 0:kn.cordova)||void 0===mn?void 0:mn.InAppBrowser)||void 0===Nn?void 0:Nn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const We=yield le._initialize(h);yield We.initialized(),We.resetRedirect(),function cl(){oc.clear()}(),yield le._originValidation(h);const ft=function Zp(I,h,_=null){return{type:h,eventId:_,urlResponse:null,sessionId:Io(),postBody:null,tenantId:I.tenantId,error:Oe(I,"no-auth-event")}}(h,D,G);yield function Qp(I,h){return ru()._set(gl(I),h)}(h,ft);const Ft=yield function Jd(I,h,_){return Bl.apply(this,arguments)}(h,ft,_),mn=yield function hc(I){const{cordova:h}=Ga();return new Promise(_=>{h.plugins.browsertab.isAvailable(D=>{let G=null;D?h.plugins.browsertab.openUrl(I):G=h.InAppBrowser.open(I,function gn(I=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_(G)})})}(Ft);return function Eo(I,h,_){return fc.apply(this,arguments)}(h,We,mn)})()}_isIframeWebStorageSupported(h,_){throw new Error("Method not implemented.")}_originValidation(h){const _=h._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function eh(I){return Gu.apply(this,arguments)}(h)),this.originValidationPromises[_]}attachCallbackListeners(h,_){const{universalLinks:D,handleOpenURL:G,BuildInfo:le}=Ga(),We=setTimeout((0,g.Z)(function*(){yield Df(h),_.onEvent(Ar())}),500),ft=function(){var Nn=(0,g.Z)(function*(kn){clearTimeout(We);const Ki=yield Df(h);let _a=null;Ki&&null!=kn&&kn.url&&(_a=function qu(I,h){var _,D;const G=function ga(I){const h=pc(I),_=h.link?decodeURIComponent(h.link):void 0,D=pc(_).link,G=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return pc(G).link||G||D||_||I}(h);if(G.includes("/__/auth/callback")){const le=pc(G),We=le.firebaseError?function $l(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,ft=null===(D=null===(_=null==We?void 0:We.code)||void 0===_?void 0:_.split("auth/"))||void 0===D?void 0:D[1],Ft=ft?Oe(ft):null;return Ft?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(Ki,kn.url)),_.onEvent(_a||Ar())});return function(Ki){return Nn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,ft);const Ft=G,mn=`${le.packageName.toLowerCase()}://`;Ga().handleOpenURL=function(){var Nn=(0,g.Z)(function*(kn){if(kn.toLowerCase().startsWith(mn)&&ft({url:kn}),"function"==typeof Ft)try{Ft(kn)}catch(Ki){console.error(Ki)}});return function(kn){return Nn.apply(this,arguments)}}()}};function Ar(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function gc(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function wf(I=(0,V.z$)()){return!("file:"!==gc()&&"ionic:"!==gc()&&"capacitor:"!==gc()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function iu(){try{const I=self.localStorage,h=$n();if(I)return I.setItem(h,"1"),I.removeItem(h),!function xs(I=(0,V.z$)()){return function Af(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function mc(I=(0,V.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,V.hl)()}catch{return Pa()&&(0,V.hl)()}return!1}function Pa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _c(){return(function Qu(){return"http:"===gc()||"https:"===gc()}()||(0,V.ru)()||wf())&&!function Tf(){return(0,V.b$)()||(0,V.UG)()}()&&iu()&&!Pa()}function As(){return wf()&&typeof document<"u"}function su(){return(su=(0,g.Z)(function*(){return!!As()&&new Promise(I=>{const h=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),I(!0)})})})).apply(this,arguments)}const Vo={LOCAL:"local",NONE:"none",SESSION:"session"},Ec=Me,ts="persistence";function Ic(I){return au.apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(I){yield I._initializationPromise;const h=Dc(),_=Zt(ts,I.config.apiKey,I.name);h&&h.setItem(_,I._getPersistence())})).apply(this,arguments)}function Dc(){var I;try{return(null===(I=function yc(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const ih=Me;class ma{constructor(){this.browserResolver=Ue(Yd),this.cordovaResolver=Ue(Ku),this.underlyingResolver=null,this._redirectPersistence=lr,this._completeRedirectFn=Ri,this._overrideRedirectResult=Ra}_initialize(h){var _=this;return(0,g.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,_,D,G){var le=this;return(0,g.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(h,_,D,G)})()}_openRedirect(h,_,D,G){var le=this;return(0,g.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(h,_,D,G)})()}_isIframeWebStorageSupported(h,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,_)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return As()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ih(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,g.Z)(function*(){if(h.underlyingResolver)return;const _=yield function vc(){return su.apply(this,arguments)}();h.underlyingResolver=_?h.cordovaResolver:h.browserResolver})()}}function Ul(I){return I.unwrap()}function Cf(I){return Xu(I)}function Xu(I){const{_tokenResponse:h}=I instanceof V.ZR?I.customData:I;if(!h)return null;if(!(I instanceof V.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ba.credentialFromResult(I);const _=h.providerId;if(!_||_===Ie.PASSWORD)return null;let D;switch(_){case Ie.GOOGLE:D=Vs;break;case Ie.FACEBOOK:D=qi;break;case Ie.GITHUB:D=ro;break;case Ie.TWITTER:D=Yi;break;default:const{oauthIdToken:G,oauthAccessToken:le,oauthTokenSecret:We,pendingToken:ft,nonce:Ft}=h;return le||We||G||ft?ft?_.startsWith("saml.")?Fi._create(_,ft):Ji._fromParams({providerId:_,signInMethod:_,pendingToken:ft,idToken:G,accessToken:le}):new rr(_).credential({idToken:G,accessToken:le,rawNonce:Ft}):null}return I instanceof V.ZR?D.credentialFromError(I):D.credentialFromResult(I)}function Ns(I,h){return h.catch(_=>{throw _ instanceof V.ZR&&function bf(I,h){var _;const D=null===(_=h.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Tc(I,function Cn(I,h){var _;const D=(0,V.m9)(I),G=h;return Me(h.customData.operationType,D,"argument-error"),Me(null===(_=G.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),Sn._fromError(D,G)}(I,h));else if(D){const G=Xu(h),le=h;G&&(le.credential=G,le.tenantId=D.tenantId||void 0,le.email=D.email||void 0,le.phoneNumber=D.phoneNumber||void 0)}}(I,_),_}).then(_=>{const G=_.user;return{operationType:_.operationType,credential:Cf(_),additionalUserInfo:Ii(_),user:ta.getOrCreate(G)}})}function wc(I,h){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,g.Z)(function*(I,h){const _=yield h;return{verificationId:_.verificationId,confirm:D=>Ns(I,_.confirm(D))}})).apply(this,arguments)}class Tc{constructor(h,_){this.resolver=_,this.auth=function Bo(I){return I.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ns(Ul(this.auth),this.resolver.resolveSignIn(h))}}class ta{constructor(h){this._delegate=h,this.multiFactor=function Mr(I){const h=(0,V.m9)(I);return Mt.has(h)||Mt.set(h,mr._fromUser(h)),Mt.get(h)}(h)}static getOrCreate(h){return ta.USER_MAP.has(h)||ta.USER_MAP.set(h,new ta(h)),ta.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var _=this;return(0,g.Z)(function*(){return Ns(_.auth,Ys(_._delegate,h))})()}linkWithPhoneNumber(h,_){var D=this;return(0,g.Z)(function*(){return wc(D.auth,function Ou(I,h,_){return ic.apply(this,arguments)}(D._delegate,h,_))})()}linkWithPopup(h){var _=this;return(0,g.Z)(function*(){return Ns(_.auth,function cf(I,h,_){return sc.apply(this,arguments)}(_._delegate,h,ma))})()}linkWithRedirect(h){var _=this;return(0,g.Z)(function*(){return yield Ic(xr(_.auth)),hf(_._delegate,h,ma)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var _=this;return(0,g.Z)(function*(){return Ns(_.auth,io(_._delegate,h))})()}reauthenticateWithPhoneNumber(h,_){return wc(this.auth,function vo(I,h,_){return Vd.apply(this,arguments)}(this._delegate,h,_))}reauthenticateWithPopup(h){return Ns(this.auth,function ku(I,h,_){return Kc.apply(this,arguments)}(this._delegate,h,ma))}reauthenticateWithRedirect(h){var _=this;return(0,g.Z)(function*(){return yield Ic(xr(_.auth)),df(_._delegate,h,ma)})()}sendEmailVerification(h){return function rc(I,h){return la.apply(this,arguments)}(this._delegate,h)}unlink(h){var _=this;return(0,g.Z)(function*(){return yield function z(I,h){return d.apply(this,arguments)}(_._delegate,h),_})()}updateEmail(h){return function $(I,h){return Be((0,V.m9)(I),h,null)}(this._delegate,h)}updatePassword(h){return function _e(I,h){return Be((0,V.m9)(I),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Hp(I,h){return ll.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function j(I,h){return Ne.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,_){return function Xo(I,h,_){return ca.apply(this,arguments)}(this._delegate,h,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ta.USER_MAP=new WeakMap;const jl=Me;let lu=(()=>{class I{constructor(_,D){if(this.app=_,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=_.options;jl(G,"invalid-api-key",{appName:_.name}),jl(G,"invalid-api-key",{appName:_.name});const le=typeof window<"u"?ma:void 0;this._delegate=D.initialize({options:{persistence:fi(G,_.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ta.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,D){!function Pt(I,h,_){const D=xr(I);Me(D._canInitEmulator,D,"emulator-config-failed"),Me(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const G=!(null==_||!_.disableWarnings),le=bt(h),{host:We,port:ft}=function Bt(I){const h=bt(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(D);if(G){const le=G[1];return{host:le,port:an(D.substr(le.length+1))}}{const[le,We]=D.split(":");return{host:le,port:an(We)}}}(h);D.config.emulator={url:`${le}//${We}${null===ft?"":`:${ft}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:We,port:ft,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function xn(){function I(){const h=document.createElement("p"),_=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,_,D)}applyActionCode(_){return function es(I,h){return oa.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return aa(this._delegate,_)}confirmPasswordReset(_,D){return function Qs(I,h,_){return ho.apply(this,arguments)}(this._delegate,_,D)}createUserWithEmailAndPassword(_,D){var G=this;return(0,g.Z)(function*(){return Ns(G._delegate,function el(I,h,_){return tl.apply(this,arguments)}(G._delegate,_,D))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Ua(I,h){return $s.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Co(I,h){const _=os.parseLink(h);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,g.Z)(function*(){jl(_c(),_._delegate,"operation-not-supported-in-this-environment");const D=yield function ac(I,h){return yo.apply(this,arguments)}(_._delegate,ma);return D?Ns(_._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Xp(I,h){xr(I)._logFramework(h)}(this._delegate,_)}onAuthStateChanged(_,D,G){const{next:le,error:We,complete:ft}=Rs(_,D,G);return this._delegate.onAuthStateChanged(le,We,ft)}onIdTokenChanged(_,D,G){const{next:le,error:We,complete:ft}=Rs(_,D,G);return this._delegate.onIdTokenChanged(le,We,ft)}sendSignInLinkToEmail(_,D){return function wa(I,h,_){return Ta.apply(this,arguments)}(this._delegate,_,D)}sendPasswordResetEmail(_,D){return function sa(I,h,_){return Ao.apply(this,arguments)}(this._delegate,_,D||void 0)}setPersistence(_){var D=this;return(0,g.Z)(function*(){let G;switch(function ou(I,h){Ec(Object.values(Vo).includes(h),I,"invalid-persistence-type"),(0,V.b$)()?Ec(h!==Vo.SESSION,I,"unsupported-persistence-type"):(0,V.UG)()?Ec(h===Vo.NONE,I,"unsupported-persistence-type"):Pa()?Ec(h===Vo.NONE||h===Vo.LOCAL&&(0,V.hl)(),I,"unsupported-persistence-type"):Ec(h===Vo.NONE||iu(),I,"unsupported-persistence-type")}(D._delegate,_),_){case Vo.SESSION:G=lr;break;case Vo.LOCAL:G=(yield Ue(B)._isAvailable())?B:mt;break;case Vo.NONE:G=Vt;break;default:return ye("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Ns(this._delegate,function No(I){return qs.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Ns(this._delegate,ur(this._delegate,_))}signInWithCustomToken(_){return Ns(this._delegate,function _o(I,h){return bs.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,D){return Ns(this._delegate,function Da(I,h,_){return ur((0,V.m9)(I),er.credential(h,_)).catch(function(){var D=(0,g.Z)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&Fo(I),G});return function(G){return D.apply(this,arguments)}}())}(this._delegate,_,D))}signInWithEmailLink(_,D){return Ns(this._delegate,function nl(I,h,_){return Sl.apply(this,arguments)}(this._delegate,_,D))}signInWithPhoneNumber(_,D){return wc(this._delegate,function ao(I,h,_){return Pl.apply(this,arguments)}(this._delegate,_,D))}signInWithPopup(_){var D=this;return(0,g.Z)(function*(){return jl(_c(),D._delegate,"operation-not-supported-in-this-environment"),Ns(D._delegate,function Sa(I,h,_){return Ud.apply(this,arguments)}(D._delegate,_,ma))})()}signInWithRedirect(_){var D=this;return(0,g.Z)(function*(){return jl(_c(),D._delegate,"operation-not-supported-in-this-environment"),yield Ic(D._delegate),ul(D._delegate,_,ma)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Ja(I,h){return ws.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Vo,I})();function Rs(I,h,_){let D=I;"function"!=typeof I&&({next:D,error:h,complete:_}=I);const G=D;return{next:We=>G(We&&ta.getOrCreate(We)),error:h,complete:_}}function fi(I,h){const _=function Jp(I,h){const _=Dc();if(!_)return[];const D=Zt(ts,I,h);switch(_.getItem(D)){case Vo.NONE:return[Vt];case Vo.LOCAL:return[B,lr];case Vo.SESSION:return[lr];default:return[]}}(I,h);if(typeof self<"u"&&!_.includes(B)&&_.push(B),typeof window<"u")for(const D of[mt,lr])_.includes(D)||_.push(D);return _.includes(Vt)||_.push(Vt),_}class Ju{constructor(){this.providerId="phone",this._delegate=new ba(Ul(f.Z.auth()))}static credential(h,_){return ba.credential(h,_)}verifyPhoneNumber(h,_){return this._delegate.verifyPhoneNumber(h,_)}unwrap(){return this._delegate}}Ju.PHONE_SIGN_IN_METHOD=ba.PHONE_SIGN_IN_METHOD,Ju.PROVIDER_ID=ba.PROVIDER_ID;const Sf=Me;class ed{constructor(h,_,D=f.Z.app()){var G;Sf(null===(G=D.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Mu(D.auth(),h,_),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Pf(I){I.INTERNAL.registerComponent(new Z.wA("auth-compat",h=>{const _=h.getProvider("app-compat").getImmediate(),D=h.getProvider("auth");return new lu(_,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:er,FacebookAuthProvider:qi,GithubAuthProvider:ro,GoogleAuthProvider:Vs,OAuthProvider:rr,SAMLAuthProvider:ei,PhoneAuthProvider:Ju,PhoneMultiFactorGenerator:ju,RecaptchaVerifier:ed,TwitterAuthProvider:Yi,Auth:lu,AuthCredential:Mn,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.8")}(f.Z)},5861:(Ct,me,P)=>{"use strict";function g(V,U,Q,K,Z,ne,Ie){try{var se=V[ne](Ie),W=se.value}catch(fe){return void Q(fe)}se.done?U(W):Promise.resolve(W).then(K,Z)}function f(V){return function(){var U=this,Q=arguments;return new Promise(function(K,Z){var ne=V.apply(U,Q);function Ie(W){g(ne,K,Z,Ie,se,"next",W)}function se(W){g(ne,K,Z,Ie,se,"throw",W)}Ie(void 0)})}}P.d(me,{Z:()=>f})},1180:(Ct,me,P)=>{"use strict";function g(Q){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(Q)}function U(Q,K,Z){return(K=function V(Q){var K=function f(Q,K){if("object"!==g(Q)||null===Q)return Q;var Z=Q[Symbol.toPrimitive];if(void 0!==Z){var ne=Z.call(Q,K||"default");if("object"!==g(ne))return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===K?String:Number)(Q)}(Q,"string");return"symbol"===g(K)?K:String(K)}(K))in Q?Object.defineProperty(Q,K,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Q[K]=Z,Q}P.d(me,{Z:()=>U})},7582:(Ct,me,P)=>{"use strict";function U(he,we){var be={};for(var Ye in he)Object.prototype.hasOwnProperty.call(he,Ye)&&we.indexOf(Ye)<0&&(be[Ye]=he[Ye]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Ye=Object.getOwnPropertySymbols(he);Ze<Ye.length;Ze++)we.indexOf(Ye[Ze])<0&&Object.prototype.propertyIsEnumerable.call(he,Ye[Ze])&&(be[Ye[Ze]]=he[Ye[Ze]])}return be}function Q(he,we,be,Ye){var Lt,Ze=arguments.length,Xe=Ze<3?we:null===Ye?Ye=Object.getOwnPropertyDescriptor(we,be):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(he,we,be,Ye);else for(var Ut=he.length-1;Ut>=0;Ut--)(Lt=he[Ut])&&(Xe=(Ze<3?Lt(Xe):Ze>3?Lt(we,be,Xe):Lt(we,be))||Xe);return Ze>3&&Xe&&Object.defineProperty(we,be,Xe),Xe}function fe(he,we,be,Ye){return new(be||(be=Promise))(function(Xe,Lt){function Ut(dt){try{ut(Ye.next(dt))}catch(vt){Lt(vt)}}function it(dt){try{ut(Ye.throw(dt))}catch(vt){Lt(vt)}}function ut(dt){dt.done?Xe(dt.value):function Ze(Xe){return Xe instanceof be?Xe:new be(function(Lt){Lt(Xe)})}(dt.value).then(Ut,it)}ut((Ye=Ye.apply(he,we||[])).next())})}function te(he){return this instanceof te?(this.v=he,this):new te(he)}function ye(he,we,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Ye=be.apply(he,we||[]),Xe=[];return Ze={},Lt("next"),Lt("throw"),Lt("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Lt(It){Ye[It]&&(Ze[It]=function(Wt){return new Promise(function(Xt,dn){Xe.push([It,Wt,Xt,dn])>1||Ut(It,Wt)})})}function Ut(It,Wt){try{!function it(It){It.value instanceof te?Promise.resolve(It.value.v).then(ut,dt):vt(Xe[0][2],It)}(Ye[It](Wt))}catch(Xt){vt(Xe[0][3],Xt)}}function ut(It){Ut("next",It)}function dt(It){Ut("throw",It)}function vt(It,Wt){It(Wt),Xe.shift(),Xe.length&&Ut(Xe[0][0],Xe[0][1])}}function Le(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,we=he[Symbol.asyncIterator];return we?we.call(he):(he=function Qe(he){var we="function"==typeof Symbol&&Symbol.iterator,be=we&&he[we],Ye=0;if(be)return be.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Ye>=he.length&&(he=void 0),{value:he&&he[Ye++],done:!he}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),be={},Ye("next"),Ye("throw"),Ye("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ye(Xe){be[Xe]=he[Xe]&&function(Lt){return new Promise(function(Ut,it){!function Ze(Xe,Lt,Ut,it){Promise.resolve(it).then(function(ut){Xe({value:ut,done:Ut})},Lt)}(Ut,it,(Lt=he[Xe](Lt)).done,Lt.value)})}}}P.d(me,{FC:()=>ye,KL:()=>Le,_T:()=>U,gn:()=>Q,mG:()=>fe,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},Ct=>{Ct(Ct.s=4143)}]);